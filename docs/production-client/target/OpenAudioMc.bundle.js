!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(e){return t[e]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=350)}([function(t,e,n){"use strict";(function(t){function r(t,e,{allOwnKeys:n=!1}={}){if(null==t)return;let r,i;if("object"!=typeof t&&(t=[t]),h(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let s;for(r=0;r<o;r++)s=i[r],e.call(null,t[s],s,t)}}function i(t,e){e=e.toLowerCase();const n=Object.keys(t);for(let t,r=n.length;0<r--;)if(t=n[r],e===t.toLowerCase())return t;return null}var o=n(66);const{toString:s}=Object.prototype,{getPrototypeOf:a}=Object,u=(t=>e=>{const n=s.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),c=t=>(t=t.toLowerCase(),e=>u(e)===t),l=t=>e=>typeof e===t,{isArray:h}=Array,f=l("undefined"),d=c("ArrayBuffer"),p=l("string"),g=l("function"),m=l("number"),y=t=>null!==t&&"object"==typeof t,v=t=>{if("object"!==u(t))return!1;const e=a(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},b=c("Date"),w=c("File"),S=c("Blob"),E=c("FileList"),x=c("URLSearchParams"),M="undefined"==typeof self?void 0===t?void 0:t:self,O=t=>!f(t)&&t!==M,A=(t=>e=>t&&e instanceof t)("undefined"!=typeof Uint8Array&&a(Uint8Array)),k=c("HTMLFormElement"),T=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),_=c("RegExp"),C=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};r(n,(n,r)=>{!1!==e(n,r,t)&&(i[r]=n)}),Object.defineProperties(t,i)};e.a={isArray:h,isArrayBuffer:d,isBuffer:function(t){return null!==t&&!f(t)&&null!==t.constructor&&!f(t.constructor)&&g(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{const e="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||s.call(t)===e||g(t.toString)&&t.toString()===e)},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&d(t.buffer),e},isString:p,isNumber:m,isBoolean:t=>!0===t||!1===t,isObject:y,isPlainObject:v,isUndefined:f,isDate:b,isFile:w,isBlob:S,isRegExp:_,isFunction:g,isStream:t=>y(t)&&g(t.pipe),isURLSearchParams:x,isTypedArray:A,isFileList:E,forEach:r,merge:function t(){const{caseless:e}=O(this)&&this||{},n={},o=(r,o)=>{const s=e&&i(n,o)||o;n[s]=v(n[s])&&v(r)?t(n[s],r):v(r)?t({},r):h(r)?r.slice():r};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&r(arguments[t],o);return n},extend:(t,e,n,{allOwnKeys:i}={})=>(r(e,(e,r)=>{t[r]=n&&g(e)?Object(o.a)(e,n):e},{allOwnKeys:i}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,r)=>{let i,o,s;const u={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;0<o--;)s=i[o],r&&!r(s,t,e)||u[s]||(e[s]=t[s],u[s]=!0);t=!1!==n&&a(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:u,kindOfTest:c,endsWith:(t,e,n)=>{t+="",(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if(h(t))return t;let e=t.length;if(!m(e))return null;const n=Array(e);for(;0<e--;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);for(let r;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:k,hasOwnProperty:T,hasOwnProp:T,reduceDescriptors:C,freezeMethods:t=>{C(t,(e,n)=>{if(g(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];return g(r)?(e.enumerable=!1,"writable"in e?void(e.writable=!1):void(!e.set&&(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))):void 0})},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach(t=>{n[t]=!0})};return h(t)?r(t):r((t+"").split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e),findKey:i,global:M,isContextDefined:O,toJSONObject:t=>{const e=Array(10),n=(t,i)=>{if(y(t)){if(0<=e.indexOf(t))return;if(!("toJSON"in t)){e[i]=t;const o=h(t)?[]:{};return r(t,(t,e)=>{const r=n(t,i+1);f(r)||(o[e]=r)}),e[i]=void 0,o}}return t};return n(t,0)}}}).call(this,n(95))},function(t,e,n){var r=n(3),i=n(9),o=n(16),s=n(13),a=n(19),u="prototype",c=function(t,e,n){var l,h,f,d,p=t&c.F,g=t&c.G,m=t&c.S,y=t&c.P,v=t&c.B,b=g?r:m?r[e]||(r[e]={}):(r[e]||{})[u],w=g?i:i[e]||(i[e]={}),S=w[u]||(w[u]={});for(l in g&&(n=e),n)f=((h=!p&&b&&void 0!==b[l])?b:n)[l],d=v&&h?a(f,r):y&&"function"==typeof f?a(Function.call,f):f,b&&s(b,l,f,t&c.U),w[l]!=f&&o(w,l,d),y&&S[l]!=f&&(S[l]=f)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){"use strict";function r(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}var i=n(0);i.a.inherits(r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:i.a.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const o=r.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{s[t]={value:t}}),Object.defineProperties(r,s),Object.defineProperty(o,"isAxiosError",{value:!0}),r.from=(t,e,n,s,a,u)=>{const c=Object.create(o);return i.a.toFlatObject(t,c,(function(t){return t!==Error.prototype}),t=>"isAxiosError"!==t),r.call(c,t.message,e,n,s,a),c.cause=t,c.name=t.name,u&&Object.assign(c,u),c},e.a=r},function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(6);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(52)("wks"),i=n(32),o=n(3).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},function(t,e,n){var r=n(21),i=Math.min;t.exports=function(t){return 0<t?i(r(t),9007199254740991):0}},function(t){var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},function(t,e,n){t.exports=!n(4)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(5),i=n(96),o=n(28),s=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(26);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(3),i=n(16),o=n(15),s=n(32)("src"),a=n(147),u="toString",c=(""+a).split(u);n(9).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]===n||(u&&(o(n,s)||i(n,s,t[e]?""+t[e]:c.join(e+""))),t===r?t[e]=n:a?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},function(t,e,n){var r=n(1),i=n(4),o=n(26),s=/"/g,a=function(t,e,n,r){var i=o(t)+"",a="<"+e;return""!==n&&(a+=" "+n+'="'+(r+"").replace(s,"&quot;")+'"'),a+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(a),r(r.P+r.F*i((function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length})),"String",n)}},function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,e,n){var r=n(11),i=n(31);t.exports=n(10)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(47),i=n(26);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t,e){return!!t&&r((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var r=n(20);t.exports=function(t,e,n){return r(t),void 0===e?t:1===n?function(n){return t.call(e,n)}:2===n?function(n,r){return t.call(e,n,r)}:3===n?function(n,r,i){return t.call(e,n,r,i)}:function(){return t.apply(e,arguments)}}},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:e)(t)}},function(t,e,n){var r=n(48),i=n(31),o=n(17),s=n(28),a=n(15),u=n(96),c=Object.getOwnPropertyDescriptor;e.f=n(10)?c:function(t,e){if(t=o(t),e=s(e,!0),u)try{return c(t,e)}catch(e){}return a(t,e)?i(!r.f.call(t,e),t[e]):void 0}},function(t,e,n){var r=n(1),i=n(9),o=n(4);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},function(t,e,n){var r=n(19),i=n(47),o=n(12),s=n(8),a=n(112);t.exports=function(t,e){var n=1==t,u=4==t,c=6==t,l=e||a;return function(e,a,h){for(var f,d,p=o(e),g=i(p),m=r(a,h,3),y=s(g.length),v=0,b=n?l(e,y):2==t?l(e,0):void 0;y>v;v++)if((5==t||c||v in g)&&(d=m(f=g[v],v,p),t))if(n)b[v]=d;else if(d)switch(t){case 3:return!0;case 5:return f;case 6:return v;case 2:b.push(f)}else if(u)return!1;return c?-1:3==t||u?u:b}}},function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";if(n(10)){var r=n(33),i=n(3),o=n(4),s=n(1),a=n(63),u=n(91),c=n(19),l=n(45),h=n(31),f=n(16),d=n(46),p=n(21),g=n(8),m=n(123),y=n(35),v=n(28),b=n(15),w=n(49),S=n(6),E=n(12),x=n(83),M=n(36),O=n(38),A=n(37).f,k=n(85),T=n(32),_=n(7),C=n(24),P=n(53),R=n(50),I=n(87),N=n(43),B=n(56),j=n(44),F=n(86),D=n(114),L=n(11),U=n(22),V=L.f,z=U.f,H=i.RangeError,W=i.TypeError,G=i.Uint8Array,J="ArrayBuffer",Y="Shared"+J,q="BYTES_PER_ELEMENT",K="prototype",X=Array[K],$=u.ArrayBuffer,Q=u.DataView,Z=C(0),tt=C(2),et=C(3),nt=C(4),rt=C(5),it=C(6),ot=P(!0),st=P(!1),at=I.values,ut=I.keys,ct=I.entries,lt=X.lastIndexOf,ht=X.reduce,ft=X.reduceRight,dt=X.join,pt=X.sort,gt=X.slice,mt=X.toString,yt=X.toLocaleString,vt=_("iterator"),bt=_("toStringTag"),wt=T("typed_constructor"),St=T("def_constructor"),Et=a.CONSTR,xt=a.TYPED,Mt=a.VIEW,Ot="Wrong length!",At=C(1,(function(t,e){return Pt(R(t,t[St]),e)})),kt=o((function(){return 1===new G(new Uint16Array([1]).buffer)[0]})),Tt=!!G&&!!G[K].set&&o((function(){new G(1).set({})})),_t=function(t,e){var n=p(t);if(0>n||n%e)throw H("Wrong offset!");return n},Ct=function(t){if(S(t)&&xt in t)return t;throw W(t+" is not a typed array!")},Pt=function(t,e){if(!S(t)||!(wt in t))throw W("It is not a typed array constructor!");return new t(e)},Rt=function(t,e){return It(R(t,t[St]),e)},It=function(t,e){for(var n=0,r=e.length,i=Pt(t,r);r>n;)i[n]=e[n++];return i},Nt=function(t,e,n){V(t,e,{get:function(){return this._d[n]}})},Bt=function(t){var e,n,r,i,o,s,a=E(t),u=arguments.length,l=1<u?arguments[1]:void 0,h=void 0!==l,f=k(a);if(null!=f&&!x(f)){for(s=f.call(a),r=[],e=0;!(o=s.next()).done;e++)r.push(o.value);a=r}for(h&&2<u&&(l=c(l,arguments[2],2)),e=0,n=g(a.length),i=Pt(this,n);n>e;e++)i[e]=h?l(a[e],e):a[e];return i},jt=function(){for(var t=0,e=arguments.length,n=Pt(this,e);e>t;)n[t]=arguments[t++];return n},Ft=!!G&&o((function(){yt.call(new G(1))})),Dt=function(){return yt.apply(Ft?gt.call(Ct(this)):Ct(this),arguments)},Lt={copyWithin:function(t,e){return D.call(Ct(this),t,e,2<arguments.length?arguments[2]:void 0)},every:function(t){return nt(Ct(this),t,1<arguments.length?arguments[1]:void 0)},fill:function(){return F.apply(Ct(this),arguments)},filter:function(t){return Rt(this,tt(Ct(this),t,1<arguments.length?arguments[1]:void 0))},find:function(t){return rt(Ct(this),t,1<arguments.length?arguments[1]:void 0)},findIndex:function(t){return it(Ct(this),t,1<arguments.length?arguments[1]:void 0)},forEach:function(t){Z(Ct(this),t,1<arguments.length?arguments[1]:void 0)},indexOf:function(t){return st(Ct(this),t,1<arguments.length?arguments[1]:void 0)},includes:function(t){return ot(Ct(this),t,1<arguments.length?arguments[1]:void 0)},join:function(){return dt.apply(Ct(this),arguments)},lastIndexOf:function(){return lt.apply(Ct(this),arguments)},map:function(t){return At(Ct(this),t,1<arguments.length?arguments[1]:void 0)},reduce:function(){return ht.apply(Ct(this),arguments)},reduceRight:function(){return ft.apply(Ct(this),arguments)},reverse:function(){for(var t,e=this,n=Ct(e).length,r=Math.floor(n/2),i=0;i<r;)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return et(Ct(this),t,1<arguments.length?arguments[1]:void 0)},sort:function(t){return pt.call(Ct(this),t)},subarray:function(t,e){var n=Ct(this),r=n.length,i=y(t,r);return new(R(n,n[St]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===e?r:y(e,r))-i))}},Ut=function(t,e){return Rt(this,gt.call(Ct(this),t,e))},Vt=function(t){Ct(this);var e=_t(arguments[1],1),n=this.length,r=E(t),i=g(r.length),o=0;if(i+e>n)throw H(Ot);for(;o<i;)this[e+o]=r[o++]},zt={entries:function(){return ct.call(Ct(this))},keys:function(){return ut.call(Ct(this))},values:function(){return at.call(Ct(this))}},Ht=function(t,e){return S(t)&&t[xt]&&"symbol"!=typeof e&&e in t&&+e+""==e+""},Wt=function(t,e){return Ht(t,e=v(e,!0))?h(2,t[e]):z(t,e)},Gt=function(t,e,n){return!(Ht(t,e=v(e,!0))&&S(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?V(t,e,n):(t[e]=n.value,t)};Et||(U.f=Wt,L.f=Gt),s(s.S+s.F*!Et,"Object",{getOwnPropertyDescriptor:Wt,defineProperty:Gt}),o((function(){mt.call({})}))&&(mt=yt=function(){return dt.call(this)});var Jt=d({},Lt);d(Jt,zt),f(Jt,vt,zt.values),d(Jt,{slice:Ut,set:Vt,constructor:function(){},toString:mt,toLocaleString:Dt}),Nt(Jt,"buffer","b"),Nt(Jt,"byteOffset","o"),Nt(Jt,"byteLength","l"),Nt(Jt,"length","e"),V(Jt,bt,{get:function(){return this[xt]}}),t.exports=function(t,e,n,u){var c=t+((u=!!u)?"Clamped":"")+"Array",h=i[c],d=h||{},p=h&&O(h),y=!h||!a.ABV,v={},b=h&&h[K],E=function(n,r){var i=n._d;return i.v["get"+t](r*e+i.o,kt)},x=function(n,r,i){var o=n._d;u&&(i=0>(i=Math.round(i))?0:255<i?255:255&i),o.v["set"+t](r*e+o.o,i,kt)},k=function(t,e){V(t,e,{get:function(){return E(this,e)},set:function(t){return x(this,e,t)},enumerable:!0})};y?(h=n((function(t,n,r,i){l(t,h,c,"_d");var o,s,a,u,d=0,p=0;if(S(n)){if(!(n instanceof $||(u=w(n))==J||u==Y))return xt in n?It(h,n):Bt.call(h,n);o=n,p=_t(r,e);var y=n.byteLength;if(void 0===i){if(y%e)throw H(Ot);if(0>(s=y-p))throw H(Ot)}else if((s=g(i)*e)+p>y)throw H(Ot);a=s/e}else a=m(n),o=new $(s=a*e);for(f(t,"_d",{b:o,o:p,l:s,e:a,v:new Q(o)});d<a;)k(t,d++)})),b=h[K]=M(Jt),f(b,"constructor",h)):(!o((function(){h(1)}))||!o((function(){new h(-1)}))||!B((function(t){new h,new h(null),new h(1.5),new h(t)}),!0))&&(h=n((function(t,n,r,i){var o;return l(t,h,c),S(n)?n instanceof $||(o=w(n))==J||o==Y?void 0===i?void 0===r?new d(n):new d(n,_t(r,e)):new d(n,_t(r,e),i):xt in n?It(h,n):Bt.call(h,n):new d(m(n))})),Z(p===Function.prototype?A(d):A(d).concat(A(p)),(function(t){t in h||f(h,t,d[t])})),h[K]=b,!r&&(b.constructor=h));var T=b[vt],_=!!T&&("values"==T.name||null==T.name),C=zt.values;f(h,wt,!0),f(b,xt,c),f(b,Mt,!0),f(b,St,h),(u?new h(1)[bt]!=c:!(bt in b))&&V(b,bt,{get:function(){return c}}),v[c]=h,s(s.G+s.W+s.F*(h!=d),v),s(s.S,c,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o((function(){d.of.call(h,1)})),c,{from:Bt,of:jt}),q in b||f(b,q,e),s(s.P,c,Lt),j(c),s(s.P+s.F*Tt,c,{set:Vt}),s(s.P+s.F*!_,c,zt),r||b.toString==mt||(b.toString=mt),s(s.P+s.F*o((function(){new h(1).slice()})),c,{slice:Ut}),s(s.P+s.F*(o((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!o((function(){b.toLocaleString.call([1,2])}))),c,{toLocaleString:Dt}),N[c]=_?T:C,r||_||f(b,vt,C)}}else t.exports=function(){}},function(t,e,n){var r=n(6);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(32)("meta"),i=n(6),o=n(15),s=n(11).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(4)((function(){return u(Object.preventExtensions({}))})),l=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&h.NEED&&u(t)&&!o(t,r)&&l(t),t}}},function(t,e,n){"use strict";(function(t){function r(t){return s.a.isPlainObject(t)||s.a.isArray(t)}function i(t){return s.a.endsWith(t,"[]")?t.slice(0,-2):t}function o(t,e,n){return t?t.concat(e).map((function(t,e){return t=i(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}var s=n(0),a=n(2),u=n(140);const c=s.a.toFlatObject(s.a,{},null,(function(t){return/^is[A-Z]/.test(t)}));e.a=function(e,n,l){function h(e){if(null===e)return"";if(s.a.isDate(e))return e.toISOString();if(!y&&s.a.isBlob(e))throw new a.a("Blob is not supported. Use a Buffer instead.");return s.a.isArrayBuffer(e)||s.a.isTypedArray(e)?y&&"function"==typeof Blob?new Blob([e]):t.from(e):e}function f(t,e,a){let u=t;if(t&&!a&&"object"==typeof t)if(s.a.endsWith(e,"{}"))e=d?e:e.slice(0,-2),t=JSON.stringify(t);else if(s.a.isArray(t)&&function(t){return s.a.isArray(t)&&!t.some(r)}(t)||s.a.isFileList(t)||s.a.endsWith(e,"[]")&&(u=s.a.toArray(t)))return e=i(e),u.forEach((function(t,r){s.a.isUndefined(t)||null===t||n.append(!0===m?o([e],r,g):null===m?e:e+"[]",h(t))})),!1;return!!r(t)||(n.append(o(a,e,g),h(t)),!1)}if(!s.a.isObject(e))throw new TypeError("target must be an object");n=n||new(u.a||FormData);const d=(l=s.a.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!s.a.isUndefined(e[t])}))).metaTokens,p=l.visitor||f,g=l.dots,m=l.indexes,y=(l.Blob||"undefined"!=typeof Blob&&Blob)&&function(t){return t&&s.a.isFunction(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator]}(n);if(!s.a.isFunction(p))throw new TypeError("visitor must be a function");const v=[],b=Object.assign(c,{defaultVisitor:f,convertValue:h,isVisitable:r});if(!s.a.isObject(e))throw new TypeError("data must be an object");return function t(e,r){if(!s.a.isUndefined(e)){if(-1!==v.indexOf(e))throw Error("Circular reference detected in "+r.join("."));v.push(e),s.a.forEach(e,(function(e,i){!0===(!(s.a.isUndefined(e)||null===e)&&p.call(n,e,s.a.isString(i)?i.trim():i,r,b))&&t(e,r?r.concat(i):[i])})),v.pop()}}(e),n}}).call(this,n(346).Buffer)},function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},function(t){t.exports=!1},function(t,e,n){var r=n(98),i=n(70);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(21),i=Math.max,o=Math.min;t.exports=function(t,e){return 0>(t=r(t))?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(5),i=n(99),o=n(70),s=n(69)("IE_PROTO"),a=function(){},u="prototype",c=function(){var t,e=n(67)("iframe"),r=o.length;for(e.style.display="none",n(71).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;r--;)delete c[u][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null===t?n=c():(a[u]=r(t),n=new a,a[u]=null,n[s]=t),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(98),i=n(70).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(15),i=n(12),o=n(69)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){var r=n(7)("unscopables"),i=Array.prototype;null==i[r]&&n(16)(i,r,{}),t.exports=function(t){i[r][t]=!0}},function(t,e,n){var r=n(6);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var r=n(11).f,i=n(15),o=n(7)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){var r=n(1),i=n(26),o=n(4),s=n(73),a="["+s+"]",u=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),l=function(t,e,n){var i={},a=o((function(){return!!s[t]()||"​"!="​"[t]()})),u=i[t]=a?e(h):s[t];n&&(i[n]=u),r(r.P+r.F*a,"String",i)},h=l.trim=function(t,e){return t=i(t)+"",1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=l},function(t){t.exports={}},function(t,e,n){"use strict";var r=n(3),i=n(11),o=n(10),s=n(7)("species");t.exports=function(t){var e=r[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},function(t){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(13);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(25);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(25),i=n(7)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(e){}}(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var r=n(5),i=n(20),o=n(7)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},,function(t,e,n){var r=n(9),i=n(3),o="__core-js_shared__",s=i[o]||(i[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0===e?{}:e)})("versions",[]).push({version:r.version,mode:n(33)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(17),i=n(8),o=n(35);t.exports=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(25);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(7)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(e){}return n}},function(t,e,n){"use strict";var r=n(5);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(49),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){"use strict";n(116);var r=n(13),i=n(16),o=n(4),s=n(26),a=n(7),u=n(88),c=a("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=a(t),d=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),p=d?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[f](""),!e})):void 0;if(!d||!p||"replace"===t&&!l||"split"===t&&!h){var g=/./[f],m=n(s,f,""[t],(function(t,e,n,r,i){return e.exec===u?d&&!i?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),y=m[0],v=m[1];r(String.prototype,t,y),i(RegExp.prototype,f,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)})}}},function(t,e,n){var r=n(19),i=n(111),o=n(83),s=n(5),a=n(8),u=n(85),c={},l={};(e=t.exports=function(t,e,n,h,f){var d,p,g,m,y=f?function(){return t}:u(t),v=r(n,h,e?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(d=a(t.length);d>b;b++)if((m=e?v(s(p=t[b])[0],p[1]):v(t[b]))===c||m===l)return m}else for(g=y.call(t);!(p=g.next()).done;)if((m=i(g,v,p.value,e))===c||m===l)return m}).BREAK=c,e.RETURN=l},function(t,e,n){var r=n(3).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var r=n(3),i=n(1),o=n(13),s=n(46),a=n(29),u=n(60),c=n(45),l=n(6),h=n(4),f=n(56),d=n(41),p=n(74);t.exports=function(t,e,n,g,m,y){var v=r[t],b=v,w=m?"set":"add",S=b&&b.prototype,E={},x=function(t){var e=S[t];o(S,t,"delete"==t||"has"==t?function(t){return(!y||l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(y||S.forEach&&!h((function(){(new b).entries().next()})))){var M=new b,O=M[w](y?{}:-0,1)!=M,A=h((function(){M.has(1)})),k=f((function(t){new b(t)})),T=!y&&h((function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)}));k||((b=e((function(e,n){c(e,b,t);var r=p(new v,e,b);return null!=n&&u(n,m,r[w],r),r}))).prototype=S,S.constructor=b),(A||T)&&(x("delete"),x("has"),m&&x("get")),(T||O)&&x(w),y&&S.clear&&delete S.clear}else b=g.getConstructor(e,t,m,w),s(b.prototype,n),a.NEED=!0;return d(b,t),E[t]=b,i(i.G+i.W+i.F*(b!=v),E),y||g.setStrong(b,t,m),b}},function(t,e,n){for(var r,i=n(3),o=n(16),s=n(32),a=s("typed_array"),u=s("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,h=0,f=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"];h<9;)(r=i[f[h++]])?(o(r.prototype,a,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:a,VIEW:u}},function(t,e,n){"use strict";(function(t){function r(){return o()}n.d(e,"a",(function(){return r}));var i=(t,e,n,r)=>{var o=(e,i,o)=>new r(t=>{null!==o&&(o=n.stringify(o)),t(o)}).then(n=>t(i,{method:e,body:n})).then(t=>t.json()),s=(t,e)=>o(t,e,null),a=s.bind(null,"GET"),u=o.bind(null,"PUT"),c=o.bind(null,"POST"),l=s.bind(null,"DELETE"),h=(t,e)=>(n,...r)=>t(e(n),...r),f=t=>(i,o)=>r.resolve(new e(n.stringify({address:i.slice(t.length),method:o.method,body:n.parse(o.body)})));return{discover:a.bind(null,"https://discovery.meethue.com"),bridge:t=>{var o="http://"+t,s=o+"/api";return{createUser:t=>c(s,{devicetype:t}),user:d=>{Cookies.set("hueid",d,{expires:30});var p=`${s}/${d}`,g=p+"/capabilities",m=p+"/config",y=p+"/lights",v=p+"/groups",b=p+"/schedules",w=p+"/scenes",S=p+"/sensors",E=p+"/rules",x=p+"/resourcelinks",M=t=>e=>`${t}/${e}`,O=M(y),A=M(v),k=M(b),T=M(w),_=M(S),C=M(E),P=M(x);return{getCapabilities:a.bind(null,g),deleteUser:h(l,t=>`${m}/whitelist/${t}`),getConfig:a.bind(null,m),setConfig:u.bind(null,m),getFullState:a.bind(null,p),getLights:a.bind(null,y),getNewLights:a.bind(null,y+"/new"),searchForNewLights:(t=null)=>c(y,t),getLight:h(a,O),setLight:h(u,O),setLightState:h(u,t=>O(t)+"/state"),deleteLight:h(l,O),getGroups:a.bind(null,v),createGroup:c.bind(null,v),getGroup:h(a,A),setGroup:h(u,A),setGroupState:h(u,t=>A(t)+"/action"),deleteGroup:h(l,A),getSchedules:a.bind(null,b),createSchedule:c.bind(null,b),getSchedule:h(a,k),setSchedule:h(u,k),deleteSchedule:h(l,k),scheduleCommandGenerator:()=>i(f(o),e,n,r).bridge(t).user(d),getScenes:a.bind(null,w),createScene:c.bind(null,w),getScene:h(a,T),setScene:h(u,T),setSceneLightState:(t,e,n)=>u(`${T(t)}/lightstates/${e}`,n),deleteScene:h(l,T),getSensors:a.bind(null,S),createSensor:c.bind(null,S),searchForNewSensors:c.bind(null,S,null),getNewSensors:a.bind(null,S+"/new"),getSensor:h(a,_),setSensor:h(u,_),setSensorConfig:h(u,t=>_(t)+"/config"),setSensorState:h(u,t=>_(t)+"/state"),deleteSensor:h(l,_),getRules:a.bind(null,E),createRule:c.bind(null,E),getRule:h(a,C),setRule:h(u,C),deleteRule:h(l,C),ruleActionGenerator:()=>i(f(p),e,n,r).bridge(t).user(d),getResourceLinks:a.bind(null,x),createResourceLink:c.bind(null,x),getResourceLink:h(a,P),setResourceLink:h(u,P),deleteResourceLink:h(l,P)}}}}}};let o;"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"undefined"!=typeof JSON&&"undefined"!=typeof Promise&&(o=i.bind(null,fetch,Response,JSON,Promise),void 0!==t.exports&&(t.exports=o))}).call(this,n(137)(t))},function(t,e,n){"use strict";(function(t,r){n.d(e,"a",(function(){return i})),function(e){if("function"==typeof bootstrap)bootstrap("hark",e);else if("object"==typeof exports)t.exports=e();else if("function"==typeof define&&n(344))define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeHark=e}else"undefined"==typeof window?r.hark=e():window.hark=e()}((function(){return function(t,e,n){function r(n,o){if(!e[n]){if(!t[n]){if(i)return i(n,!0);throw new Error("Cannot find module '"+n+"'")}var s=e[n]={exports:{}};t[n][0].call(s.exports,(function(e){var i=t[n][1][e];return r(i||e)}),s,s.exports)}return e[n].exports}for(var i=!1,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e){var n,r=t("wildemitter");"undefined"!=typeof window&&(n=window.AudioContext||window.webkitAudioContext);var i=null;e.exports=function(t,e){var o=new r;if(!n)return o;var s,a,u,c=(e=e||{}).smoothing||.1,l=e.interval||50,h=e.threshold,f=e.play,d=e.history||10,p=!0;i=e.audioContext||i||new n,(u=i.createAnalyser()).fftSize=512,u.smoothingTimeConstant=c,a=new Float32Array(u.frequencyBinCount),t.jquery&&(t=t[0]),t instanceof HTMLAudioElement||t instanceof HTMLVideoElement?(s=i.createMediaElementSource(t),void 0===f&&(f=!0),h=h||-50):(s=i.createMediaStreamSource(t),h=h||-50),s.connect(u),f&&u.connect(i.destination),o.speaking=!1,o.getThreshold=function(){return h},o.suspend=function(){return i.suspend()},o.resume=function(){return i.resume()},Object.defineProperty(o,"state",{get:function(){return i.state}}),i.onstatechange=function(){o.emit("state_change",i.state)},o.setThreshold=function(t){h=t},o.setInterval=function(t){l=t},o.stop=function(){p=!1,o.emit("volume_change",-100,h),o.speaking&&(o.speaking=!1,o.emit("stopped_speaking")),u.disconnect(),s.disconnect()},o.speakingHistory=[];for(var g=0;g<d;g++)o.speakingHistory.push(0);var m=function(){setTimeout((function(){if(p){var t=function(t,e){var n=-1/0;t.getFloatFrequencyData(e);for(var r=4,i=e.length;r<i;r++)e[r]>n&&0>e[r]&&(n=e[r]);return n}(u,a);o.emit("volume_change",t,h);var e=0;if(t>h&&!o.speaking){for(var n=o.speakingHistory.length-3;n<o.speakingHistory.length;n++)e+=o.speakingHistory[n];2<=e&&(o.speaking=!0,o.emit("speaking"))}else if(t<h&&o.speaking){for(n=0;n<o.speakingHistory.length;n++)e+=o.speakingHistory[n];0==e&&(o.speaking=!1,o.emit("stopped_speaking"))}o.speakingHistory.shift(),o.speakingHistory.push(0+(t>h)),m()}}),l)};return m(),o}},{wildemitter:2}],2:[function(t,e){function n(){}e.exports=n,n.mixin=function(t){var e=t.prototype||t;e.isWildEmitter=!0,e.on=function(t){this.callbacks=this.callbacks||{};var e=3===arguments.length,n=e?arguments[1]:void 0,r=e?arguments[2]:arguments[1];return r._groupName=n,(this.callbacks[t]=this.callbacks[t]||[]).push(r),this},e.once=function(t){function e(){n.off(t,e),o.apply(this,arguments)}var n=this,r=3===arguments.length,i=r?arguments[1]:void 0,o=r?arguments[2]:arguments[1];return this.on(t,i,e),this},e.releaseGroup=function(t){var e,n,r,i;for(e in this.callbacks=this.callbacks||{},this.callbacks)for(n=0,r=(i=this.callbacks[e]).length;n<r;n++)i[n]._groupName===t&&(i.splice(n,1),n--,r--);return this},e.off=function(t,e){this.callbacks=this.callbacks||{};var n,r=this.callbacks[t];return r?1===arguments.length?(delete this.callbacks[t],this):(n=r.indexOf(e),r.splice(n,1),0===r.length&&delete this.callbacks[t],this):this},e.emit=function(t){this.callbacks=this.callbacks||{};var e,n,r,i=[].slice.call(arguments,1),o=this.callbacks[t],s=this.getWildcardCallbacks(t);if(o)for(e=0,n=(r=o.slice()).length;e<n&&r[e];++e)r[e].apply(this,i);if(s)for(n=s.length,e=0,n=(r=s.slice()).length;e<n&&r[e];++e)r[e].apply(this,[t].concat(i));return this},e.getWildcardCallbacks=function(t){this.callbacks=this.callbacks||{};var e,n,r=[];for(e in this.callbacks)n=e.split("*"),("*"===e||2===n.length&&t.slice(0,n[0].length)===n[0])&&(r=r.concat(this.callbacks[e]));return r}},n.mixin(n)},{}]},{},[1])(1)}));const i=window.hark}).call(this,n(137)(t),n(95))},function(t,e,n){"use strict";function r(t,e){return function(){return t.apply(e,arguments)}}n.d(e,"a",(function(){return r}))},function(t,e,n){var r=n(6),i=n(3).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){e.f=n(7)},function(t,e,n){var r=n(52)("keys"),i=n(32);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(3).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(6),i=n(5),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(19)(Function.call,n(22).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},function(t){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var r=n(6),i=n(72).set;t.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},function(t,e,n){"use strict";var r=n(21),i=n(26);t.exports=function(t){var e=i(this)+"",n="",o=r(t);if(0>o||o==1/0)throw RangeError("Count can't be negative");for(;0<o;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:0>t?-1:1}},function(t){var e=Math.expm1;t.exports=!e||22025.465794806718<e(10)||22025.465794806718>e(10)||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&1e-6>t?t+t*t/2:Math.exp(t)-1}:e},function(t,e,n){var r=n(21),i=n(26);t.exports=function(t){return function(e,n){var o,s,a=i(e)+"",u=r(n),c=a.length;return 0>u||u>=c?t?"":void 0:55296>(o=a.charCodeAt(u))||56319<o||u+1===c||56320>(s=a.charCodeAt(u+1))||57343<s?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(33),i=n(1),o=n(13),s=n(16),a=n(43),u=n(110),c=n(41),l=n(38),h=n(7)("iterator"),f=!([].keys&&"next"in[].keys()),d="keys",p="values",g=function(){return this};t.exports=function(t,e,n,m,y,v,b){u(n,e,m);var w,S,E,x=function(t){return!f&&t in k?k[t]:function(){return new n(this,t)}},M=e+" Iterator",O=y==p,A=!1,k=t.prototype,T=k[h]||k["@@iterator"]||y&&k[y],_=T||x(y),C=y?O?x("entries"):_:void 0,P="Array"==e&&k.entries||T;if(P&&((E=l(P.call(new t)))!==Object.prototype&&E.next&&(c(E,M,!0),!r&&"function"!=typeof E[h]&&s(E,h,g))),O&&T&&T.name!==p&&(A=!0,_=function(){return T.call(this)}),(!r||b)&&(f||A||!k[h])&&s(k,h,_),a[e]=_,a[M]=g,y)if(w={values:O?_:x(p),keys:v?_:x(d),entries:C},b)for(S in w)S in k||o(k,S,w[S]);else i(i.P+i.F*(f||A),e,w);return w}},function(t,e,n){var r=n(81),i=n(26);t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return i(t)+""}},function(t,e,n){var r=n(6),i=n(25),o=n(7)("match");t.exports=function(t){var e;return r(t)&&(void 0===(e=t[o])?"RegExp"==i(t):!!e)}},function(t,e,n){var r=n(7)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var r=n(43),i=n(7)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){"use strict";var r=n(11),i=n(31);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(49),i=n(7)("iterator"),o=n(43);t.exports=n(9).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(12),i=n(35),o=n(8);t.exports=function(t){for(var e=r(this),n=o(e.length),s=arguments.length,a=i(1<s?arguments[1]:void 0,n),u=2<s?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>a;)e[a++]=t;return e}},function(t,e,n){"use strict";var r=n(39),i=n(115),o=n(43),s=n(17);t.exports=n(79)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,n){"use strict";var r=n(57),i=RegExp.prototype.exec,o=String.prototype.replace,s=i,a="lastIndex",u=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[a]||0!==e[a]}(),c=void 0!==/()??/.exec("")[1];(u||c)&&(s=function(t){var e,n,s,l,h=this;return c&&(n=new RegExp("^"+h.source+"$(?!\\s)",r.call(h))),u&&(e=h[a]),s=i.call(h,t),u&&s&&(h[a]=h.global?s.index+s[0].length:e),c&&s&&1<s.length&&o.call(s[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s}),t.exports=s},function(t,e,n){"use strict";var r=n(78)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r,i,o,s=n(19),a=n(104),u=n(71),c=n(67),l=n(3),h=l.process,f=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,g=l.Dispatch,m=0,y={},v="onreadystatechange",b=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},w=function(t){b.call(t.data)};f&&d||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++m]=function(){a("function"==typeof t?t:Function(t),e)},r(m),m},d=function(t){delete y[t]},"process"==n(25)(h)?r=function(t){h.nextTick(s(b,t,1))}:g&&g.now?r=function(t){g.now(s(b,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=w,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",w,!1)):r=v in c("script")?function(t){u.appendChild(c("script"))[v]=function(){u.removeChild(this),b.call(t)}}:function(t){setTimeout(s(b,t,1),0)}),t.exports={set:f,clear:d}},function(t,e,n){"use strict";function r(t,e,n){var r,i,o,s=Array(n),a=8*n-e-1,u=(1<<a)-1,c=u>>1,l=23===e?U(2,-24)-U(2,-77):0,h=0,f=0>t||0===t&&0>1/t?1:0;for((t=L(t))!=t||t===F?(i=t==t?0:1,r=u):(r=V(z(t)/H),1>t*(o=U(2,-r))&&(r--,o*=2),2<=(t+=1<=r+c?l/o:l*U(2,1-c))*o&&(r++,o/=2),r+c>=u?(i=0,r=u):1<=r+c?(i=(t*o-1)*U(2,e),r+=c):(i=t*U(2,c-1)*U(2,e),r=0));8<=e;s[h++]=255&i,i/=256,e-=8);for(r=r<<e|i,a+=e;0<a;s[h++]=255&r,r/=256,a-=8);return s[--h]|=128*f,s}function i(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,s=o>>1,a=i-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;0<a;l=256*l+t[u],u--,a-=8);for(r=l&(1<<-a)-1,l>>=-a,a+=e;0<a;r=256*r+t[u],u--,a-=8);if(0===l)l=1-s;else{if(l===o)return r?NaN:c?-F:F;r+=U(2,e),l-=s}return(c?-1:1)*r*U(2,l-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function s(t){return[255&t]}function a(t){return[255&t,255&t>>8]}function u(t){return[255&t,255&t>>8,255&t>>16,255&t>>24]}function c(t){return r(t,52,8)}function l(t){return r(t,23,4)}function h(t,e,n){A(t[P],e,{get:function(){return this[n]}})}function f(t,e,n,r){var i=M(+n);if(i+e>t[q])throw j(R);var o=t[Y]._b,s=i+t[K],a=o.slice(s,s+e);return r?a:a.reverse()}function d(t,e,n,r,i,o){var s=M(+n);if(s+e>t[q])throw j(R);for(var a=t[Y]._b,u=s+t[K],c=r(+i),l=0;l<e;l++)a[u+l]=c[o?l:e-l-1]}var p=n(3),g=n(10),m=n(33),y=n(63),v=n(16),b=n(46),w=n(4),S=n(45),E=n(21),x=n(8),M=n(123),O=n(37).f,A=n(11).f,k=n(86),T=n(41),_="ArrayBuffer",C="DataView",P="prototype",R="Wrong index!",I=p[_],N=p[C],B=p.Math,j=p.RangeError,F=p.Infinity,D=I,L=B.abs,U=B.pow,V=B.floor,z=B.log,H=B.LN2,W="buffer",G="byteLength",J="byteOffset",Y=g?"_b":W,q=g?"_l":G,K=g?"_o":J;if(y.ABV){if(!w((function(){I(1)}))||!w((function(){new I(-1)}))||w((function(){return new I,new I(1.5),new I(NaN),I.name!=_}))){for(var X,$=(I=function(t){return S(this,I),new D(M(t))})[P]=D[P],Q=O(D),Z=0;Q.length>Z;)(X=Q[Z++])in I||v(I,X,D[X]);m||($.constructor=I)}var tt=new N(new I(2)),et=N[P].setInt8;tt.setInt8(0,2147483648),tt.setInt8(1,2147483649),(tt.getInt8(0)||!tt.getInt8(1))&&b(N[P],{setInt8:function(t,e){et.call(this,t,e<<24>>24)},setUint8:function(t,e){et.call(this,t,e<<24>>24)}},!0)}else I=function(t){S(this,I,_);var e=M(t);this._b=k.call(Array(e),0),this[q]=e},N=function(t,e,n){S(this,N,C),S(t,I,C);var r=t[q],i=E(e);if(0>i||i>r)throw j("Wrong offset!");if(i+(n=void 0===n?r-i:x(n))>r)throw j("Wrong length!");this[Y]=t,this[K]=i,this[q]=n},g&&(h(I,G,"_l"),h(N,W,"_b"),h(N,G,"_l"),h(N,J,"_o")),b(N[P],{getInt8:function(t){return f(this,1,t)[0]<<24>>24},getUint8:function(t){return f(this,1,t)[0]},getInt16:function(t){var e=f(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=f(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(f(this,4,t,arguments[1]))},getUint32:function(t){return o(f(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return i(f(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return i(f(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){d(this,1,t,s,e)},setUint8:function(t,e){d(this,1,t,s,e)},setInt16:function(t,e){d(this,2,t,a,e,arguments[2])},setUint16:function(t,e){d(this,2,t,a,e,arguments[2])},setInt32:function(t,e){d(this,4,t,u,e,arguments[2])},setUint32:function(t,e){d(this,4,t,u,e,arguments[2])},setFloat32:function(t,e){d(this,4,t,l,e,arguments[2])},setFloat64:function(t,e){d(this,8,t,c,e,arguments[2])}});T(I,_),T(N,C),v(N[P],y.VIEW,!0),e[_]=I,e[C]=N},function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(128)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t){var e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,e,n){t.exports=!n(10)&&!n(4)((function(){return 7!=Object.defineProperty(n(67)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(3),i=n(9),o=n(33),s=n(68),a=n(11).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var r=n(15),i=n(17),o=n(53)(!1),s=n(69)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(11),i=n(5),o=n(34);t.exports=n(10)?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,u=0;a>u;)r.f(t,n=s[u++],e[n]);return t}},function(t,e,n){var r=n(17),i=n(37).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},function(t,e,n){"use strict";var r=n(10),i=n(34),o=n(54),s=n(48),a=n(12),u=n(47),c=Object.assign;t.exports=!c||n(4)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r}))?function(t){for(var e=a(t),n=arguments.length,c=1,l=o.f,h=s.f;n>c;)for(var f,d=u(arguments[c++]),p=l?i(d).concat(l(d)):i(d),g=p.length,m=0;g>m;)f=p[m++],(!r||h.call(d,f))&&(e[f]=d[f]);return e}:c},function(t){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var r=n(20),i=n(6),o=n(104),s=[].slice,a={},u=function(t,e,n){if(!(e in a)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";a[e]=Function("F,a","return new F("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=s.call(arguments,1),a=function(){var r=n.concat(s.call(arguments));return this instanceof a?u(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(a.prototype=e.prototype),a}},function(t){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(3).parseInt,i=n(42).trim,o=n(73),s=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(t+"",3);return r(n,e>>>0||(s.test(n)?16:10))}:r},function(t,e,n){var r=n(3).parseFloat,i=n(42).trim;t.exports=1/r(n(73)+"-0")==-1/0?r:function(t){var e=i(t+"",3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}},function(t,e,n){var r=n(25);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,n){var r=n(6),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t){t.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&1e-8>t?t-t*t/2:Math.log(1+t)}},function(t,e,n){"use strict";var r=n(36),i=n(31),o=n(41),s={};n(16)(s,n(7)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(5);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(n){var o=t.return;throw void 0!==o&&r(o.call(t)),n}}},function(t,e,n){var r=n(237);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(20),i=n(12),o=n(47),s=n(8);t.exports=function(t,e,n,a,u){r(e);var c=i(t),l=o(c),h=s(c.length),f=u?h-1:0,d=u?-1:1;if(2>n)for(;;){if(f in l){a=l[f],f+=d;break}if(f+=d,u?0>f:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?0<=f:h>f;f+=d)f in l&&(a=e(a,l[f],f,c));return a}},function(t,e,n){"use strict";var r=n(12),i=n(35),o=n(8);t.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n.length),a=i(t,s),u=i(e,s),c=2<arguments.length?arguments[2]:void 0,l=Math.min((void 0===c?s:i(c,s))-u,s-a),h=1;for(u<a&&a<u+l&&(h=-1,u+=l-1,a+=l-1);0<l--;)u in n?n[a]=n[u]:delete n[a],a+=h,u+=h;return n}},function(t){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var r=n(88);n(1)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){n(10)&&"g"!=/./g.flags&&n(11).f(RegExp.prototype,"flags",{configurable:!0,get:n(57)})},function(t,e,n){"use strict";var r,i,o,s,a=n(33),u=n(3),c=n(19),l=n(49),h=n(1),f=n(6),d=n(20),p=n(45),g=n(60),m=n(50),y=n(90).set,v=n(257)(),b=n(119),w=n(258),S=n(61),E=n(120),x="Promise",M=u.TypeError,O=u.process,A=O&&O.versions,k=A&&A.v8||"",T=u[x],_="process"==l(O),C=function(){},P=i=b.f,R=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[n(7)("species")]=function(t){t(C,C)};return(_||"function"==typeof PromiseRejectionEvent)&&t.then(C)instanceof e&&0!==k.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(e){}}(),I=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;v((function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,a=i?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{a?(!i&&(2==t._h&&F(t),t._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&(l.exit(),s=!0)),n===e.promise?c(M("Promise-chain cycle")):(o=I(n))?o.call(n,u,c):u(n)):c(r)}catch(e){l&&!s&&l.exit(),c(e)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&B(t)}))}},B=function(t){y.call(u,(function(){var e,n,r,i=t._v,o=j(t);if(o&&(e=w((function(){_?O.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=_||j(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},j=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){y.call(u,(function(){var e;_?O.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,!e._a&&(e._a=e._c.slice()),N(e,!0))},L=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw M("Promise can't be resolved itself");(e=I(t))?v((function(){var r={_w:n,_d:!1};try{e.call(t,c(L,r,1),c(D,r,1))}catch(t){D.call(r,t)}})):(n._v=t,n._s=1,N(n,!1))}catch(e){D.call({_w:n,_d:!1},e)}}};R||(T=function(t){p(this,T,x,"_h"),d(t),r.call(this);try{t(c(L,this,1),c(D,this,1))}catch(t){D.call(this,t)}},(r=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(46)(T.prototype,{then:function(t,e){var n=P(m(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=_?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(L,t,1),this.reject=c(D,t,1)},b.f=P=function(t){return t===T||t===s?new o(t):i(t)}),h(h.G+h.W+h.F*!R,{Promise:T}),n(41)(T,x),n(44)(x),s=n(9)[x],h(h.S+h.F*!R,x,{reject:function(t){var e=P(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(a||!R),x,{resolve:function(t){return E(a&&this===s?T:this,t)}}),h(h.S+h.F*!(R&&n(56)((function(t){T.all(t).catch(C)}))),x,{all:function(t){var e=this,n=P(e),r=n.resolve,i=n.reject,o=w((function(){var n=[],o=0,s=1;g(t,!1,(function(t){var a=o++,u=!1;n.push(void 0),s++,e.resolve(t).then((function(t){u||(u=!0,n[a]=t,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=P(e),r=n.reject,i=w((function(){g(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e,n){"use strict";function r(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=i(e),this.reject=i(n)}var i=n(20);t.exports.f=function(t){return new r(t)}},function(t,e,n){var r=n(5),i=n(6),o=n(119);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(11).f,i=n(36),o=n(46),s=n(19),a=n(45),u=n(60),c=n(79),l=n(115),h=n(44),f=n(10),d=n(29).fastKey,p=n(40),g=f?"_s":"size",m=function(t,e){var n,r=d(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t((function(t,r){a(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,null!=r&&u(r,n,t[c],t)}));return o(l.prototype,{clear:function(){for(var t=p(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=p(this,e),r=m(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(t){p(this,e);for(var n,r=s(t,1<arguments.length?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!m(p(this,e),t)}}),f&&r(l.prototype,"size",{get:function(){return p(this,e)[g]}}),l},def:function(t,e,n){var r,i,o=m(t,e);return o?o.v=n:(t._l=o={i:i=d(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},!t._f&&(t._f=o),r&&(r.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:m,setStrong:function(t,e,n){c(t,e,(function(t,n){this._t=p(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?l(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,l(1))}),n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var r=n(46),i=n(29).getWeak,o=n(5),s=n(6),a=n(45),u=n(60),c=n(24),l=n(15),h=n(40),f=c(5),d=c(6),p=0,g=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},y=function(t,e){return f(t.a,(function(t){return t[0]===e}))};m.prototype={get:function(t){var e=y(this,t);if(e)return e[1]},has:function(t){return!!y(this,t)},set:function(t,e){var n=y(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t((function(t,r){a(t,c,e,"_i"),t._t=e,t._i=p++,t._l=void 0,null!=r&&u(r,n,t[o],t)}));return r(c.prototype,{delete:function(t){if(!s(t))return!1;var n=i(t);return!0===n?g(h(this,e)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=i(t);return!0===n?g(h(this,e)).has(t):n&&l(n,this._i)}}),c},def:function(t,e,n){var r=i(o(e),!0);return!0===r?g(t).set(e,n):r[t._i]=n,t},ufstore:g}},function(t,e,n){var r=n(21),i=n(8);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var r=n(37),i=n(54),o=n(5),s=n(3).Reflect;t.exports=s&&s.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(8),i=n(75),o=n(26);t.exports=function(t,e,n,s){var a=o(t)+"",u=a.length,c=void 0===n?" ":n+"",l=r(e);if(l<=u||""==c)return a;var h=l-u,f=i.call(c,Math.ceil(h/c.length));return f.length>h&&(f=f.slice(0,h)),s?f+a:a+f}},function(t,e,n){var r=n(10),i=n(34),o=n(17),s=n(48).f;t.exports=function(t){return function(e){for(var n,a=o(e),u=i(a),c=u.length,l=0,h=[];c>l;)n=u[l++],(!r||s.call(a,n))&&h.push(t?[n,a[n]]:a[n]);return h}}},function(t){var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t){t.exports={"border-radius":1,"border-top-left-radius":1,"border-top-right-radius":1,"border-bottom-left-radius":1,"border-bottom-right-radius":1,"box-shadow":1,order:1,flex:function(t,e){return[e+"box-flex"]},"box-flex":1,"box-align":1,animation:1,"animation-duration":1,"animation-name":1,transition:1,"transition-duration":1,transform:1,"transform-style":1,"transform-origin":1,"backface-visibility":1,perspective:1,"box-pack":1}},function(t){t.exports={animation:1,"column-count":1,columns:1,"font-weight":1,opacity:1,"order  ":1,"z-index":1,zoom:1,flex:1,"box-flex":1,transform:1,perspective:1,"box-pack":1,"box-align":1,colspan:1,rowspan:1}},function(t,e,n){"use strict";n(132);var r=n(330),i=n(135),o=n(134),s=n(136),a=n(335),u=n(336),c=function(t,e,n,i){r(e).forEach((function(e){t[i?i(e):e]=n}))},l={cssUnitless:n(130)},h=function(t,e,n,r){"string"==typeof t&&(t=function(t){t=(t||"").split(";");var e={};return t.forEach((function(t){var n=t.split(":");2==n.length&&(e[n[0].trim()]=n[1].trim())})),e}(t)),(e=e||l).cssUnitless=e.cssUnitless||l.cssUnitless,r=r||{};var f,d,p,g,m,y,v,b,w=e.scope||{},S=null==e.addUnits?!(w&&null!=w.addUnits)||w.addUnits:e.addUnits,E=(null==e.cssUnitless?w?w.cssUnitless:null:e.cssUnitless)||{},x=(e.cssUnit||w?w.cssUnit:null)||"px",M=e.prefixProperties||(w?w.prefixProperties:null)||{},O=e.camelize?o:i;for(p in t)if(s(t,p)){if(g=t[p],d=i(n?n+p:p),f=!1,b=!1,u(g)&&(v=g.call(w||t,g,p,d,t),a(v)&&null!=v.value?(g=v.value,b=v.prefix,d=v.name?i(v.name):d):g=v),y="number"==(m=typeof g)||"string"==m&&""!=g&&1*g==g,null==g||null==d||""===d)continue;if((y||"string"==m)&&(f=!0),!f&&null!=g.value&&g.prefix&&(f=!0,b=g.prefix,g=g.value),f){if(b=b||!!M[d],y&&(g=S&&!(d in E)?g+x:g+""),"border"!=d&&(d.indexOf("border")||~d.indexOf("radius")||~d.indexOf("width"))||!y||(d+="-width"),!d.indexOf("border-radius-")&&(d.replace(/border(-radius)(-(.*))/,(function(t,e,n){var r={"-top":["-top-left","-top-right"],"-left":["-top-left","-bottom-left"],"-right":["-top-right","-bottom-right"],"-bottom":["-bottom-left","-bottom-right"]};n in r?(d=[],r[n].forEach((function(t){d.push("border"+t+e)}))):d="border"+n+e})),Array.isArray(d))){d.forEach((function(t){b?c(r,t,g,O):r[O(t)]=g}));continue}b?c(r,d,g,O):r[O(d)]=g}else h(g,e,d+"-",r)}return r};t.exports=h},function(t,e,n){"use strict";var r=n(133),i=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,o="undefined"==typeof document?{}:document.documentElement.style,s=function(){var t=function(){for(var t in o)if(i.test(t))return t.match(i)[0];return"WebkitOpacity"in o?"Webkit":"KhtmlOpacity"in o?"Khtml":""}(),e=t.toLowerCase();return{style:t,css:"-"+e+"-",dom:{Webkit:"WebKit",ms:"MS",o:"WebKit"}[t]||r(t)}}();t.exports=s},function(t){"use strict";t.exports=function(t){return t.length?t.charAt(0).toUpperCase()+t.substring(1):t}},function(t,e,n){"use strict";var r=function(t,e){return e?e.toUpperCase():""},i=n(332);t.exports=function(t){return t?t.replace(i,r):""}},function(t,e,n){"use strict";var r=n(333);t.exports=function(t){return r(t).toLowerCase()}},function(t){"use strict";var e=Object.prototype.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){function r(t,e){this._init(t,e)}var i=n(329).string,o=n(338),s=n(339);r.prototype._init=function(t,e){this.container=document.createElement("div"),this.container.id="j3-info-popup";Object.assign({},s.defaultContainerStyles,e||{});var n=i(s.defaultContainerStyles,{addUnits:!0});n&&(this.container.style.cssText=n),(t||document.body).appendChild(this.container)},r.prototype.addPanel=function(t,e){var n=document.createElement("div");if(n.classList.add("panel"),0<this.container.children.length&&(n.style.cssText=i(s.defaultPanelStyles)),t){var r=document.createElement("div");r.style.cssText=i(s.defaultPanelTitleStyles),r.innerText=t,n.appendChild(r)}if(e){var a=document.createElement("div");a.style.cssText=i(s.defaultPanelContentStyles),o.number(e)||o.boolean(e)||o.string(e)?this._generatePrimitive(n,a,e):o.function(e)?this._generateFunction(n,a,e):e.nodeType&&1===e.nodeType?this._generateDOMElement(n,a,e):o.object(e)?this._generateObject(n,a,e):console.error("Unsupported content data type")}this.container.appendChild(n)},r.prototype._generatePrimitive=function(t,e,n){e.innerText=n,t.appendChild(e)},r.prototype._generateFunction=function(t,e,n){t.appendChild(e);var r=function(){var t=n();t?(e.innerText=t,requestAnimationFrame(r)):(e.innerText="void function",console.warn("Detected void return in callback function. Callback function executed only once"))};requestAnimationFrame(r)},r.prototype._generateDOMElement=function(t,e,n){e.innerHTML=n.innerHTML,t.appendChild(e)},r.prototype._generateObject=function(t,e,n){e.innerText=JSON.stringify(n),t.appendChild(e)},t.exports=r},function(t,e,n){function r(t){if(this.support=i.webAudio&&i.mediaStream,this.gain=1,this.support){var e=this.context=new i.AudioContext;this.microphone=e.createMediaStreamSource(t),this.gainFilter=e.createGain(),this.destination=e.createMediaStreamDestination(),this.outputStream=this.destination.stream,this.microphone.connect(this.gainFilter),this.gainFilter.connect(this.destination),t.addTrack(this.outputStream.getAudioTracks()[0]),t.removeTrack(t.getAudioTracks()[0])}this.stream=t}var i=n(345);r.prototype.setGain=function(t){this.support&&(this.gainFilter.gain.value=t,this.gain=t)},r.prototype.getGain=function(){return this.gain},r.prototype.off=function(){return this.setGain(0)},r.prototype.on=function(){this.setGain(1)},t.exports=r},function(t,e,n){"use strict";var r=n(141),i=n.n(r);e.a=i.a},function(t){t.exports="object"==typeof self?self.FormData:window.FormData},,function(t,e,n){"use strict";n(144);var r=function(t){return t&&t.__esModule?t:{default:t}}(n(316));r.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),r.default._babelPolyfill=!0},function(t,e,n){"use strict";n(145),n(288),n(290),n(293),n(295),n(297),n(299),n(301),n(303),n(305),n(307),n(309),n(311),n(315)},function(t,e,n){n(146),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(227),n(228),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(87),n(251),n(116),n(252),n(117),n(253),n(254),n(255),n(256),n(118),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),t.exports=n(9)},function(t,e,n){"use strict";var r=n(3),i=n(15),o=n(10),s=n(1),a=n(13),u=n(29).KEY,c=n(4),l=n(52),h=n(41),f=n(32),d=n(7),p=n(68),g=n(97),m=n(148),y=n(55),v=n(5),b=n(6),w=n(12),S=n(17),E=n(28),x=n(31),M=n(36),O=n(100),A=n(22),k=n(54),T=n(11),_=n(34),C=A.f,P=T.f,R=O.f,I=r.Symbol,N=r.JSON,B=N&&N.stringify,j="prototype",F=d("_hidden"),D=d("toPrimitive"),L={}.propertyIsEnumerable,U=l("symbol-registry"),V=l("symbols"),z=l("op-symbols"),H=Object[j],W="function"==typeof I&&!!k.f,G=r.QObject,J=!G||!G[j]||!G[j].findChild,Y=o&&c((function(){return 7!=M(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=C(H,e);r&&delete H[e],P(t,e,n),r&&t!==H&&P(H,e,r)}:P,q=function(t){var e=V[t]=M(I[j]);return e._k=t,e},K=W&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},X=function(t,e,n){return t===H&&X(z,e,n),v(t),e=E(e,!0),v(n),i(V,e)?(n.enumerable?(i(t,F)&&t[F][e]&&(t[F][e]=!1),n=M(n,{enumerable:x(0,!1)})):(!i(t,F)&&P(t,F,x(1,{})),t[F][e]=!0),Y(t,e,n)):P(t,e,n)},$=function(t,e){v(t);for(var n,r=m(e=S(e)),i=0,o=r.length;o>i;)X(t,n=r[i++],e[n]);return t},Q=function(t){var e=L.call(this,t=E(t,!0));return(this!==H||!i(V,t)||i(z,t))&&(!(e||!i(this,t)||!i(V,t)||i(this,F)&&this[F][t])||e)},Z=function(t,e){if(t=S(t),e=E(e,!0),t!==H||!i(V,e)||i(z,e)){var n=C(t,e);return n&&i(V,e)&&!(i(t,F)&&t[F][e])&&(n.enumerable=!0),n}},tt=function(t){for(var e,n=R(S(t)),r=[],o=0;n.length>o;)i(V,e=n[o++])||e==F||e==u||r.push(e);return r},et=function(t){for(var e,n=t===H,r=R(n?z:S(t)),o=[],s=0;r.length>s;)i(V,e=r[s++])&&(!n||i(H,e))&&o.push(V[e]);return o};W||(a((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=f(0<arguments.length?arguments[0]:void 0),e=function(n){this===H&&e.call(z,n),i(this,F)&&i(this[F],t)&&(this[F][t]=!1),Y(this,t,x(1,n))};return o&&J&&Y(H,t,{configurable:!0,set:e}),q(t)})[j],"toString",(function(){return this._k})),A.f=Z,T.f=X,n(37).f=O.f=tt,n(48).f=Q,k.f=et,o&&!n(33)&&a(H,"propertyIsEnumerable",Q,!0),p.f=function(t){return q(d(t))}),s(s.G+s.W+s.F*!W,{Symbol:I});for(var nt=["hasInstance","isConcatSpreadable","iterator","match","replace","search","species","split","toPrimitive","toStringTag","unscopables"],rt=0;nt.length>rt;)d(nt[rt++]);for(var it=_(d.store),ot=0;it.length>ot;)g(it[ot++]);s(s.S+s.F*!W,"Symbol",{for:function(t){return i(U,t+="")?U[t]:U[t]=I(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in U)if(U[e]===t)return e},useSetter:function(){J=!0},useSimple:function(){J=!1}}),s(s.S+s.F*!W,"Object",{create:function(t,e){return void 0===e?M(t):$(M(t),e)},defineProperty:X,defineProperties:$,getOwnPropertyDescriptor:Z,getOwnPropertyNames:tt,getOwnPropertySymbols:et});var st=c((function(){k.f(1)}));s(s.S+s.F*st,"Object",{getOwnPropertySymbols:function(t){return k.f(w(t))}}),N&&s(s.S+s.F*(!W||c((function(){var t=I();return"[null]"!=B([t])||"{}"!=B({a:t})||"{}"!=B(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!K(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!K(e))return e}),r[1]=e,B.apply(N,r)}}),I[j][D]||n(16)(I[j],D,I[j].valueOf),h(I,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){t.exports=n(52)("native-function-to-string",Function.toString)},function(t,e,n){var r=n(34),i=n(54),o=n(48);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var s,a=n(t),u=o.f,c=0;a.length>c;)u.call(t,s=a[c++])&&e.push(s);return e}},function(t,e,n){var r=n(1);r(r.S,"Object",{create:n(36)})},function(t,e,n){var r=n(1);r(r.S+r.F*!n(10),"Object",{defineProperty:n(11).f})},function(t,e,n){var r=n(1);r(r.S+r.F*!n(10),"Object",{defineProperties:n(99)})},function(t,e,n){var r=n(17),i=n(22).f;n(23)("getOwnPropertyDescriptor",(function(){return function(t,e){return i(r(t),e)}}))},function(t,e,n){var r=n(12),i=n(38);n(23)("getPrototypeOf",(function(){return function(t){return i(r(t))}}))},function(t,e,n){var r=n(12),i=n(34);n(23)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e,n){n(23)("getOwnPropertyNames",(function(){return n(100).f}))},function(t,e,n){var r=n(6),i=n(29).onFreeze;n(23)("freeze",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(6),i=n(29).onFreeze;n(23)("seal",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(6),i=n(29).onFreeze;n(23)("preventExtensions",(function(t){return function(e){return t&&r(e)?t(i(e)):e}}))},function(t,e,n){var r=n(6);n(23)("isFrozen",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},function(t,e,n){var r=n(6);n(23)("isSealed",(function(t){return function(e){return!r(e)||!!t&&t(e)}}))},function(t,e,n){var r=n(6);n(23)("isExtensible",(function(t){return function(e){return!!r(e)&&(!t||t(e))}}))},function(t,e,n){var r=n(1);r(r.S+r.F,"Object",{assign:n(101)})},function(t,e,n){var r=n(1);r(r.S,"Object",{is:n(102)})},function(t,e,n){var r=n(1);r(r.S,"Object",{setPrototypeOf:n(72).set})},function(t,e,n){"use strict";var r=n(49);({})[n(7)("toStringTag")]="z",n(13)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(t,e,n){var r=n(1);r(r.P,"Function",{bind:n(103)})},function(t,e,n){var r=n(11).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in i||n(10)&&r(i,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(6),i=n(38),o=n(7)("hasInstance"),s=Function.prototype;o in s||n(11).f(s,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(1),i=n(105);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(t,e,n){var r=n(1),i=n(106);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(t,e,n){"use strict";var r=n(3),i=n(15),o=n(25),s=n(74),a=n(28),u=n(4),c=n(37).f,l=n(22).f,h=n(11).f,f=n(42).trim,d="Number",p=r[d],g=p,m=p.prototype,y=o(n(36)(m))==d,v="trim"in String.prototype,b=function(t){var e=a(t,!1);if("string"==typeof e&&2<e.length){var n,r,i,o=(e=v?e.trim():f(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var s,u=e.slice(2),c=0,l=u.length;c<l;c++)if(48>(s=u.charCodeAt(c))||s>i)return NaN;return parseInt(u,r)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=1>arguments.length?0:t,n=this;return n instanceof p&&(y?u((function(){m.valueOf.call(n)})):o(n)!=d)?s(new g(b(e)),n,p):b(e)};for(var w,S=n(10)?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;S.length>E;E++)i(g,w=S[E])&&!i(p,w)&&h(p,w,l(g,w));p.prototype=m,m.constructor=p,n(13)(r,d,p)}},function(t,e,n){"use strict";var r=n(1),i=n(21),o=n(107),s=n(75),a=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",h="0",f=function(t,e){for(var n=-1,r=e;6>++n;)r+=t*c[n],c[n]=r%1e7,r=u(r/1e7)},d=function(t){for(var e=6,n=0;0<=--e;)n+=c[e],c[e]=u(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";0<=--t;)if(""!==e||0==t||0!==c[t]){var n=c[t]+"";e=""===e?n:e+s.call(h,7-n.length)+n}return e},g=function(t,e,n){return 0===e?n:1==e%2?g(t,e-1,n*t):g(t*t,e/2,n)};r(r.P+r.F*("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0)||!n(4)((function(){a.call({})}))),"Number",{toFixed:function(t){var e,n,r,a,u=o(this,l),c=i(t),m="",y=h;if(0>c||20<c)throw RangeError(l);if(u!=u)return"NaN";if(-1e21>=u||1e21<=u)return u+"";if(0>u&&(m="-",u=-u),1e-21<u)if(n=0>(e=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(u*g(2,69,1))-69)?u*g(2,-e,1):u/g(2,e,1),n*=4503599627370496,0<(e=52-e)){for(f(0,n),r=c;7<=r;)f(1e7,0),r-=7;for(f(g(10,r,1),0),r=e-1;23<=r;)d(8388608),r-=23;d(1<<r),f(1,1),d(2),y=p()}else f(0,n),f(1<<-e,0),y=p()+s.call(h,c);return 0<c?y=m+((a=y.length)<=c?"0."+s.call(h,c-a)+y:y.slice(0,a-c)+"."+y.slice(a-c)):y=m+y,y}})},function(t,e,n){"use strict";var r=n(1),i=n(4),o=n(107),s=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==s.call(1,void 0)}))||!i((function(){s.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},function(t,e,n){var r=n(1);r(r.S,"Number",{EPSILON:2220446049250313e-31})},function(t,e,n){var r=n(1),i=n(3).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},function(t,e,n){var r=n(1);r(r.S,"Number",{isInteger:n(108)})},function(t,e,n){var r=n(1);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(1),i=n(108),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&9007199254740991>=o(t)}})},function(t,e,n){var r=n(1);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(1);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(1),i=n(106);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(t,e,n){var r=n(1),i=n(105);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(t,e,n){var r=n(1),i=n(109),o=Math.sqrt,s=Math.acosh;r(r.S+r.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return 1>(t=+t)?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var r=n(1),i=Math.asinh;r(r.S+r.F*!(i&&0<1/i(0)),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?0>e?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var r=n(1),i=Math.atanh;r(r.S+r.F*!(i&&0>1/i(-0)),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var r=n(1),i=n(76);r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var r=n(1);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var r=n(1),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var r=n(1),i=n(77);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(t,e,n){var r=n(1);r(r.S,"Math",{fround:n(191)})},function(t,e,n){var r=n(76),i=Math.pow,o=i(2,-52),s=i(2,-23),a=i(2,127)*(2-s),u=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),c=r(t);return i<u?c*function(t){return t+1/o-1/o}(i/u/s)*u*s:(n=(e=(1+s/o)*i)-(e-i))>a||n!=n?c*(1/0):c*n}},function(t,e,n){var r=n(1),i=Math.abs;r(r.S,"Math",{hypot:function(){for(var t,e,n=0,r=0,o=arguments.length,s=0;r<o;)s<(t=i(arguments[r++]))?(n=n*(e=s/t)*e+1,s=t):0<t?n+=(e=t/s)*e:n+=t;return s==1/0?1/0:s*Math.sqrt(n)}})},function(t,e,n){var r=n(1),i=Math.imul;r(r.S+r.F*n(4)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,s=n&i;return 0|o*s+((n&r>>>16)*s+o*(n&i>>>16)<<16>>>0)}})},function(t,e,n){var r=n(1);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var r=n(1);r(r.S,"Math",{log1p:n(109)})},function(t,e,n){var r=n(1);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var r=n(1);r(r.S,"Math",{sign:n(76)})},function(t,e,n){var r=n(1),i=n(77),o=Math.exp;r(r.S+r.F*n(4)((function(){return!0})),"Math",{sinh:function(t){return 1>Math.abs(t=+t)?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var r=n(1),i=n(77),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var r=n(1);r(r.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}})},function(t,e,n){var r=n(1),i=n(35),o=String.fromCharCode,s=String.fromCodePoint;r(r.S+r.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(){for(var t,e=[],n=arguments.length,r=0;n>r;){if(t=+arguments[r++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");e.push(65536>t?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return e.join("")}})},function(t,e,n){var r=n(1),i=n(17),o=n(8);r(r.S,"String",{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,s=[],a=0;n>a;)s.push(e[a++]+""),a<r&&s.push(arguments[a]+"");return s.join("")}})},function(t,e,n){"use strict";n(42)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,n){"use strict";var r=n(78)(!0);n(79)(String,"String",(function(t){this._t=t+"",this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){"use strict";var r=n(1),i=n(78)(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(1),i=n(8),o=n(80),s="endsWith";r(r.P+r.F*n(82)(s),"String",{endsWith:function(t){var e=o(this,t,s),n=1<arguments.length?arguments[1]:void 0,r=i(e.length),a=void 0===n?r:Math.min(i(n),r),u=t+"";return e.slice(a-u.length,a)===u}})},function(t,e,n){"use strict";var r=n(1),i=n(80),o="includes";r(r.P+r.F*n(82)(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,1<arguments.length?arguments[1]:void 0)}})},function(t,e,n){var r=n(1);r(r.P,"String",{repeat:n(75)})},function(t,e,n){"use strict";var r=n(1),i=n(8),o=n(80),s="startsWith";r(r.P+r.F*n(82)(s),"String",{startsWith:function(t){var e=o(this,t,s),n=i(Math.min(1<arguments.length?arguments[1]:void 0,e.length)),r=t+"";return e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";n(14)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},function(t,e,n){"use strict";n(14)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,e,n){"use strict";n(14)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,e,n){"use strict";n(14)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,e,n){"use strict";n(14)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,e,n){"use strict";n(14)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},function(t,e,n){"use strict";n(14)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},function(t,e,n){"use strict";n(14)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,e,n){"use strict";n(14)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},function(t,e,n){"use strict";n(14)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,e,n){"use strict";n(14)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,e,n){"use strict";n(14)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,e,n){"use strict";n(14)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,e,n){var r=n(1);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(1),i=n(12),o=n(28);r(r.P+r.F*n(4)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(){var t=i(this),e=o(t);return"number"!=typeof e||isFinite(e)?t.toISOString():null}})},function(t,e,n){var r=n(1),i=n(226);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(t,e,n){"use strict";var r=n(4),i=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return 9<t?t:"0"+t};t.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=0>e?"-":9999<e?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(99<n?n:"0"+s(n))+"Z"}:o},function(t,e,n){var r=Date.prototype,i="Invalid Date",o="toString",s=r[o],a=r.getTime;new Date(NaN)+""!=i&&n(13)(r,o,(function(){var t=a.call(this);return t==t?s.call(this):i}))},function(t,e,n){var r=n(7)("toPrimitive"),i=Date.prototype;r in i||n(16)(i,r,n(229))},function(t,e,n){"use strict";var r=n(5),i=n(28),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=o)}},function(t,e,n){var r=n(1);r(r.S,"Array",{isArray:n(55)})},function(t,e,n){"use strict";var r=n(19),i=n(1),o=n(12),s=n(111),a=n(83),u=n(8),c=n(84),l=n(85);i(i.S+i.F*!n(56)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,h,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,g=1<p?arguments[1]:void 0,m=void 0!==g,y=0,v=l(f);if(m&&(g=r(g,2<p?arguments[2]:void 0,2)),null==v||d==Array&&a(v))for(n=new d(e=u(f.length));e>y;y++)c(n,y,m?g(f[y],y):f[y]);else for(h=v.call(f),n=new d;!(i=h.next()).done;y++)c(n,y,m?s(h,g,[i.value,y],!0):i.value);return n.length=y,n}})},function(t,e,n){"use strict";var r=n(1),i=n(84);r(r.S+r.F*n(4)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(1),i=n(17),o=[].join;r(r.P+r.F*(n(47)!=Object||!n(18)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(1),i=n(71),o=n(25),s=n(35),a=n(8),u=[].slice;r(r.P+r.F*n(4)((function(){i&&u.call(i)})),"Array",{slice:function(t,e){var n=a(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=s(t,n),c=s(e,n),l=a(c-i),h=Array(l),f=0;f<l;f++)h[f]="String"==r?this.charAt(i+f):this[i+f];return h}})},function(t,e,n){"use strict";var r=n(1),i=n(20),o=n(12),s=n(4),a=[].sort,u=[1,2,3];r(r.P+r.F*(s((function(){u.sort(void 0)}))||!s((function(){u.sort(null)}))||!n(18)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),i(t))}})},function(t,e,n){"use strict";var r=n(1),i=n(24)(0),o=n(18)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},function(t,e,n){var r=n(6),i=n(55),o=n(7)("species");t.exports=function(t){var e;return i(t)&&("function"==typeof(e=t.constructor)&&(e===Array||i(e.prototype))&&(e=void 0),r(e)&&(null===(e=e[o])&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){"use strict";var r=n(1),i=n(24)(1);r(r.P+r.F*!n(18)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(24)(2);r(r.P+r.F*!n(18)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(24)(3);r(r.P+r.F*!n(18)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(24)(4);r(r.P+r.F*!n(18)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(113);r(r.P+r.F*!n(18)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var r=n(1),i=n(113);r(r.P+r.F*!n(18)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var r=n(1),i=n(53)(!1),o=[].indexOf,s=!!o&&0>1/[1].indexOf(1,-0);r(r.P+r.F*(s||!n(18)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},function(t,e,n){"use strict";var r=n(1),i=n(17),o=n(21),s=n(8),a=[].lastIndexOf,u=!!a&&0>1/[1].lastIndexOf(1,-0);r(r.P+r.F*(u||!n(18)(a)),"Array",{lastIndexOf:function(t){if(u)return a.apply(this,arguments)||0;var e=i(this),n=s(e.length),r=n-1;for(1<arguments.length&&(r=Math.min(r,o(arguments[1]))),0>r&&(r=n+r);0<=r;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,n){var r=n(1);r(r.P,"Array",{copyWithin:n(114)}),n(39)("copyWithin")},function(t,e,n){var r=n(1);r(r.P,"Array",{fill:n(86)}),n(39)("fill")},function(t,e,n){"use strict";var r=n(1),i=n(24)(5),o="find",s=!0;o in[]&&[,][o]((function(){s=!1})),r(r.P+r.F*s,"Array",{find:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}}),n(39)(o)},function(t,e,n){"use strict";var r=n(1),i=n(24)(6),o="findIndex",s=!0;o in[]&&[,][o]((function(){s=!1})),r(r.P+r.F*s,"Array",{findIndex:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}}),n(39)(o)},function(t,e,n){n(44)("Array")},function(t,e,n){var r=n(3),i=n(74),o=n(11).f,s=n(37).f,a=n(81),u=n(57),c=r.RegExp,l=c,h=c.prototype,f=/a/g,d=/a/g,p=new c(f)!==f;if(n(10)&&(!p||n(4)((function(){return d[n(7)("match")]=!1,c(f)!=f||c(d)==d||"/a/i"!=c(f,"i")})))){c=function(t,e){var n=this instanceof c,r=a(t),o=void 0===e;return!n&&r&&t.constructor===c&&o?t:i(p?new l(r&&!o?t.source:t,e):l((r=t instanceof c)?t.source:t,r&&o?u.call(t):e),n?this:h,c)};for(var g=function(t){t in c||o(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},m=s(l),y=0;m.length>y;)g(m[y++]);h.constructor=c,c.prototype=h,n(13)(r,"RegExp",c)}n(44)("RegExp")},function(t,e,n){"use strict";n(117);var r=n(5),i=n(57),o=n(10),s="toString",a=/./[s],u=function(t){n(13)(RegExp.prototype,s,t,!0)};n(4)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?u((function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)})):a.name!=s&&u((function(){return a.call(this)}))},function(t,e,n){"use strict";var r=n(5),i=n(8),o=n(89),s=n(58);n(59)("match",1,(function(t,e,n,a){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0===i?new RegExp(n)[e](r+""):i.call(n,r)},function(t){var e=a(n,t,this);if(e.done)return e.value;var u=r(t),c=this+"";if(!u.global)return s(u,c);var l=u.unicode;u.lastIndex=0;for(var h,f=[],d=0;null!==(h=s(u,c));){var p=h[0]+"";f[d]=p,""==p&&(u.lastIndex=o(c,i(u.lastIndex),l)),d++}return 0==d?null:f}]}))},function(t,e,n){"use strict";var r=n(5),i=n(12),o=n(8),s=n(21),a=n(89),u=n(58),c=Math.max,l=Math.min,h=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,p=function(t){return void 0===t?t:t+""};n(59)("replace",2,(function(t,e,n,g){function m(t,e,r,o,s,a){var u=r+t.length,c=o.length,l=d;return void 0!==s&&(s=i(s),l=f),n.call(a,l,(function(n,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":a=s[i.slice(1,-1)];break;default:var l=+i;if(0==l)return n;if(l>c){var f=h(l/10);return 0===f?n:f<=c?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):n}a=o[l-1]}return void 0===a?"":a}))}return[function(r,i){var o=t(this),s=null==r?void 0:r[e];return void 0===s?n.call(o+"",r,i):s.call(r,o,i)},function(t,e){var i=g(n,t,this,e);if(i.done)return i.value;var h=r(t),f=this+"",d="function"==typeof e;d||(e+="");var y=h.global;if(y){var v=h.unicode;h.lastIndex=0}for(var b,w=[];null!==(b=u(h,f))&&(w.push(b),y);){""==b[0]+""&&(h.lastIndex=a(f,o(h.lastIndex),v))}for(var S="",E=0,x=0;x<w.length;x++){for(var M=(b=w[x])[0]+"",O=c(l(s(b.index),f.length),0),A=[],k=1;k<b.length;k++)A.push(p(b[k]));var T=b.groups;if(d){var _=[M].concat(A,O,f);void 0!==T&&_.push(T);var C=e.apply(void 0,_)+""}else C=m(M,f,O,A,T,e);O>=E&&(S+=f.slice(E,O)+C,E=O+M.length)}return S+f.slice(E)}]}))},function(t,e,n){"use strict";var r=n(5),i=n(102),o=n(58);n(59)("search",1,(function(t,e,n,s){return[function(n){var r=t(this),i=null==n?void 0:n[e];return void 0===i?new RegExp(n)[e](r+""):i.call(n,r)},function(t){var e=s(n,t,this);if(e.done)return e.value;var a=r(t),u=this+"",c=a.lastIndex;i(c,0)||(a.lastIndex=0);var l=o(a,u);return i(a.lastIndex,c)||(a.lastIndex=c),null===l?-1:l.index}]}))},function(t,e,n){"use strict";var r=n(81),i=n(5),o=n(50),s=n(89),a=n(8),u=n(58),c=n(88),l=n(4),h=Math.min,f=[].push,d="split",p="length",g="lastIndex",m=4294967295,y=!l((function(){RegExp(m,"y")}));n(59)("split",2,(function(t,e,n,l){var v;return v="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[p]||2!="ab"[d](/(?:ab)*/)[p]||4!="."[d](/(.?)(.?)/)[p]||1<"."[d](/()()/)[p]||""[d](/.?/)[p]?function(t,e){var i=this+"";if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);for(var o,s,a,u=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,d=void 0===e?m:e>>>0,y=new RegExp(t.source,l+"g");(o=c.call(y,i))&&!((s=y[g])>h&&(u.push(i.slice(h,o.index)),1<o[p]&&o.index<i[p]&&f.apply(u,o.slice(1)),a=o[0][p],h=s,u[p]>=d));)y[g]===o.index&&y[g]++;return h===i[p]?(a||!y.test(""))&&u.push(""):u.push(i.slice(h)),u[p]>d?u.slice(0,d):u}:"0"[d](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=null==n?void 0:n[e];return void 0===o?v.call(i+"",n,r):o.call(n,i,r)},function(t,e){var r=l(v,t,this,e,v!==n);if(r.done)return r.value;var c=i(t),f=this+"",d=o(c,RegExp),p=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(y?"y":"g"),b=new d(y?c:"^(?:"+c.source+")",g),w=void 0===e?m:e>>>0;if(0==w)return[];if(0===f.length)return null===u(b,f)?[f]:[];for(var S=0,E=0,x=[];E<f.length;){b.lastIndex=y?E:0;var M,O=u(b,y?f:f.slice(E));if(null===O||(M=h(a(b.lastIndex+(y?0:E)),f.length))===S)E=s(f,E,p);else{if(x.push(f.slice(S,E)),x.length===w)return x;for(var A=1;A<=O.length-1;A++)if(x.push(O[A]),x.length===w)return x;E=S=M}}return x.push(f.slice(S)),x}]}))},function(t,e,n){var r=n(3),i=n(90).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(25)(s);t.exports=function(){var t,e,n,c=function(){var r,i;for(u&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(i){throw t?n():e=void 0,i}}e=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var h=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){"use strict";var r=n(121),i=n(40),o="Map";t.exports=n(62)(o,(function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(i(this,o),t);return e&&e.v},set:function(t,e){return r.def(i(this,o),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(121),i=n(40);t.exports=n(62)("Set",(function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r,i=n(3),o=n(24)(0),s=n(13),a=n(29),u=n(101),c=n(122),l=n(6),h=n(40),f=n(40),d=!i.ActiveXObject&&"ActiveXObject"in i,p="WeakMap",g=a.getWeak,m=Object.isExtensible,y=c.ufstore,v=function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},b={get:function(t){if(l(t)){var e=g(t);return!0===e?y(h(this,p)).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(h(this,p),t,e)}},w=t.exports=n(62)(p,v,b,c,!0,!0);f&&d&&(u((r=c.getConstructor(v,p)).prototype,b),a.NEED=!0,o(["delete","has","get","set"],(function(t){var e=w.prototype,n=e[t];s(e,t,(function(e,i){if(l(e)&&!m(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)}))})))},function(t,e,n){"use strict";var r=n(122),i=n(40),o="WeakSet";n(62)(o,(function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,o),t,!0)}},r,!1,!0)},function(t,e,n){"use strict";var r=n(1),i=n(63),o=n(91),s=n(5),a=n(35),u=n(8),c=n(6),l=n(3).ArrayBuffer,h=n(50),f=o.ArrayBuffer,d=o.DataView,p=i.ABV&&l.isView,g=f.prototype.slice,m=i.VIEW,y="ArrayBuffer";r(r.G+r.W+r.F*(l!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,y,{isView:function(t){return p&&p(t)||c(t)&&m in t}}),r(r.P+r.U+r.F*n(4)((function(){return!new f(2).slice(1,void 0).byteLength})),y,{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(s(this),t);for(var n=s(this).byteLength,r=a(t,n),i=a(void 0===e?n:e,n),o=new(h(this,f))(u(i-r)),c=new d(this),l=new d(o),p=0;r<i;)l.setUint8(p++,c.getUint8(r++));return o}}),n(44)(y)},function(t,e,n){var r=n(1);r(r.G+r.W+r.F*!n(63).ABV,{DataView:n(91).DataView})},function(t,e,n){n(27)("Int8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(27)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(27)("Uint8",1,(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},function(t,e,n){n(27)("Int16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(27)("Uint16",2,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(27)("Int32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(27)("Uint32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(27)("Float32",4,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(27)("Float64",8,(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){var r=n(1),i=n(20),o=n(5),s=(n(3).Reflect||{}).apply,a=Function.apply;r(r.S+r.F*!n(4)((function(){s((function(){}))})),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return s?s(r,e,u):a.call(r,e,u)}})},function(t,e,n){var r=n(1),i=n(36),o=n(20),s=n(5),a=n(6),u=n(4),c=n(103),l=(n(3).Reflect||{}).construct,h=u((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),f=!u((function(){l((function(){}))}));r(r.S+r.F*(h||f),"Reflect",{construct:function(t,e){o(t),s(e);var n=3>arguments.length?t:o(arguments[2]);if(f&&!h)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var u=n.prototype,d=i(a(u)?u:Object.prototype),p=Function.apply.call(t,d,e);return a(p)?p:d}})},function(t,e,n){var r=n(11),i=n(1),o=n(5),s=n(28);i(i.S+i.F*n(4)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return r.f(t,e,n),!0}catch(e){return!1}}})},function(t,e,n){var r=n(1),i=n(22).f,o=n(5);r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return(!n||n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var r=n(1),i=n(5),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(110)(o,"Object",(function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}})),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,n){var r=n(22),i=n(38),o=n(15),s=n(1),a=n(6),u=n(5);s(s.S,"Reflect",{get:function t(e,n){var s,c,l=3>arguments.length?e:arguments[2];return u(e)===l?e[n]:(s=r.f(e,n))?o(s,"value")?s.value:void 0===s.get?void 0:s.get.call(l):a(c=i(e))?t(c,n,l):void 0}})},function(t,e,n){var r=n(22),i=n(1),o=n(5);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},function(t,e,n){var r=n(1),i=n(38),o=n(5);r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){var r=n(1);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var r=n(1),i=n(5),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){var r=n(1);r(r.S,"Reflect",{ownKeys:n(124)})},function(t,e,n){var r=n(1),i=n(5),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(11),i=n(22),o=n(38),s=n(15),a=n(1),u=n(31),c=n(5),l=n(6);a(a.S,"Reflect",{set:function t(e,n,a){var h,f,d=4>arguments.length?e:arguments[3],p=i.f(c(e),n);if(!p){if(l(f=o(e)))return t(f,n,a,d);p=u(0)}if(s(p,"value")){if(!1===p.writable||!l(d))return!1;if(h=i.f(d,n)){if(h.get||h.set||!1===h.writable)return!1;h.value=a,r.f(d,n,h)}else r.f(d,n,u(0,a));return!0}return void 0!==p.set&&(p.set.call(d,a),!0)}})},function(t,e,n){var r=n(1),i=n(72);i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(e){return!1}}})},function(t,e,n){n(289),t.exports=n(9).Array.includes},function(t,e,n){"use strict";var r=n(1),i=n(53)(!0);r(r.P,"Array",{includes:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}}),n(39)("includes")},function(t,e,n){n(291),t.exports=n(9).Array.flatMap},function(t,e,n){"use strict";var r=n(1),i=n(292),o=n(12),s=n(8),a=n(20),u=n(112);r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return a(t),e=s(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n(39)("flatMap")},function(t,e,n){"use strict";var r=n(55),i=n(6),o=n(8),s=n(19),a=n(7)("isConcatSpreadable");t.exports=function t(e,n,u,c,l,h,f,d){for(var p,g,m=l,y=0,v=!!f&&s(f,d,3);y<c;){if(y in u){if(p=v?v(u[y],y,n):u[y],g=!1,i(p)&&(g=void 0===(g=p[a])?r(p):!!g),g&&0<h)m=t(e,n,p,o(p.length),m,h-1)-1;else{if(9007199254740991<=m)throw TypeError();e[m]=p}m++}y++}return m}},function(t,e,n){n(294),t.exports=n(9).String.padStart},function(t,e,n){"use strict";var r=n(1),i=n(125),o=n(61),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*s,"String",{padStart:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0,!0)}})},function(t,e,n){n(296),t.exports=n(9).String.padEnd},function(t,e,n){"use strict";var r=n(1),i=n(125),o=n(61),s=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*s,"String",{padEnd:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0,!1)}})},function(t,e,n){n(298),t.exports=n(9).String.trimLeft},function(t,e,n){"use strict";n(42)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,e,n){n(300),t.exports=n(9).String.trimRight},function(t,e,n){"use strict";n(42)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,e,n){n(302),t.exports=n(68).f("asyncIterator")},function(t,e,n){n(97)("asyncIterator")},function(t,e,n){n(304),t.exports=n(9).Object.getOwnPropertyDescriptors},function(t,e,n){var r=n(1),i=n(124),o=n(17),s=n(22),a=n(84);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),u=s.f,c=i(r),l={},h=0;c.length>h;)void 0!==(n=u(r,e=c[h++]))&&a(l,e,n);return l}})},function(t,e,n){n(306),t.exports=n(9).Object.values},function(t,e,n){var r=n(1),i=n(126)(!1);r(r.S,"Object",{values:function(t){return i(t)}})},function(t,e,n){n(308),t.exports=n(9).Object.entries},function(t,e,n){var r=n(1),i=n(126)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){"use strict";n(118),n(310),t.exports=n(9).Promise.finally},function(t,e,n){"use strict";var r=n(1),i=n(9),o=n(3),s=n(50),a=n(120);r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){n(312),n(313),n(314),t.exports=n(9)},function(t,e,n){var r=n(3),i=n(1),o=n(61),s=[].slice,a=/MSIE .\./.test(o),u=function(t){return function(e,n){var r=2<arguments.length,i=!!r&&s.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*a,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,n){var r=n(1),i=n(90);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){for(var r=n(87),i=n(34),o=n(13),s=n(3),a=n(16),u=n(43),c=n(7),l=c("iterator"),h=c("toStringTag"),f=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),g=0;g<p.length;g++){var m,y=p[g],v=d[y],b=s[y],w=b&&b.prototype;if(w&&(w[l]||a(w,l,f),w[h]||a(w,h,y),u[y]=f,v))for(m in r)w[m]||o(w,m,r[m],!0)}},function(t){var e=function(t){"use strict";function e(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,s=Object.create(o.prototype),a=new d(r||[]);return s._invoke=c(t,n,a),s}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function s(){}function a(t){["next","throw","return"].forEach((function(n){e(t,n,(function(t){return this._invoke(n,t)}))}))}function u(t,e){function n(i,o,s,a){var u=r(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&y.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(l).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,a)}))}a(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function c(t,e,n){var i=E;return function(o,s){if(i===M)throw new Error("Generator is already running");if(i===O){if("throw"===o)throw s;return{value:void 0,done:!0}}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var u=l(a,n);if(u){if(u===A)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===E)throw i=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=M;var c=r(t,e,n);if("normal"===c.type){if(i=n.done?O:x,c.arg===A)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=O,n.method="throw",n.arg=c.arg)}}}function l(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,l(t,e),"throw"===e.method))return A;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,A;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,A):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,A)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function p(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:g}}function g(){return{value:void 0,done:!0}}var m=Object.prototype,y=m.hasOwnProperty,v="function"==typeof Symbol?Symbol:{},b=v.iterator||"@@iterator",w=v.asyncIterator||"@@asyncIterator",S=v.toStringTag||"@@toStringTag";try{e({},"")}catch(t){e=function(t,e,n){return t[e]=n}}t.wrap=n;var E="suspendedStart",x="suspendedYield",M="executing",O="completed",A={},k={};e(k,b,(function(){return this}));var T=Object.getPrototypeOf,_=T&&T(T(p([])));_&&_!==m&&y.call(_,b)&&(k=_);var C=s.prototype=i.prototype=Object.create(k);return o.prototype=s,e(C,"constructor",s),e(s,"constructor",o),o.displayName=e(s,S,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,e(t,S,"GeneratorFunction")),t.prototype=Object.create(C),t},t.awrap=function(t){return{__await:t}},a(u.prototype),e(u.prototype,w,(function(){return this})),t.AsyncIterator=u,t.async=function(e,r,i,o,s){void 0===s&&(s=Promise);var a=new u(n(e,r,i,o),s);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},a(C),e(C,S,"Generator"),e(C,b,(function(){return this})),e(C,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var s=y.call(i,"catchLoc"),a=y.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n,r=this.tryEntries.length-1;0<=r;--r)if((n=this.tryEntries[r]).tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),A},finish:function(t){for(var e,n=this.tryEntries.length-1;0<=n;--n)if((e=this.tryEntries[n]).finallyLoc===t)return this.complete(e.completion,e.afterLoc),f(e),A},catch:function(t){for(var e,n=this.tryEntries.length-1;0<=n;--n)if((e=this.tryEntries[n]).tryLoc===t){var r=e.completion;if("throw"===r.type){var i=r.arg;f(e)}return i}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),A}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},function(t,e,n){n(317),t.exports=n(127).global},function(t,e,n){var r=n(318);r(r.G,{global:n(92)})},function(t,e,n){var r=n(92),i=n(127),o=n(319),s=n(321),a=n(328),u="prototype",c=function(t,e,n){var l,h,f,d=t&c.F,p=t&c.G,g=t&c.S,m=t&c.P,y=t&c.B,v=t&c.W,b=p?i:i[e]||(i[e]={}),w=b[u],S=p?r:g?r[e]:(r[e]||{})[u];for(l in p&&(n=e),n)(h=!d&&S&&void 0!==S[l])&&a(b,l)||(f=h?S[l]:n[l],b[l]=p&&"function"!=typeof S[l]?n[l]:y&&h?o(f,r):v&&S[l]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[u]=t[u],e}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((b.virtual||(b.virtual={}))[l]=f,t&c.R&&w&&!w[l]&&s(w,l,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e,n){var r=n(320);t.exports=function(t,e,n){return r(t),void 0===e?t:1===n?function(n){return t.call(e,n)}:2===n?function(n,r){return t.call(e,n,r)}:3===n?function(n,r,i){return t.call(e,n,r,i)}:function(){return t.apply(e,arguments)}}},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(322),i=n(327);t.exports=n(94)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(323),i=n(324),o=n(326),s=Object.defineProperty;e.f=n(94)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(93);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(94)&&!n(128)((function(){return 7!=Object.defineProperty(n(325)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(93),i=n(92).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(93);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,e,n){"use strict";t.exports={prefixProperties:n(129),cssUnitless:n(130),object:n(131),string:n(337)}},function(t,e,n){t.exports=n(331)()},function(t,e,n){"use strict";var r=n(134),i=n(135),o=n(334),s=n(133),a=n(132),u=n(129),c="undefined"==typeof document?{}:document.documentElement.style;t.exports=function(t){return function(e,n){n=n||{};var l=o(r(e)),h=i(e),f=t?l:h,d=a.style?t?a.style:a.css:"";if(l in c)return n.asString?f:[f];var p=f,g=u[h],m=[];if(t&&(p=s(f)),"function"==typeof g){var y=g(f,d)||[];y&&!Array.isArray(y)&&(y=[y]),y.length&&(y=y.map((function(e){return t?o(r(e)):i(e)}))),m=m.concat(y)}return d&&m.push(d+p),m.push(f),n.asString||1==m.length?m[0]:m}}},function(t){t.exports=/[-\s]+(.)?/g},function(t){"use strict";var e=/::/g,n=/([A-Z]+)([A-Z][a-z])/g,r=/([a-z\d])([A-Z])/g,i=/_/g;t.exports=function(t,o){return t?t.replace(e,"/").replace(n,"$1_$2").replace(r,"$1_$2").replace(i,o||"-"):""}},function(t){"use strict";t.exports=function(t){return t.length?t.charAt(0).toLowerCase()+t.substring(1):t}},function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){return!!t&&"[object Object]"===e.call(t)}},function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){return"[object Function]"===e.apply(t)}},function(t,e,n){"use strict";var r=n(131),i=n(136);t.exports=function(t,e){t=r(t,e);var n,o=[];for(n in t)i(t,n)&&o.push(n+": "+t[n]);return o.join("; ")}},function(t,e,n){var r;!function(){"use strict";function i(t){return null!=t}function o(t){return"number"==typeof t&&t>V&&t<z}function s(t){return"number"==typeof t&&0==t%1}function a(t,e){return o(t)&&t>e}function u(t,e){return o(t)&&t<e}function c(t,e){return o(t)&&t>=e}function l(t,e){return o(t)&&t<=e}function h(t){return"string"==typeof t}function f(t){return h(t)&&""!==t}function d(t){return"[object Object]"===Object.prototype.toString.call(t)}function p(t,e){try{return t instanceof e}catch(t){return!1}}function g(t){return H(t)}function m(t){return i(t)&&c(t.length,0)}function y(t){return"function"==typeof t}function v(t,e){var n;for(n=0;n<t.length;n+=1)if(t[n]===e)return e;return!e}function b(t,e){var n,r;for(n in t)if(t.hasOwnProperty(n)){if(d(r=t[n])&&b(r,e)===e)return e;if(r===e)return e}return!e}function w(t,e){return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function S(t,e){return function(){return E(t,arguments,e)}}function E(t,e,n){var r=t.l||t.length,i=e[r],o=e[r+1];return x(t.apply(null,e),f(i)?i:n,y(o)?o:TypeError),e[0]}function x(t,e,n){if(t)return t;throw new(n||Error)(e||"Assertion failed")}function M(t){var e=function(){return O(t.apply(null,arguments))};return e.l=t.length,e}function O(t){return!t}function A(t,e,n){var r=function(){var r,o;if(r=arguments[0],"maybe"===t&&F.assigned(r))return!0;if(!e(r))return!1;r=k(e,r),o=U.call(arguments,1);try{r.forEach((function(e){if(("maybe"!==t||i(e))&&!n.apply(null,[e].concat(o)))throw 0}))}catch(t){return!1}return!0};return r.l=n.length,r}function k(t,e){return t===m?U.call(e):t===d?Object.keys(e).map((function(t){return e[t]})):e}function T(t,e){return _([t,N,e])}function _(t){var e,n,r,i;return e=t.shift(),n=t.pop(),r=t.pop(),i=n||{},Object.keys(r).forEach((function(n){Object.defineProperty(i,n,{configurable:!1,enumerable:!0,writable:!1,value:e.apply(null,t.concat(r[n],I[n]))})})),i}function C(t,e){return _([t,e,null])}function P(t,e){L.forEach((function(n){t[n].of=C(e,N[n].of)}))}var R,I,N,B,j,F,D,L,U,V,z,H,W;R={v:"value",n:"number",s:"string",b:"boolean",o:"object",t:"type",a:"array",al:"array-like",i:"iterable",d:"date",f:"function",l:"length"},I={},N={},[{n:"equal",f:function(t,e){return t===e},s:"v"},{n:"undefined",f:function(t){return void 0===t},s:"v"},{n:"null",f:function(t){return null===t},s:"v"},{n:"assigned",f:i,s:"v"},{n:"primitive",f:function(t){var e;return!(null!=t&&!1!==t&&!0!==t)||("string"===(e=typeof t)||"number"===e||W&&"symbol"===e)},s:"v"},{n:"includes",f:function(t,e){var n,r,o,s,a;if(!i(t))return!1;if(W&&t[Symbol.iterator]&&y(t.values)){n=t.values();do{if((r=n.next()).value===e)return!0}while(!r.done);return!1}for(s=(o=Object.keys(t)).length,a=0;a<s;++a)if(t[o[a]]===e)return!0;return!1},s:"v"},{n:"zero",f:function(t){return 0===t}},{n:"infinity",f:function(t){return t===V||t===z}},{n:"number",f:o},{n:"integer",f:s},{n:"even",f:function(t){return"number"==typeof t&&0==t%2}},{n:"odd",f:function(t){return s(t)&&0!=t%2}},{n:"greater",f:a},{n:"less",f:u},{n:"between",f:function(t,e,n){return e<n?a(t,e)&&t<n:u(t,e)&&t>n}},{n:"greaterOrEqual",f:c},{n:"lessOrEqual",f:l},{n:"inRange",f:function(t,e,n){return e<n?c(t,e)&&t<=n:l(t,e)&&t>=n}},{n:"positive",f:function(t){return a(t,0)}},{n:"negative",f:function(t){return u(t,0)}},{n:"string",f:h,s:"s"},{n:"emptyString",f:function(t){return""===t},s:"s"},{n:"nonEmptyString",f:f,s:"s"},{n:"contains",f:function(t,e){return h(t)&&-1!==t.indexOf(e)},s:"s"},{n:"match",f:function(t,e){return h(t)&&!!t.match(e)},s:"s"},{n:"boolean",f:function(t){return!1===t||!0===t},s:"b"},{n:"object",f:d,s:"o"},{n:"emptyObject",f:function(t){return d(t)&&0===Object.keys(t).length},s:"o"},{n:"nonEmptyObject",f:function(t){return d(t)&&0<Object.keys(t).length},s:"o"},{n:"instanceStrict",f:p,s:"t"},{n:"instance",f:function(t,e){try{return p(t,e)||t.constructor.name===e.name||Object.prototype.toString.call(t)==="[object "+e.name+"]"}catch(t){return!1}},s:"t"},{n:"like",f:function t(e,n){for(var r in n)if(n.hasOwnProperty(r)){if(!1===e.hasOwnProperty(r)||typeof e[r]!=typeof n[r])return!1;if(d(e[r])&&!1===t(e[r],n[r]))return!1}return!0},s:"t"},{n:"array",f:g,s:"a"},{n:"emptyArray",f:function(t){return g(t)&&0===t.length},s:"a"},{n:"nonEmptyArray",f:function(t){return g(t)&&a(t.length,0)},s:"a"},{n:"arrayLike",f:m,s:"al"},{n:"iterable",f:function(t){return W?i(t)&&y(t[Symbol.iterator]):m(t)},s:"i"},{n:"date",f:function(t){return p(t,Date)&&s(t.getTime())},s:"d"},{n:"function",f:y,s:"f"},{n:"hasLength",f:function(t,e){return i(t)&&t.length===e},s:"l"}].map((function(t){var e=t.n;I[e]="Invalid "+R[t.s||"n"],N[e]=t.f})),B={apply:function(t,e){return j.array(t),y(e)?t.map((function(t){return e(t)})):(j.array(e),j.hasLength(t,e.length),t.map((function(t,n){return e[n](t)})))},map:function(t,e){return j.object(t),y(e)?function(t,e){var n={};return Object.keys(t).forEach((function(r){n[r]=e(t[r])})),n}(t,e):(j.object(e),function t(e,n){var r={};return Object.keys(n).forEach((function(i){var o=n[i];y(o)?F.assigned(e)?r[i]=!!o.m:r[i]=o(e[i]):d(o)&&(r[i]=t(e[i],o))})),r}(t,e))},all:function(t){return g(t)?v(t,!1):(j.object(t),b(t,!1))},any:function(t){return g(t)?v(t,!0):(j.object(t),b(t,!0))}},L=["array","arrayLike","iterable","object"],U=Array.prototype.slice,V=Number.NEGATIVE_INFINITY,z=Number.POSITIVE_INFINITY,H=Array.isArray,W="function"==typeof Symbol,B=w(B,N),j=T(S,x),F=T(M,O),D=T((function(t){var e=function(){return!!F.assigned(arguments[0])||t.apply(null,arguments)};return e.l=t.length,e.m=!0,e}),(function(t){return!(!1!==i(t))||t})),j.not=C(S,F),j.maybe=C(S,D),L.forEach((function(t){N[t].of=_([A.bind(null,null),N[t],N,null])})),P(j,S),P(F,M),L.forEach((function(t){D[t].of=_([A.bind(null,"maybe"),N[t],N,null]),j.maybe[t].of=C(S,D[t].of),j.not[t].of=C(S,F[t].of)})),function(i){void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)}(w(B,{assert:j,not:F,maybe:D}))}()},function(t){t.exports={defaultContainerStyles:{backgroundColor:"rgba(0,0,0,0.8)",minWidth:100,minHeight:45,position:"fixed",top:10,right:10,padding:15,fontSize:16,color:"white",borderRadius:3,boxShadow:"0px 0px 7px 2px rgba(0,0,0,0.2)",fontFamily:"sans-serif"},defaultPanelStyles:{borderTop:"1px solid #4a4444",marginTop:5,paddingTop:5},defaultPanelTitleStyles:{color:"#b1b0b0"},defaultPanelContentStyles:{fontSize:12}}},function(t,e,n){(function(t){function r(t,n){var r={seen:[],stylize:o};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&e._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),s(r,t,r.depth)}function i(t,e){var n=r.styles[e];return n?"["+r.colors[n][0]+"m"+t+"["+r.colors[n][1]+"m":t}function o(t){return t}function s(t,n,r){if(t.customInspect&&n&&w(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return p(i)||(i=s(t,i,r)),i}var o=a(t,n);if(o)return o;var h=Object.keys(n),f=function(t){var e={};return t.forEach((function(t){e[t]=!0})),e}(h);if(t.showHidden&&(h=Object.getOwnPropertyNames(n)),b(n)&&(0<=h.indexOf("message")||0<=h.indexOf("description")))return u(n);if(0===h.length){if(w(n)){var d=n.name?": "+n.name:"";return t.stylize("[Function"+d+"]","special")}if(m(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(v(n))return t.stylize(Date.prototype.toString.call(n),"date");if(b(n))return u(n)}var g,y="",S=!1,E=["{","}"];(l(n)&&(S=!0,E=["[","]"]),w(n))&&(y=" [Function"+(n.name?": "+n.name:"")+"]");return m(n)&&(y=" "+RegExp.prototype.toString.call(n)),v(n)&&(y=" "+Date.prototype.toUTCString.call(n)),b(n)&&(y=" "+u(n)),0!==h.length||S&&0!=n.length?0>r?m(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),g=S?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)M(e,s+"")?o.push(c(t,e,n,r,s+"",!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(c(t,e,n,r,i,!0))})),o}(t,n,r,f,h):h.map((function(e){return c(t,n,r,f,e,S)})),t.seen.pop(),function(t,e,n){return 60<t.reduce((function(t,e){return 0<=e.indexOf("\n")&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(g,y,E)):E[0]+y+E[1]}function a(t,e){if(g(e))return t.stylize("undefined","undefined");if(p(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return d(e)?t.stylize(""+e,"number"):h(e)?t.stylize(""+e,"boolean"):f(e)?t.stylize("null","null"):void 0}function u(t){return"["+Error.prototype.toString.call(t)+"]"}function c(t,e,n,r,i,o){var a,u,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?u=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(u=t.stylize("[Setter]","special")),M(r,i)||(a="["+i+"]"),u||(0>t.seen.indexOf(c.value)?-1<(u=f(n)?s(t,c.value,null):s(t,c.value,n-1)).indexOf("\n")&&(u=o?u.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+u.split("\n").map((function(t){return"   "+t})).join("\n")):u=t.stylize("[Circular]","special")),g(a)){if(o&&i.match(/^\d+$/))return u;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+u}function l(t){return Array.isArray(t)}function h(t){return"boolean"==typeof t}function f(t){return null===t}function d(t){return"number"==typeof t}function p(t){return"string"==typeof t}function g(t){return void 0===t}function m(t){return y(t)&&"[object RegExp]"===S(t)}function y(t){return"object"==typeof t&&null!==t}function v(t){return y(t)&&"[object Date]"===S(t)}function b(t){return y(t)&&("[object Error]"===S(t)||t instanceof Error)}function w(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function E(t){return 10>t?"0"+t.toString(10):t.toString(10)}function x(){var t=new Date,e=[E(t.getHours()),E(t.getMinutes()),E(t.getSeconds())].join(":");return[t.getDate(),C[t.getMonth()],e].join(" ")}function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function O(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}var A=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},k=/%[sdj%]/g;e.format=function(t){if(!p(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,o=i.length,s=(t+"").replace(k,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return i[n++]+"";case"%d":return+i[n++];case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}})),a=i[n];n<o;a=i[++n])s+=f(a)||!y(a)?" "+a:" "+r(a);return s},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var T,_={};e.debuglog=function(n){if(g(T)&&(T=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!_[n])if(new RegExp("\\b"+n+"\\b","i").test(T)){var r=t.pid;_[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else _[n]=function(){};return _[n]},e.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=l,e.isBoolean=h,e.isNull=f,e.isNullOrUndefined=function(t){return null==t},e.isNumber=d,e.isString=p,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=g,e.isRegExp=m,e.isObject=y,e.isDate=v,e.isError=b,e.isFunction=w,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(342);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",x(),e.format.apply(e,arguments))},e.inherits=n(343),e._extend=function(t,e){if(!e||!y(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var P="undefined"==typeof Symbol?void 0:Symbol("util.promisify.custom");e.promisify=function(t){function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(P&&t[P]){var e;if("function"!=typeof(e=t[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),P&&Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,A(t))},e.promisify.custom=P,e.callbackify=function(e){function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(s,null,e)}),(function(e){t.nextTick(O,e,s)}))}if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,A(e)),n}}).call(this,n(341))},function(t){function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(u===setTimeout)return setTimeout(t,0);if((u===e||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function i(){d&&h&&(d=!1,h.length?f=h.concat(f):p=-1,f.length&&o())}function o(){if(!d){var t=r(i);d=!0;for(var e=f.length;e;){for(h=f,f=[];++p<e;)h&&h[p].run();p=-1,e=f.length}h=null,d=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(t)}}function s(t,e){this.fun=t,this.array=e}function a(){}var u,c,l=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:e}catch(t){u=e}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(t){c=n}}();var h,f=[],d=!1,p=-1;l.nextTick=function(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new s(t,e)),1!==f.length||d||r(o)},s.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=a,l.addListener=a,l.once=a,l.off=a,l.removeListener=a,l.removeAllListeners=a,l.emit=a,l.prependListener=a,l.prependOnceListener=a,l.listeners=function(){return[]},l.binding=function(){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t){(function(e){t.exports=e}).call(this,{})},function(t){var e,n;window.mozRTCPeerConnection||navigator.mozGetUserMedia?(e="moz",n=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10)):(window.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&(e="webkit",n=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10));var r=window.mozRTCPeerConnection||window.webkitRTCPeerConnection,i=window.mozRTCIceCandidate||window.RTCIceCandidate,o=window.mozRTCSessionDescription||window.RTCSessionDescription,s=window.webkitMediaStream||window.MediaStream,a="https:"===window.location.protocol&&("webkit"===e&&26<=n||"moz"===e&&33<=n),u=window.AudioContext||window.webkitAudioContext,c=document.createElement("video"),l=c&&c.canPlayType&&"probably"===c.canPlayType('video/webm; codecs="vp8", vorbis'),h=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;t.exports={prefix:e,browserVersion:n,support:!!r&&l&&!!h,supportRTCPeerConnection:!!r,supportVp8:l,supportGetUserMedia:!!h,supportDataChannel:!!(r&&r.prototype&&r.prototype.createDataChannel),supportWebAudio:!(!u||!u.prototype.createMediaStreamSource),supportMediaStream:!(!s||!s.prototype.removeTrack),supportScreenSharing:!!a,dataChannel:!!(r&&r.prototype&&r.prototype.createDataChannel),webAudio:!(!u||!u.prototype.createMediaStreamSource),mediaStream:!(!s||!s.prototype.removeTrack),screenSharing:!!a,AudioContext:u,PeerConnection:r,SessionDescription:o,IceCandidate:i,MediaStream:s,getUserMedia:h}},function(t,e,n){"use strict";var r=String.fromCharCode,i=Math.pow,o=Math.floor,s=Math.min;(function(t){function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,0>n||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=d(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(e,n),i=(t=u(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=u(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */(e.length)?u(t,0):d(t,e);if("Buffer"===e.type&&J(e.data))return d(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(0>t)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(h(e),t=u(t,0>e?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=0>e.length?0:0|p(e.length);t=u(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function g(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(r)return V(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||0>e)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return _(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),0>n&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(0>n){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var s,a=1,u=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=(r+"").toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(2>t.length||2>e.length)return-1;a=2,u/=2,c/=2,n/=2}if(i){var l=-1;for(s=n;s<u;s++)if(o(t,s)!==o(e,-1==l?0:s-l))-1!=l&&(s-=s-l),l=-1;else if(-1==l&&(l=s),s-l+1===c)return l*a}else for(n+c>u&&(n=u-c),s=n;0<=s;s--){for(var h=!0,f=0;f<c;f++)if(o(t,s+f)!==o(e,f)){h=!1;break}if(h)return s}return-1}function w(t,e,n,r){n=+n||0;var i=t.length-n;r?(r=+r)>i&&(r=i):r=i;var o=e.length;if(0!=o%2)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s,a=0;a<r;++a){if(s=parseInt(e.substr(2*a,2),16),isNaN(s))return a;t[n+a]=s}return a}function S(t,e,n,r){return H(V(e,t.length-n),t,n,r)}function E(t,e,n,r){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return E(t,e,n,r)}function M(t,e,n,r){return H(z(e),t,n,r)}function O(t,e,n,r){return H(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!(0>(e-=2));++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?W.fromByteArray(t):W.fromByteArray(t.slice(e,n))}function k(t,e,n){n=s(t.length,n);for(var r=[],i=e;i<n;){var o,a,u,c,l=t[i],h=null,f=239<l?4:223<l?3:191<l?2:1;if(i+f<=n)1==f?128>l&&(h=l):2==f?128==(192&(o=t[i+1]))&&(127<(c=(31&l)<<6|63&o)&&(h=c)):3==f?(o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(2047<(c=(15&l)<<12|(63&o)<<6|63&a)&&(55296>c||57343<c)&&(h=c))):4==f&&(o=t[i+1],a=t[i+2],u=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&u)&&(65535<(c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&u)&&1114112>c&&(h=c)));null===h?(h=65533,f=1):65535<h&&(h-=65536,r.push(55296|1023&h>>>10),h=56320|1023&h),r.push(h),i+=f}return T(r)}function T(t){var e=t.length;if(e<=Y)return r.apply(String,t);for(var n="",i=0;i<e;)n+=r.apply(String,t.slice(i,i+=Y));return n}function _(t,e,n){var i="";n=s(t.length,n);for(var o=e;o<n;++o)i+=r(127&t[o]);return i}function C(t,e,n){var i="";n=s(t.length,n);for(var o=e;o<n;++o)i+=r(t[o]);return i}function P(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=U(t[o]);return i}function R(t,e,n){for(var i=t.slice(e,n),o="",s=0;s<i.length;s+=2)o+=r(i[s]+256*i[s+1]);return o}function I(t,e,n){if(0!=t%1||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function B(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=s(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function j(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=s(t.length-n,4);i<o;++i)t[n+i]=255&e>>>8*(r?i:3-i)}function F(t,e,n,r){if(n+r>t.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function D(t,e,n,r,i){return i||F(t,0,n,4),G.write(t,e,n,r,23,4),n+4}function L(t,e,n,r,i){return i||F(t,0,n,8),G.write(t,e,n,r,52,8),n+8}function U(t){return 16>t?"0"+t.toString(16):t.toString(16)}function V(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if(55295<(n=t.charCodeAt(s))&&57344>n){if(!i){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===r){-1<(e-=3)&&o.push(239,191,189);continue}i=n;continue}if(56320>n){-1<(e-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(e-=3)&&o.push(239,191,189);if(i=null,128>n){if(0>(e-=1))break;o.push(n)}else if(2048>n){if(0>(e-=2))break;o.push(192|n>>6,128|63&n)}else if(65536>n){if(0>(e-=3))break;o.push(224|n>>12,128|63&n>>6,128|63&n)}else{if(!(1114112>n))throw new Error("Invalid code point");if(0>(e-=4))break;o.push(240|n>>18,128|63&n>>12,128|63&n>>6,128|63&n)}}return o}function z(t){return W.toByteArray(function(t){if(2>(t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(q,"")).length)return"";for(;0!=t.length%4;)t+="=";return t}(t))}function H(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}var W=n(347),G=n(348),J=n(349);e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0===t.TYPED_ARRAY_SUPPORT?function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}():t.TYPED_ARRAY_SUPPORT,e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return l(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return h(e),0>=e||void 0===n?u(t,e):"string"==typeof r?u(t,e).fill(n,r):u(t,e).fill(n)}(null,t,e,n)},c.allocUnsafe=function(t){return f(null,t)},c.allocUnsafeSlow=function(t){return f(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=s(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch((t+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!J(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(0!=t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(0!=t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(0!=t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?k(this,0,t):m.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),0>e||n>t.length||0>r||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),u=s(o,a),l=this.slice(r,i),h=t.slice(e,n),f=0;f<u;++f)if(l[f]!==h[f]){o=l[f],a=h[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),0<t.length&&(0>n||0>e)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return S(this,t,e,n);case"ascii":return E(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return M(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Y=4096;c.prototype.slice=function(t,e){var n,r=this.length;if(0>(t=~~t)?0>(t+=r)&&(t=0):t>r&&(t=r),0>(e=void 0===e?r:~~e)?0>(e+=r)&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;0<e&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],o=1,s=0;++s<e&&(o*=256);)r+=this[t+s]*o;return r>=(o*=128)&&(r-=i(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,o=1,s=this[t+--r];0<r&&(o*=256);)s+=this[t+--r]*o;return s>=(o*=128)&&(s-=i(2,8*e)),s},c.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),G.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),G.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),G.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),G.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||N(this,t,e,n,i(2,8*n)-1,0);var o=1,s=0;for(this[e]=255&t;++s<n&&(o*=256);)this[e+s]=255&t/o;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||N(this,t,e,n,i(2,8*n)-1,0);var o=n-1,s=1;for(this[e+o]=255&t;0<=--o&&(s*=256);)this[e+o]=255&t/s;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=o(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):j(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=i(2,8*n-1);N(this,t,e,n,o-1,-o)}var s=0,a=1,u=0;for(this[e]=255&t;++s<n&&(a*=256);)0>t&&0==u&&0!==this[e+s-1]&&(u=1),this[e+s]=255&(t/a>>0)-u;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=i(2,8*n-1);N(this,t,e,n,o-1,-o)}var s=n-1,a=1,u=0;for(this[e+s]=255&t;0<=--s&&(a*=256);)0>t&&0==u&&0!==this[e+s+1]&&(u=1),this[e+s]=255&(t/a>>0)-u;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=o(t)),0>t&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):B(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):B(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):j(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;0<=i;--i)t[i+e]=this[i+n];else if(1e3>o||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);256>i&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(0>e||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=c.isBuffer(t)?t:V(new c(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var q=/[^+\/0-9A-Za-z-_]/g}).call(this,n(95))},function(t,e){"use strict";function n(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function r(t){return o[63&t>>18]+o[63&t>>12]+o[63&t>>6]+o[63&t]}function i(t,e,n){for(var i,o=[],s=e;s<n;s+=3)i=(16711680&t[s]<<16)+(65280&t[s+1]<<8)+(255&t[s+2]),o.push(r(i));return o.join("")}e.byteLength=function(t){var e=n(t),r=e[0],i=e[1];return 3*(r+i)/4-i},e.toByteArray=function(t){var e,r,i=n(t),o=i[0],u=i[1],c=new a(function(t,e,n){return 3*(e+n)/4-n}(0,o,u)),l=0,h=0<u?o-4:o;for(r=0;r<h;r+=4)e=s[t.charCodeAt(r)]<<18|s[t.charCodeAt(r+1)]<<12|s[t.charCodeAt(r+2)]<<6|s[t.charCodeAt(r+3)],c[l++]=255&e>>16,c[l++]=255&e>>8,c[l++]=255&e;return 2===u&&(e=s[t.charCodeAt(r)]<<2|s[t.charCodeAt(r+1)]>>4,c[l++]=255&e),1===u&&(e=s[t.charCodeAt(r)]<<10|s[t.charCodeAt(r+1)]<<4|s[t.charCodeAt(r+2)]>>2,c[l++]=255&e>>8,c[l++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,s=[],a=16383,u=0,c=n-r;u<c;u+=a)s.push(i(t,u,u+a>c?c:u+a));return 1==r?(e=t[n-1],s.push(o[e>>2]+o[63&e<<4]+"==")):2==r&&(e=(t[n-2]<<8)+t[n-1],s.push(o[e>>10]+o[63&e>>4]+o[63&e<<2]+"=")),s.join("")};for(var o=[],s=[],a="undefined"==typeof Uint8Array?Array:Uint8Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,l=u.length;c<l;++c)o[c]=u[c],s[u.charCodeAt(c)]=c;s[45]=62,s[95]=63},function(t,e){var n=Math.pow;e.read=function(t,e,r,i,o){var s,a,u=8*o-i-1,c=(1<<u)-1,l=c>>1,h=-7,f=r?o-1:0,d=r?-1:1,p=t[e+f];for(f+=d,s=p&(1<<-h)-1,p>>=-h,h+=u;0<h;s=256*s+t[e+f],f+=d,h-=8);for(a=s&(1<<-h)-1,s>>=-h,h+=i;0<h;a=256*a+t[e+f],f+=d,h-=8);if(0===s)s=1-l;else{if(s===c)return a?NaN:1/0*(p?-1:1);a+=n(2,i),s-=l}return(p?-1:1)*a*n(2,s-i)},e.write=function(t,e,r,i,o,s){var a,u,c,l=8*s-o-1,h=(1<<l)-1,f=h>>1,d=23===o?5.960464477539062e-8:0,p=i?0:s-1,g=i?1:-1,m=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),1>e*(c=n(2,-a))&&(a--,c*=2),2<=(e+=1<=a+f?d/c:d*n(2,1-f))*c&&(a++,c/=2),a+f>=h?(u=0,a=h):1<=a+f?(u=(e*c-1)*n(2,o),a+=f):(u=e*n(2,f-1)*n(2,o),a=0));8<=o;t[r+p]=255&u,p+=g,u/=256,o-=8);for(a=a<<o|u,l+=o;0<l;t[r+p]=255&a,p+=g,a/=256,l-=8);t[r+p-g]|=128*m}},function(t){var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},function(t,e,n){"use strict";function r(t){Wn.isProd||i(t)}function i(t){console.log("[OpenAudioMc] "+t),Ct.push(t),7<Ct.length&&Ct.shift()}function o(t,e,n){if(t in Rt)for(let n,r=0;r<Rt[t].length;r++)n=Rt[t][r],n.element.setAttribute(n.att,e);else{let r=[];(function e(i){if(i.children.length)for(let o=0;o<i.children.length;o++){e(i.children[o]);let s=i.children[o].attributes;for(let e,a=0;a<s.length;a++)e=s[a],-1!==e.value.indexOf(t)&&(i.children[o].removeAttribute(e.name),r.push({element:i.children[o],att:n}))}})(document),Rt[t]=r,o(t,e)}}function s(t,e,n=!1,r=!1){function i(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(t in Pt&&!r)for(let r=0;r<Pt[t].length;r++)if(n&&"RAW"===Pt[t][r].parentElement.tagName){let n=Pt[t][r].parentElement;for(;n.hasChildNodes();)n.removeChild(n.childNodes[0]);let i=a(e);for(let e=0;e<i.length;e++)n.appendChild(i[e]),Pt[t][r]=n.childNodes[0]}else Pt[t][r].nodeValue=e;else(function(){var t=[];return function e(n){if(n.childNodes.length)for(var r=0;r<n.childNodes.length;r++)e(n.childNodes[r]);else n.nodeType===Node.TEXT_NODE&&t.push(n)}(document),t})().forEach((function(r){if(-1!==r.nodeValue.indexOf(t)){let o=Pt[t];if(null==o&&(o=[]),n&&"RAW"===r.parentElement.tagName){let n=r.parentElement;for(;n.hasChildNodes();)n.removeChild(n.childNodes[0]);let o=a(r.nodeValue.replace(new RegExp(i(t),"g"),e));for(let t=0;t<o.length;t++)n.appendChild(o[t]),r=n.childNodes[0]}else r.nodeValue=r.nodeValue.replace(new RegExp(i(t),"g"),e);o.push(r),Pt[t]=o}}))}function a(t){var e=document.createElement("template");return e.innerHTML=t,e.content.childNodes}function u(t){window.requestAnimationFrame((function(){window.requestAnimationFrame(t)}))}function c(t){if("string"!=typeof t&&(t+=""),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t+=""),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return It.iterable&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function g(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:It.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:It.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:It.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():It.arrayBuffer&&It.blob&&function(t){return t&&DataView.prototype.isPrototypeOf(t)}(t)?(this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):It.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||Bt(t))?this._bodyArrayBuffer=m(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):It.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},It.blob&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=p(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=Array(e.length),r=0;r<e.length;r++)n[r]=Mt(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},It.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(t,e){var n=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t+"";if(this.credentials=e.credentials||this.credentials||!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=function(t){var e=t.toUpperCase();return-1<jt.indexOf(e)?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function w(t){var e=new f;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e}function S(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&300>this.status,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}function E(t,e){return new Promise((function(n,r){function i(){s.abort()}var o=new v(t,e);if(o.signal&&o.signal.aborted)return r(new Dt("Aborted","AbortError"));var s=new XMLHttpRequest;s.onload=function(){var t={status:s.status,statusText:s.statusText,headers:w(s.getAllResponseHeaders()||"")};t.url="responseURL"in s?s.responseURL:t.headers.get("X-Request-URL");var e="response"in s?s.response:s.responseText;n(new S(e,t))},s.onerror=function(){r(new TypeError("Network request failed"))},s.ontimeout=function(){r(new TypeError("Network request failed"))},s.onabort=function(){r(new Dt("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&It.blob&&(s.responseType="blob"),o.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",i),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",i)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}function x(t){i(t)}function M(t,e,n){E(Lt.ERROR_REPORTING,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerName:e,message:"build 1336: "+t})}).then(t=>{null!=n&&n(),t.json().then(t=>{console.log("Reported error. Reponse was: "+JSON.stringify(t))})}).catch(()=>{console.log("An error occoured while reporting another error. Weird.")})}function O(){Vt.canStart&&(o("{{ oam.click_request_style }}","display: none;","style"),o("{{ oam.hidden_until_started }}","","style"),Vt.start())}function A(t){o("{{ oam.loading_tagline_style }}","","style"),s("{{ oam.loading_tagline_text }}",t)}function k(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<t;i++)e+=n.charAt(kt(Math.random()*r));return e}function T(t){return Xt[t]}function _(t){i("Untracking panner "+t),delete Qt[t]}function C(t,e){.4<Xt.rollOffFactor?(t.rolloffFactor=parseFloat(Xt.rollOffFactor),t.distanceModel="exponential"):(t.rolloffFactor=parseFloat(Xt.rollOffFactor),t.distanceModel="linear"),"accurate"===Xt.spatialAudioRendering?(t.panningModel="equalpower",t.coneOuterGain=1,t.coneInnerAngle=90,t.maxDistance=e):(t.panningModel="HRTF",t.coneOuterGain=1,t.coneInnerAngle=120,t.maxDistance=e)}function P(t,e){C(t,e);let n=k(5);return Qt[n]=t,n}function R(){s("{{ oam.rtc_peer_count }}",""+ie)}function I(){window.debugUi=new _t.a(document.body,{zIndex:999999999,backgroundColor:"black"}),u(()=>{document.getElementById("j3-info-popup").style.zIndex=99999999,document.getElementById("j3-info-popup").style.backgroundColor="black"}),window.debugUi.addPanel(se.BUILD,()=>Wn.build+" by "+Wn.compiler+" "+Wn.envDescription);for(let t=0;t<ce.length;t++)ce[t]();if(!ae){ae=!0;for(let t=0;t<ue.length;t++)ue[t]()}i("Enabling debug mode")}function N(t){return ae?(!Wn.isProd&&t(),void ce.push(t)):void ue.push(t)}async function B(){i("STARTING FAKE CLIENT TO TEST UI!!!");let t=new Ut("2fb3a3e2-64ca-433d-8692-ff9d35bc6f92","2fb3a3e2-64ca-433d-8692-ff9d35bc6f92","Nepla","6969");window.tokenCache=t,o("{{ oam.player_head }}","https://visage.surgeplay.com/bust/"+t.uuid+"?overlay","src"),s("{{ oam.player_name }}",t.name);var e=new Gn(!0);window.openAudioMc=e,await e.start(),o("{{ oam.click_request_style }}","display: none;","style"),o("{{ oam.hidden_until_started }}","","style"),await function(t,e){return new Promise((n,r)=>{var o=t,s=setInterval(()=>(i("Waiting..."),0==--o?(clearInterval(s),i("Wait for timed out!"),void r("Timed out")):void(e()&&(i("Wait for finished!"),clearInterval(s),n()))),1e3)})}(10,()=>e.directorFinished),await e.messageModule.load("en.lang"),"Notification"in window&&e.notificationModule.setupPermissions(),e.hueModule=new Wt(e,Object(Gt.a)()),e.settingsManager=new $t(e),e.messageModule.seedStatic([["%player",t.name],["%server","Class Community"]]),s("{{ oam.volume }}","24%"),s("{{ craftmend.account.serverName }}","Community"),setTimeout(()=>{o("{{ oam.loader_style }}","display: none;","style")},250),o("{{ navbar.vc_button }}","","style"),document.getElementById("voice-settings-container").style.display="",new oe(e,"OGnelly","2039de57-aab9-49f7-816c-b1f6cf4b5d5f",100,()=>{}),new oe(e,"seulri","90477479-f6e2-402e-b67b-5c074d93b086",48,()=>{}),new oe(e,"Axeljucken","7564e03a-3ebd-43e3-ae5e-2f10e1595020",123,()=>{})}async function j(t,e){const n=e.media.loop,r=e.media.startInstant,i=e.media.mediaId,o=e.media.source,s=e.media.doPickup,a=e.media.fadeTime,u=e.distance,c=e.media.flag,l=e.maxDistance;let h=100;null!=e.media.volume&&0!=e.media.volume&&(h=e.media.volume),t.getMediaManager().destroySounds(i,!1,!0);const f=new fe(i);f.trackable=!0;const d=new ye;if(d.openAudioMc=t,d.setOa(t),await d.load(o),t.getMediaManager().mixer.addChannel(f),f.addSound(d),f.setChannelVolume(0),d.setLooping(n),f.setTag(i),0!==l){let t=this.convertDistanceToVolume(l,u);f.setTag("SPECIAL"),f.maxDistance=l,f.fadeChannel(t,a)}else f.setTag("DEFAULT"),setTimeout(()=>{0===a?(f.setChannelVolume(h),f.updateFromMasterVolume()):(f.updateFromMasterVolume(),f.fadeChannel(h,a))},1);f.setTag(c),t.getMediaManager().mixer.updateCurrent(),d.finalize().then(()=>{s&&d.startDate(r,!0),d.finish()})}function F(t,e){const n=e.message;t.notificationModule.sendNotification(e.title,n),new Ht("#alert-area",{closeTime:3e4,persistent:!1,hideCloseButton:!1}).show(e.title+"<hr />"+n)}function D(t,e){const n=parseInt(e.protocolRevision);wt("#dcr-photos").then(t=>{console.log("Element found",t),console.log("DCR => BEFORE IFRAME");let e=window.document.getElementById("dcr-photos"),n=St();console.log("DCR => TOKENSET = "+JSON.stringify(n,null,4)),e.src="/"===Lt.DCR_PHOTOS.slice(-1)?Lt.DCR_PHOTOS+n.uuid:Lt.DCR_PHOTOS+"/"+n.uuid,e.style.display="block",console.log("DCR => AFTER IFRAME"),console.log(t.textContent)}),i("Received PROTOCOL revision update"),2<=n&&(i("PROTO rev => 2, enabling callbacks"),t.socketModule.callbacksEnabled=!0),3<=n&&(i("PROTO rev => 3, enabling youtube callbacks"),t.socketModule.supportsYoutube=!0),4<=n&&(i("PROTO rev => 4, enabling volume callbacks"),t.mediaManager.startVolumeWatcher(t))}function L(t,e){const n=e.volume;t.getMediaManager().setMasterVolume(n),document.getElementById("volume-slider").value=n}function U(t,e){t.getMediaManager().destroySounds(e.soundId,e.all,!1,e.fadeTime)}function V(t,e){const n=e.lights,r=e.hueColor,i="rgba("+r.r+","+r.g+","+r.b+","+function(t,e,n){return(t-e[0])*(n[1]-n[0])/(e[1]-e[0])+n[0]}(r.bir,[0,255],[0,1])+")";t.getHueModule().isLinked&&t.getHueModule().setLight(n,i)}function z(t,e){function n(t,e){return At((t-e)/t*100)}const r=e.mediaOptions.target,o=e.mediaOptions.fadeTime,s=e.mediaOptions.distance,a=e.mediaOptions.reApplyVolume,u=e.mediaOptions.newVolume;for(let e of t.getMediaManager().mixer.getChannels())e.hasTag(r)&&(a?(i("Updating volume for channel "+r+" to "+u+", possibly due to region change"),e.fadeChannel(u,o)):e.fadeChannel(n(e.maxDistance,s),o))}function H(t,e){const n=e.x,r=e.y,i=e.z,o=e.pitch,s=e.yaw;xe.onMove=(e,n,r)=>{t.world.player.updateLocation(e,n,r)},xe.interpolate(new we(n,r,i),o,s,Se.SELF_LOCATION_UPDATES)}function W(t,e){const n=e.clientSpeaker,r=new we(n.location.x,n.location.y,n.location.z).add(.5,.5,.5),i=new Me(n.id,n.source,r,n.type,n.maxDistance,n.startInstant,t);t.world.addSpeaker(n.id,i)}function G(t,e){const n=e.clientSpeaker;t.world.removeSpeaker(n.id)}function J(t,e){if(e.clear)i("Clearing pre-fetched resources"),setTimeout((function(){ge={}}),2500);else{Xt.preloadAudio;let t=e.source;i("Pre-fetching resource.."),setTimeout((function(){!async function(t){t=await me.translate(t);let e=new Audio;e.autoplay=!1,e.src=t,e.load(),ge[t]=e}(t)}),2500)}}function Y(t,e={}){let n="",r="",i="",o=0;return e.title&&e.title,e.primary&&(r=e.primary),e.secondary&&(i=e.secondary),e.wait&&(o=e.wait),function(t,e="",n=""){s("{{ modal.content }}",t,!0),s("{{ modal.primary }}",e,!0),s("{{ modal.secondary }}",n,!0),document.getElementById("modal-primary").style.display=""===e?"none":"",document.getElementById("modal-secondary").style.display=""===n?"none":""}(t,r,i),document.getElementById("my-modal-2").checked=!0,function(t){document.getElementById("modal-primary").onclick=t}(q),0===o?null:new Promise(t=>{0===o?t():setTimeout(t,o)})}function q(){document.getElementById("my-modal-2").checked=!1}function K(t,e){if(null==RTCPeerConnection)return void Y("Your browser doesn't  support WebRTC, or it could be that a plugin or manual setting disabled it. OpenAudioMc promises only to use WebRTC for its intended purposes (serve media). Please check your browser settings and plugins, and then try again once you enabled it.",{title:"WebRTC error!",icon:"error"}).then(()=>{});t.voiceModule.enable(e.streamServer,e.streamKey,e.radius),e.hasModeration&&o("{{ oam.hidden_unless_vc_mod }}","","style"),new Ht("#alert-area",{closeTime:6e4,persistent:!1,hideCloseButton:!0}).show(getMessageString("notification.info.voicechat"))}function X(t,e){t.voiceModule.addPeer(e.targetUuid,e.targetPlayerName,e.targetStreamKey,e.location)}function $(t,e){null==e.streamKey?t.voiceModule.removeAllPeers():t.voiceModule.removePeer(e.streamKey)}function Q(t,e){for(let n,r=0;r<e.updateSet.length;r++)n=e.updateSet[r],t.voiceModule.peerLocationUpdate(n.streamKey,n.x,n.y,n.z)}function Z(){onMicMutePress()}function tt(t,e){e.blurred?t.voiceModule.blurWithReason():t.voiceModule.unblur()}function et(t,e){function n(t,e){let n=0,i=e||t.innerHTML,o=i.length;ke.push(window.setInterval((function(){n>=o&&(n=0),i=r(i,n),t.innerHTML=i,n++}),0))}function r(t,e){let n=Mt(function(t,e){return kt(Math.random()*(e-t+1))+t}(64,90));return t.substr(0,e)+n+t.substr(e+1,t.length)}let i,o,s=e.childNodes.length;if(-1<t.indexOf("<br>")){e.innerHTML=t;for(let t=0;t<s;t++)o=e.childNodes[t],3===o.nodeType&&(i=document.createElement("span"),i.innerHTML=o.nodeValue,e.replaceChild(i,o),n(i))}else n(e,t)}function nt(t,e){let n=e.length,r=document.createElement("span"),i=!1;for(let o=0;o<n;o++)r.style.cssText+=Te[e[o]]+";","§k"===e[o]&&(et(t,r),i=!0);return i||(r.innerHTML=t),r}function rt(t,e,n,r){E("https://cloud.openaudiomc.net/api/v3/account-services/client/login/"+r.publicServerKey).then((function(r){r.json().then(r=>{function o(t){t.endsWith("mp4")&&r.response.isPatreon?(document.getElementById("video-bg-wrapper").style.display="",document.getElementById("video-element").innerHTML+='<source src="'+t+'" id="video-bg-src" type="video/mp4">',setTimeout(()=>{document.getElementById("video-element").play()},300)):document.documentElement.style.setProperty("--background-image",'url("'+t+'")')}function s(e){!function(t,e){const n=t.replace("#","");parseInt(n.substring(0,2),16),parseInt(n.substring(2,4),16),parseInt(n.substring(4,6),16)}(e,40),document.documentElement.style.setProperty("--primary-accent",e);for(let n=0;n<_e.length;n++)t.getUserInterfaceModule().changeColor(_e[n],e);_e=[e]}if(console.log("[DCR] ModernLoginHandler = "+JSON.stringify(r,null,4)),null==r.errors||0!=r.errors.length)return n(r.errors),console.log(r.errors),void Swal.fire({title:"error",html:"Something went terribly wrong while opening the OpenAudioMc web client. Please request a new link with /audio and try again",showCloseButton:!1,backdrop:"",showCancelButton:!1,timerProgressBar:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1});let a=r.response;if(a.settings.banned)return void M("Declined connection due to ban "+window.location.host,"Steve",(function(){window.location.href="https://help.openaudiomc.net/blocked_domain.html"}));let u=a.secureEndpoint;i("accepting and applying settings");let c=a.settings.ambianceSound;null!=a.settings.backgroundImage&&""!=a.settings.backgroundImage&&(a.settings.backgroundImage="https://media.openaudiomc.net/proxy?apiurl="+a.settings.backgroundImage);const l=a.settings.backgroundImage;window.debugHooks.setBgImage=o,""!==l&&o(l);const h=a.settings.title,f=a.settings.activeMessage;let d=a.settings.welcomeMessage;if(d=d.replace("%name",t.tokenSet.name),r.response.settings.useTranslations||(t.messageModule.setKey("home.welcome",d),t.messageModule.setKey("home.activateText",a.settings.startButton),t.messageModule.setKey("home.header",f)),s(a.settings.color),window.debugHooks.setBgColor=s,""!=a.settings.startSound&&(t.getMediaManager().startSound=a.settings.startSound),"default"!==h){document.title=h;try{parent.document.title=h}catch(t){}}i("Logging into "+a.name+" with "+a.playerCount+" online player(s)"),e({fromCache:r.fromCache,host:u,background:l,ambianceSound:c,playerCount:r.response.playerCount,claimed:r.response.claimed,rtc:r.response.rtc,serverName:r.response.name,isPatreon:r.response.isPatreon,countryCode:r.response.countryCode,useTranslations:r.response.settings.useTranslations})}).catch(t=>{console.log("Dead end 1"),n(t)})})).catch((function(t){console.log("Dead end 2"),n(t)}))}function it(t){t.gain.value=en/100}function ot(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function st(t,e){this._pairs=[],t&&Object(cn.a)(t,this,e)}function at(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ut(t,e,n){if(!e)return t;const r=n&&n.encode||at,i=n&&n.serialize;let o;if(o=i?i(e,n):an.a.isURLSearchParams(e)?e.toString():new hn(e,n).toString(r),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}function ct(t){return t&&(t+"").trim().toLowerCase()}function lt(t){return!1===t||null==t?t:an.a.isArray(t)?t.map(lt):t+""}function ht(t,e,n,r){return an.a.isFunction(r)?r.call(this,e,n):an.a.isString(e)?an.a.isString(r)?-1!==e.indexOf(r):an.a.isRegExp(r)?r.test(e):void 0:void 0}function ft(t,e){const n=this||xn,r=e||n,i=kn.from(r.headers);let o=r.data;return an.a.forEach(t,(function(t){o=t.call(n,o,i.normalize(),e?e.status:void 0)})),i.normalize(),o}function dt(t){return!(!t||!t.__CANCEL__)}function pt(t,e,n){dn.a.call(this,null==t?"canceled":t,dn.a.ERR_CANCELED,e,n),this.name="CanceledError"}function gt(t,e){return t&&!function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}function mt(t,e){let n=0;const r=Pn(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-n,u=r(a);n=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:u||void 0,estimated:u&&s&&o<=s?(s-o)/u:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}function yt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Tn(null,t)}function vt(t){yt(t),t.headers=kn.from(t.headers),t.data=ft.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return In.getAdapter(t.adapter||xn.adapter)(t).then((function(e){return yt(t),e.data=ft.call(t,t.transformResponse,e),e.headers=kn.from(e.headers),e}),(function(e){return dt(e)||(yt(t),e&&e.response&&(e.response.data=ft.call(t,t.transformResponse,e.response),e.response.headers=kn.from(e.response.headers))),Promise.reject(e)}))}function bt(t,e){function n(t,e,n){return an.a.isPlainObject(t)&&an.a.isPlainObject(e)?an.a.merge.call({caseless:n},t,e):an.a.isPlainObject(e)?an.a.merge({},e):an.a.isArray(e)?e.slice():e}function r(t,e,r){return an.a.isUndefined(e)?an.a.isUndefined(t)?void 0:n(void 0,t,r):n(t,e,r)}function i(t,e){if(!an.a.isUndefined(e))return n(void 0,e)}function o(t,e){return an.a.isUndefined(e)?an.a.isUndefined(t)?void 0:n(void 0,t):n(void 0,e)}function s(r,i,o){return o in e?n(r,i):o in t?n(void 0,r):void 0}e=e||{};const a={},u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(t,e)=>r(Nn(t),Nn(e),!0)};return an.a.forEach(Object.keys(t).concat(Object.keys(e)),(function(n){const i=u[n]||r,o=i(t[n],e[n],n);an.a.isUndefined(o)&&i!==s||(a[n]=o)})),a}function wt(t){return new Promise(e=>{if(document.querySelector(t))return e(document.querySelector(t));const n=new MutationObserver(()=>{document.querySelector(t)&&(e(document.querySelector(t)),n.disconnect())});n.observe(document.body,{childList:!0,subtree:!0})})}function St(){return Hn}var Et=Math.PI,xt=Math.cos,Mt=String.fromCharCode,Ot=Math.abs,At=Math.round,kt=Math.floor;n.r(e),n.d(e,"OpenAudioEnv",(function(){return Wn})),n.d(e,"OpenAudioMc",(function(){return Gn})),n.d(e,"waitForElm",(function(){return wt})),n.d(e,"getTokenSet",(function(){return St}));n(143);var Tt=n(138),_t=n.n(Tt);let Ct=[];const Pt={},Rt={};var It={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(It.arrayBuffer)var Nt=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Bt=ArrayBuffer.isView||function(t){return t&&-1<Nt.indexOf(Object.prototype.toString.call(t))};f.prototype.append=function(t,e){t=c(t),e=l(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},f.prototype.delete=function(t){delete this.map[c(t)]},f.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},f.prototype.set=function(t,e){this.map[c(t)]=l(e)},f.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),h(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),h(t)},It.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var jt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},S.error=function(){var t=new S(null,{status:0,statusText:""});return t.type="error",t};var Ft=[301,302,303,307,308];S.redirect=function(t,e){if(-1===Ft.indexOf(e))throw new RangeError("Invalid status code");return new S(null,{status:e,headers:{location:t}})};var Dt=self.DOMException;try{new Dt}catch(e){(Dt=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),Dt.prototype.constructor=Dt}E.polyfill=!0,self.fetch||(self.fetch=E,self.Headers=f,self.Request=v,self.Response=S);const Lt={CONTENT_PROXY:"https://media.openaudiomc.net/proxy?apiurl=",YOUTUBE_PROXY:"https://media.openaudiomc.net/youtube?id=",SOUNDCLOUD_PROXY:"https://media.openaudiomc.net/soundcloud?u=",DRIVE_PROXY:"https://media.openaudiomc.net/googledrive?id=",ERROR_REPORTING:"https://plus.openaudiomc.net/cf-log/production",MAIN_BACKEND:"https://plus.openaudiomc.net/",CLIENT_SESSION_SERVER:"https://plus.openaudiomc.net/session",STREAMER_MODE:"https://api.openaudiomc.net/client/streamermode/",DCR_PHOTOS:"http://127.0.0.1:8000/photos/"};class Ut{constructor(t,e,n,r,i){this.publicServerKey=t,this.uuid=e,this.name=n,this.token=r,this.scope=i,this.attempts=0}initialize(){return new Promise(t=>{let e=window.location.href;if(null!=e)if(2<=e.split("?").length){const n=class{constructor(){}static getParametersFromUrl(t){if(-1==t.indexOf("&"))return{};var e=t.split("&");let n={};for(let t=0;t<e.length;t++){let r=e[t].split("="),i=decodeURIComponent(r[0]),o=decodeURIComponent(r[1]);void 0===n[i]?n[i]=decodeURIComponent(o):"string"==typeof n[i]?n[i]=[n[i],decodeURIComponent(o)]:n[i].push(decodeURIComponent(o))}return n}}.getParametersFromUrl(e.split("?")[1]);if(null==n.data)return void t(null);let r=atob(n.data).split(":");if(4!==r.length)return console.log("Invalid query length"),t(null),null;const i=r[0],o=r[1],s=r[2],a=r[3];null!=i&&16>=i.length&&null!=o&&40>=o.length&&null!=s&&40>=s.length&&null!=a&&5>=a.length||(console.log("Failed parsing the token"),t(null));const u=new Ut(s,o,i,a);window.tokenCache=u,console.log("Resolving legacy token"),t(u)}else if(2<=e.split("#").length){let n=e.split("#")[1];E(Lt.CLIENT_SESSION_SERVER+"?token="+n).then(e=>{e.json().then(e=>{if(0<e.errors.length)return void(3>this.attempts?(i("Failed to load session, trying again in a bit."),setTimeout(()=>{this.requestWasPreviouslyAttempted=!0,this.initialize().then(t),this.attempts++},1e3)):(console.log("Session error"),t(null)));let n=e.response;null==n.hasOwnProperty("serverIdentity")?(x("No identity to fetch"),o("{{ oam.logo_image }}","https://minotar.net/helm/"+n.playerName)):async function(t,e){x("Fetching identity..");let n=await E("https://cloud.openaudiomc.net/identity?token="+t),r=await n.json();return 0<r.errors.length?void console.error("Could not load identity "+t):(document.querySelector("link[rel*='icon']").href=r.response.icon+"&name="+e,o("{{ oam.logo_image }}",r.response.icon+"&name="+e),x("Native minecraft version: "+r.response.version),void x("Minecraft motd: "+r.response.motd))}(n.serverIdentity,n.playerName).then(()=>console.log).catch(()=>console.log);const r=new Ut(n.publicKey,n.playerUuid,n.playerName,n.session,n.scope);window.tokenCache=r,t(r)}).catch(t=>{console.error(t)})}).catch(t=>{M("Something went while requesting tokens. Error: "+t.toJSON(),window.tokenCache.name),console.error(t)})}else t(null);else t(null)})}fromCache(){if(null!=window.tokenCache)return window.tokenCache;throw new Error("No token cache in window.")}}let Vt=null;const zt="rtc_initialized";class Ht{constructor(t,e){this.id=t,this.option=e,this.onTimeout=null}show(t,e=!1){if(""===t||null==t)throw'"msg parameter is empty"';if(this.alertArea=document.querySelector(this.id),this.alertBox=document.createElement("DIV"),this.alertContent=document.createElement("DIV"),this.alertClose=document.createElement("A"),this.alertClass=this,this.alertContent.classList.add("alert-content"),this.alertContent.innerHTML=e?t:"<p>"+t+"</p>",this.alertClose.classList.add("alert-close"),this.alertClose.setAttribute("href","#"),this.alertBox.classList.add("alert-box"),null!=this.option.extra&&this.alertBox.classList.add(this.option.extra),this.alertBox.appendChild(this.alertContent),this.option.hideCloseButton&&void 0!==this.option.hideCloseButton||this.alertBox.appendChild(this.alertClose),this.alertArea.appendChild(this.alertBox),this.alertClose.addEventListener("click",t=>{t.preventDefault(),this.alertClass.hide(this.alertBox)}),!this.option.persistent){let t=setTimeout(()=>{this.alertClass.hide(this.alertBox),clearTimeout(t)},this.option.closeTime)}return document.getElementById("notifications-empty").style.display="none",this}onClick(t){this.alertBox.onclick=t}hide(){this.alertBox.classList.add("hide");let t=setTimeout(()=>{this.alertBox.parentNode.removeChild(this.alertBox),clearTimeout(t),null!=this.onTimeout&&this.onTimeout(),1===document.getElementById("alert-area").children.length&&(document.getElementById("notifications-empty").style.display="")},500)}}class Wt{constructor(t,e){return this.hue=e,this.bridges=[],this.isSsl=document.location.href.startsWith("https://"),this.isLinked=!1,this.currentBridge=null,this.currentUser=null,this.color=net.brehaut.Color,this.options={userid:Cookies.get("hueid")},this.openAudioMc=t,this.isSsl?(this.openAudioMc.log("Failed to initiate Philips Hue integration since this web page is served over ssl. The user will be promted to downgrade to HTTP when a user interaction is made that is related to Hue"),void(document.getElementById("hue-box-ssl").style.display="none")):(this.hue.discover().then(t=>{t.forEach(t=>{this.bridges.push(t),this.onDiscover()})}).catch(t=>console.log("Error finding bridges",t)),void(document.getElementById("hue-start-linking-button").onclick=()=>{this.startSetup()}))}onDiscover(){if(0!==this.bridges.length){if(this.openAudioMc.log(this.bridges.length+" hue bridges found"),this.isSsl)return;null!=this.options.userid&&this.openAudioMc.getHueModule().startSetup()}else this.openAudioMc.log("No hue bridges found")}openModal(){document.getElementById("hue-modal-parent").style.display=""}startSetup(){const t=this;document.getElementById("hue-link-menu").style.display="none",document.getElementById("hue-linking-menu").style.display="",this.bridges.forEach(e=>{t.linkBridge(e.internalipaddress)})}onConnect(){this.currentUser.getConfig().then(t=>{document.getElementById("hue-settings-menu").style.display="",document.getElementById("hue-linking-menu").style.display="none",document.getElementById("hue-link-menu").style.display="none",this.openAudioMc.getHueConfiguration().setBridgeName(t.name),this.currentUser.getLights().then(t=>{i("Registering lights");let e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({name:t[n].name,id:parseInt(n)});this.openAudioMc.getHueConfiguration().setLightNamesAndIds(e);null!=Cookies.get("hue-state")&&(this.openAudioMc.getHueConfiguration().state=JSON.parse(Cookies.get("hue-state"))),this.openAudioMc.getHueConfiguration().applyState(),this.openAudioMc.getHueConfiguration().updateState()}).catch(t=>{console.error(t)}),this.openAudioMc.socketModule.send("hue_connected",{})})}updateSelector(t){setTimeout((function(){document.getElementById("default-group").selected=!1,document.getElementById("input-bridge-select").value=t}),200)}colorToHueHsv(t){const e=this.color(t).toHSV();return{on:0!=2*e.alpha*127.5,hue:kt(65535*e.hue/360),sat:kt(255*e.saturation),bri:At(2*e.alpha*127.5)}}setLight(t,e){let n=[];if("number"==typeof t){let e=this.openAudioMc.getHueConfiguration().getBulbStateById(t-1);if(-1===e)return!1;n.push(e)}else if(t.startsWith("["))JSON.parse(t).forEach(t=>{let e=this.openAudioMc.getHueConfiguration().getHueIdFromId(t-1);return-1!==e&&void n.push(e)});else{let e=this.openAudioMc.getHueConfiguration().getHueIdFromId(parseInt(t)-1);if(-1===e)return!1;n.push(e)}n.forEach(t=>{this.currentUser.setLightState(t,this.colorToHueHsv(e)).then(()=>{})})}linkBridge(t,e){if(s("{{ hue.linkingUpdate }}",window.getMessageString("hue.preparing")),null==e&&null!=this.options.userid)return s("{{ hue.linkingUpdate }}",window.getMessageString("hue.loggingIn")),this.currentUser=this.hue.bridge(t).user(this.options.userid),void this.currentUser.getGroups().then(e=>{null!=e[0]&&null==e[0].error?this.linkBridge(t,"error"):(this.openAudioMc.log("Linked with hue bridge after trying to connect with the old username"),this.isLinked=!0,this.onConnect())});if(this.currentBridge=this.hue.bridge(t),null==this.currentBridge)return void this.openAudioMc.log("Invalid bridge IP");const n=this;let r=0,i=-1;i=setInterval(()=>{function t(){clearInterval(i)}if(r++,60<r)return t(),this.startSetup(),void this.openAudioMc.log("Failed to authenticate with bridge in 60 seconds.");let e=60-r;s("{{ hue.linkingUpdate }}",window.getMessageString("hue.linking"),[["%sec",e]]),n.currentBridge.createUser("OpenAudioMc#WebClient").then(e=>{null==e[0].error?null!=e[0].success&&(n.currentUser=n.currentBridge.user(e[0].success.username),this.openAudioMc.log("Linked with hue bridge after "+r+" attempt(s)."),n.isLinked=!0,n.onConnect(),t()):101===e[0].error.type||(t(),this.openAudioMc.log("Unexpected error while connecting: "+e[0].error.type))})},1e3)}}var Gt=n(64);let Jt=[],Yt=!1;class qt{constructor(t,e){if(this.handlers={},this.openAudioMc=t,this.callbacksEnabled=!1,this.supportsYoutube=!1,this.hasConnected=!1,this.outgoingQueue=[],this.inCount=0,this.outCount=0,N(()=>{window.debugUi.addPanel(se.SOCKET,()=>"in="+this.inCount+", out="+this.outCount+", ok="+this.socket.connected)}),null==(new Ut).fromCache())return console.log("Empty authentication"),void console.log("Bad auth todo");this.state="loading",this.authHeader="type=client&n="+t.tokenSet.name+"&player="+t.tokenSet.uuid+"&s="+t.tokenSet.publicServerKey+"&p="+t.tokenSet.token;const n=this;this.socket=io(e,{query:n.authHeader,autoConnect:!1,withCredentials:!1}),this.socket.on("connect",()=>{t.socketModule.state="ok",this.hasConnected=!0,this.outgoingQueue.forEach(t=>{this.send(t.key,t.value)});for(let t=0;t<Jt.length;t++)Jt[t]();Yt=!0}),this.socket.on("time-update",t=>{let e=t.split(":"),n=parseInt(e[1]),r=parseInt(e[0]);this.openAudioMc.getTimeService().sync(r,n)}),this.socket.on("disconnect",()=>{t.debugPrint("closed"),t.getMediaManager().destroySounds(null,!0),n.state="closed",o("{{ oam.loader_style }}","display: -;","style"),o("{{ oam.login_style }}","display: -;","style"),o("{{ oam.loader_status }}","display: none;","style"),setTimeout(()=>{t.getMediaManager().sounds={}},1010),t.voiceModule.shutDown()}),this.socket.on("data",t=>{let e=t.type.split("."),r=e[e.length-1];null!=n.handlers[r]&&n.handlers[r](t.payload),this.inCount++}),this.socket.connect()}send(t,e){if(this.outCount++,this.hasConnected){if(!this.callbacksEnabled)return void i("could not satisfy callback "+t+" because the protocol is outdated");i("Submitting value for "+t),this.socket.emit(t,e)}else this.outgoingQueue.push({key:t,value:e})}registerHandler(t,e){this.handlers[t]=e}}const Kt={CHIME:'<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"/></svg>',DARK_MODE:'<svg viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round">  <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" /></svg>',NOTIFICATION:'<svg width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">  <path stroke="none" d="M0 0h24v24H0z"/>  <path d="M9 7 h-3a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-3" />  <circle cx="16" cy="8" r="3" /></svg>',MIX_AND_FADE:'<svg viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round">  <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" /></svg>',PRELOAD:'<svg width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">  <path stroke="none" d="M0 0h24v24H0z"/>  <path d="M16 8v-4h-12v12.01h4" stroke-dasharray=".001 4" />  <rect x="8" y="8" width="12" height="12" rx="2" /></svg>',RENDER:'<svg viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round">  <polyline points="5 9 2 12 5 15" />  <polyline points="9 5 12 2 15 5" />  <polyline points="15 19 12 22 9 19" />  <polyline points="19 9 22 12 19 15" />  <line x1="2" y1="12" x2="22" y2="12" />  <line x1="12" y1="2" x2="12" y2="22" /></svg>',STREAM_ICON:'<svg viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round">  <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z" />  <circle cx="12" cy="13" r="4" /></svg>'};var Xt={useChimes:!0,darkMode:!0,vcNotifications:!1,audioFading:!0,preloadAudio:!0,spatialAudioRendering:"accurate",interpolation:!0,streamermode:!0,rollOffFactor:1};class $t{constructor(t){this.settings={},this.openAudioMc=t,this.setup()}reload(){let t=document.getElementById("hue-box-ssl");document.getElementById("settings-content").innerHTML="",this.setup(),document.getElementById("settings-content").appendChild(t)}setup(){window.handleSettingsClick=(t,e)=>{this.settings[e]instanceof ee?(this.settings[e].isEnabled=!this.settings[e].isEnabled,this.settings[e].onChange(this.settings[e].isEnabled)):(console.log(t.value),this.settings[e].value=t.value,this.settings[e].onChange(t.value))},this.registerSetting(new ee("useChimes",Kt.CHIME,getMessageString("settings.voicechat.chimes.title"),getMessageString("settings.voicechat.chimes.body"),getMessageString("settings.voicechat.chimes.button"),!0)),this.registerSetting(new ee("darkMode",Kt.DARK_MODE,getMessageString("settings.theme.title"),getMessageString("settings.theme.body"),getMessageString("settings.theme.button"),!0,t=>{t?document.body.classList.remove("light-mode"):document.body.classList.add("light-mode")})),this.registerSetting(new ee("vcNotifications",Kt.NOTIFICATION,getMessageString("settings.voicechat.peer.title"),getMessageString("settings.voicechat.peer.body"),getMessageString("settings.voicechat.peer.button"),!1)),this.registerSetting(new ee("audioFading",Kt.MIX_AND_FADE,getMessageString("settings.mix-and-fade.title"),getMessageString("settings.mix-and-fade.body"),getMessageString("settings.mix-and-fade.button"),!0)),this.registerSetting(new ee("preloadAudio",Kt.PRELOAD,getMessageString("settings.preload.title"),getMessageString("settings.preload.body"),getMessageString("settings.preload.button"),!0)),this.registerSetting(new ee("interpolation",Kt.RENDER,getMessageString("settings.interpolation.title"),getMessageString("settings.interpolation.body"),getMessageString("settings.interpolation.button"),!0)),this.registerSetting(new ee("streamermode",Kt.RENDER,getMessageString("settings.streamermode.title"),getMessageString("settings.streamermode.body"),getMessageString("settings.streamermode.button"),!1,()=>{!function(t){Yt?t():Jt.push(t)}(()=>{Xt.streamermode&&(this.openAudioMc.streamerLink.enable(),(async()=>{let t=await fetch(Lt.STREAMER_MODE+window.location.hash.replace("#","")),e=await t.json();if(null==e.error){let t=e.ok;new Ht("#alert-area",{closeTime:6e4,persistent:!1,hideCloseButton:!0}).show('<div style="text-align: center;" class="medium-text">Streamer mode: '+t+"</div>")}else{let t=e.error;new Ht("#alert-area",{closeTime:6e4,persistent:!1,hideCloseButton:!0}).show('<div style="text-align: center;" class="medium-text">Streamer mode: '+t+"</div>")}})())})})),this.registerSetting(new te("spatialAudioRendering",Kt.RENDER,getMessageString("settings.spatial.title"),getMessageString("settings.spatial.body"),[new Zt("accurate",getMessageString("settings.spatial.modern")),new Zt("legacy",getMessageString("settings.spatial.legacy"))],"accurate",t=>{for(let e in i("Updating "+Object.size(Qt)+" panners to use the "+t+" profile"),Qt)C(Qt[e],Qt[e].maxDistance)})),this.registerSetting(new te("rollOffFactor",Kt.RENDER,getMessageString("settings.rolloff.title"),getMessageString("settings.rolloff.body"),[new Zt("0.1",getMessageString("settings.rolloff.01")),new Zt("0.5",getMessageString("settings.rolloff.5")),new Zt("0.8",getMessageString("settings.rolloff.8")),new Zt("1",getMessageString("settings.rolloff.1")),new Zt("1.2",getMessageString("settings.rolloff.12")),new Zt("1.5",getMessageString("settings.rolloff.15"))],"1",t=>{for(let e in i("Updating "+Object.size(Qt)+" panners to use the "+t+" rolloff"),Qt)C(Qt[e],Qt[e].maxDistance)}))}registerSetting(t){this.settings[t.id]=t}}var Qt={};class Zt{constructor(t,e){this.value=t,this.readableValue=e}}class te{constructor(t,e,n,r,i,o,s=(()=>{})){this.htmlId=k(5),this.id=t,this.onChange=e=>{Cookies.set("settings-"+t,e),Xt[t]=e,s(e)},this.value=void 0===Cookies.get("settings-"+t)?o:Cookies.get("settings-"+t);let a="";for(let t=0;t<i.length;t++){let e=i[t],n=e.readableValue,r=e.value;a+='<option value="'+r+'" '+(this.value===r?"selected":"")+">"+n+"</option>"}this.html='\n        <div class="content-card settings-card">\n           <span>\n            '+e+"\n            "+n+'\n            </span>\n            <div class="content-card-content content-card-content-border-bottom">\n                '+r+'\n            </div>\n            <label for="vc-mic-select" style="display: none;"></label>\n            <select class="full soft-tex content-pill" id="'+this.htmlId+'" onchange="handleSettingsClick(this, \''+this.id+"')\">\n                "+a+"\n            </select>\n            </div>\n        </div>\n        ",this.settingsPage=document.getElementById("settings-content"),this.settingsPage.innerHTML+=this.html}}class ee{constructor(t,e,n,r,i,o,s=(()=>{})){this.htmlId=k(5),this.id=t,this.onChange=e=>{Cookies.set("settings-"+t,e),Xt[t]=e,s(e)},this.isEnabled=void 0===Cookies.get("settings-"+t)?o:"true"===Cookies.get("settings-"+t),this.html='\n        <div class="content-card settings-card">\n           <span>\n            '+e+"\n            "+n+'\n            </span>\n            <div class="content-card-content content-card-content-border-bottom">\n                '+r+'\n            </div>\n            <div class="content-card-buttons">\n                <label class="content-pill status-button">\n                    <input type="checkbox" id="'+this.htmlId+'" '+(this.isEnabled?"checked":"")+" onchange=\"handleSettingsClick(this, '"+this.id+'\')">\n                    <span style="display: inline;">'+i+"</span>\n                </label>\n            </div>\n        </div>",this.settingsPage=document.getElementById("settings-content"),this.settingsPage.innerHTML+=this.html,this.onChange(this.isEnabled)}}Object.size=function(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n};let ne={},re=[];window.handlePeerVolumeEvent=function(t){let e=ne[t.id];null!=e&&e(t)};let ie=0;R();class oe{constructor(t,e,n,r,i,o){this.parentPeer=o,0===re.length&&(re=[document.getElementById("vc-call-members-left"),document.getElementById("vc-call-members-right")]),this.openAudioMc=t,this.playerName=e,this.onVolumeChange=i,this.removed=!1;let s='\n        <li id="vc-user-card-'+e+'">\n            <div>\n                <img src="https://visage.surgeplay.com/bust/512/'+n+'" id="vc-user-card-'+e+'-indicator"\n                     class="avatar mid-avatar" alt="Avatar">\n            </div>\n            <div class="flex-1">\n                <div class="flex items-center">\n                    <h1 style="margin-bottom: 10px">\n                        <svg id="vc-user-card-'+e+'-muted" class="red"\n                             style="display: none;"\n                             viewBox="0 0 24 24" fill="none"\n                             stroke="currentColor" stroke-width="2" stroke-linecap="round"\n                             stroke-linejoin="round">\n                            <line x1="1" y1="1" x2="23" y2="23"/>\n                            <path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"/>\n                            <path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"/>\n                            <line x1="12" y1="19" x2="12" y2="23"/>\n                            <line x1="8" y1="23" x2="16" y2="23"/>\n                        </svg>\n                        '+e+' <small id="vc-user-card-'+e+'-volume-disp"\n                                           class="soft-text">('+r+'% volume)</small>\n                                   </h1>\n                </div>\n                <div><input id="vc-user-card-'+e+'-volume-input"\n                            oninput="handlePeerVolumeEvent(this)"\n                            class="volume-slider tiny-slider"\n                            type="range" min="0" max="140" step="1" value="'+r+'"/></div>\n            </div>\n        </li>\n        ',a=null;for(let t=0;t<re.length;t++)null!==a?a.childNodes.length>re[t].childNodes.length&&(a=re[t]):a=re[t];a.innerHTML+=s,ie++,R(),ne["vc-user-card-"+this.playerName+"-volume-input"]=function(t){this.callingSliderUpdate(t)}.bind(this),setTimeout(()=>{this.updatePlaceholder()},10),T("vcNotifications")&&this.openAudioMc.notificationModule.sendNotification(getMessageString("notification.voicechat.peeradd.title"),getMessageString("notification.voicechat.peeradd.body",[["%name",this.playerName]]),this.playerName)}callingSliderUpdate(){if(!this.removed){let t=document.getElementById("vc-user-card-"+this.playerName+"-volume-input").value;this.onVolumeChange(t),this.updateVolumeDisplay(t)}}updatePlaceholder(){}remove(){ie--,R(),this.removed=!0;for(let t=0;t<re.length;t++)try{re[t].removeChild(document.getElementById("vc-user-card-"+this.playerName))}catch(t){}this.updatePlaceholder(),delete ne["vc-user-card-"+this.playerName+"-volume-input"],T("vcNotifications")&&this.openAudioMc.notificationModule.sendNotification(getMessageString("notification.voicechat.peerdop.title"),getMessageString("notification.voicechat.peerdop.body",[["%name",this.playerName]]),this.playerName)}setVisuallyTalking(t){this.removed||(t?this.openAudioMc.streamerLink.announceVoicePeerTalkingStart(this.parentPeer):this.openAudioMc.streamerLink.announceVoicePeerTalkingStop(this.parentPeer),t?(document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.backgroundColor="lime",document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.boxShadow="0 0 10pt 2pt lime"):(document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.boxShadow="",document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.backgroundColor=""))}setVisuallyMuted(t){this.removed||(t?(document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.opacity="0.2",document.getElementById("vc-user-card-"+this.playerName+"-muted").style.display="inline"):(document.getElementById("vc-user-card-"+this.playerName+"-indicator").style.opacity="1",document.getElementById("vc-user-card-"+this.playerName+"-muted").style.display="none"))}updateVolumeDisplay(t){this.removed||(document.getElementById("vc-user-card-"+this.playerName+"-volume-disp").innerText="("+t+"% volume)")}}const se={BUILD:"Build",UI:"Ui Templating",SESSION:"Session",ACCOUNT:"Account",AUDIO:"Mixer",SOCKET:"Socket",LOG:"Latest Log",RTC:"Streaming"};let ae=!1,ue=[],ce=[];window.enterUiTestMode=B,setTimeout(()=>{-1!=window.location.href.indexOf("?debugUI")&&B()},1e3);class le{constructor(){this.isServerAhead=!1,this.msOffset=0,this.hasSynced=!1}sync(t){let e=new Date(t),n=new Date;this.isServerAhead=e.getTime()>n.getTime(),this.msOffset=this.isServerAhead?e.getTime()-n.getTime():n.getTime()-e.getTime(),this.hasSynced=!0}getPredictedTime(){this.hasSynced||(new Date).getTime();let t=(new Date).getTime();return new Date(this.isServerAhead?t+this.msOffset:t-this.msOffset)}}Date.prototype.addHours=function(t){return this.setTime(this.getTime()+60*t*60*1e3),this};class he{constructor(t){this.openAudioMc=t}changeColor(t,e){let n=function(t){return t=t.replace("#",""),"rgb("+parseInt(t.substring(0,2),16)+", "+parseInt(t.substring(2,4),16)+", "+parseInt(t.substring(4,6),16)+")"}(t);document.querySelectorAll("*").forEach((function(t){let r=window.getComputedStyle(t);Object.keys(r).reduce((function(i,o){let s=r[o],a=r.getPropertyValue(s);if(0<=a.indexOf(n)){let r=a.replace(n,e);0<=s.indexOf("border-top")?t.style.borderTop="2px solid "+r:t.style[s]=r}}))}))}}class fe{constructor(t){this.channelName=t,this.channelVolume=100,this.sounds=[],this.mixer=null,this.targetAfterFade=0,this.isFading=!1,this.fadeTimer=[],this.tags=new Map,this.trackable=!1}setTag(t){this.tags.set(t,!0)}hasTag(t){return this.tags.has(t)}hasSoundPlaying(){for(let t of this.sounds.values())return!0;return!1}addSound(t){this.sounds.push(t);for(let t of this.sounds.values())t.registerMixer(this.mixer,this);this._updateVolume()}setChannelVolume(t){this.channelVolume=t,this._updateVolume()}registerMixer(t){this.mixer=t;for(let t of this.sounds.values())t.registerMixer(this.mixer,this)}fadeChannel(t,e,n){this.interruptFade(),null==n&&(n=()=>{}),Xt.audioFading||(e=2),this.targetAfterFade=t,this.isFading=!0,((t,e,r,i)=>{e=e||1e3,r=r||0,i=i;let o=this.channelVolume,s=e/Ot(o-r),a=setInterval(()=>{o=o>r?o-1:o+1;let t=this.mixer.masterVolume,e=o/100*t;for(let t of this.sounds)t.setVolume(e);if(this.channelVolume=o,o==r){n(),clearInterval(a);const t=this.fadeTimer.indexOf(a);-1<t&&this.fadeTimer.splice(t,1),this.isFading=!1,a=null}},s);this.fadeTimer.push(a)})(0,e,t,n)}interruptFade(){if(this.isFading){this.isFading=!1,this.setChannelVolume(this.targetAfterFade);for(let t of this.fadeTimer)clearInterval(t)}}_updateVolume(){this.interruptFade();let t=this.mixer.masterVolume,e=this.channelVolume/100*t;for(let t of this.sounds)t.loaded&&t.setVolume(e)}updateFromMasterVolume(){let t=this.mixer.masterVolume,e=this.channelVolume/100*t;for(let t of this.sounds)t.setVolume(e)}destroy(){this.interruptFade();for(let t of this.sounds)t.destroy()}}const de={PROXY:Lt.CONTENT_PROXY,YOUTUBE:Lt.YOUTUBE_PROXY,DRIVE:Lt.DRIVE_PROXY};class pe{constructor(){this.startedRandomly=!1,this.lastIndex=0}async translate(t){let e=this.handleRandomizedPlaylist(t);try{if(e.startsWith("local:")&&(e="https://media.openaudiomc.net/direct/"+window.tokenCache.publicServerKey+"?fileName="+e.replace("local:","")),e.includes("media.openaudiomc.net/direct")){let t=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/i;return i("Replacing rest direct to use my own server"),e.replace(t,window.tokenCache.publicServerKey)}if(e.includes("media.openaudiomc.net"))return t;if(e=e.replace("https://api.openaudiomc.net/stream.php?u=",""),e.includes("http://docs.google.com/uc?export=open&id=")&&(e=e.replace("http://docs.google.com/uc?export=open&id=",de.DRIVE)),e.includes("https://docs.google.com/uc?export=open&id=")&&(e=e.replace("https://docs.google.com/uc?export=open&id=",de.DRIVE)),e.includes("https://drive.google.com/")&&(e=e.split("file/d/")[1],e=de.DRIVE+e.split("/view")[0]),this.isYoutube=!1,e.includes("youtube.")){let t=e.split("v=")[1];t.includes("&")&&(t=t.split("&")[0]),e=de.YOUTUBE+t,this.isYoutube=!0}else if(e.includes("youtu.be")){let t=e.split(".be/")[1];e=de.YOUTUBE+t,this.isYoutube=!0}if(e.includes("https://weathered-dust-0281.craftmend.workers.dev/")&&(e=e.replace("https://weathered-dust-0281.craftmend.workers.dev/","")),e.includes("soundcloud.com")){let t=await fetch("https://media.openaudiomc.net/2/soundcloud?u="+e),n=await t.json();if(n.hasOwnProperty("stream"))return document.getElementById("sc-cover").style.display="",document.getElementById("sc-title").style.display="",s("{{ oam.soundcloud_title }}",n.artist+" - "+n.title),document.getElementById("sc-title").onclick=()=>{window.open(n.link)},document.getElementById("sc-cover").src=n.photo,n.stream}"https:"===location.protocol&&e.includes("http")&&!e.includes("https://")&&(e=de.PROXY+e)}catch(e){return console.log("Middleware error"),console.log(e),t}return e}handleRandomizedPlaylist(t){if(t.startsWith("[")&&t.endsWith("]")){let e=JSON.parse(t);if(!this.startedRandomly){let t=kt(Math.random()*e.length);return this.lastIndex=t,this.startedRandomly=!0,e[t]}return this.lastIndex++,this.lastIndex>e.length-1&&(this.lastIndex=0),e[this.lastIndex]}return t}}let ge={},me=new pe;class ye extends pe{constructor(){super(),this.hadError=!1,this.error=null,this.trackable=!1,this.onFinish=[],this.loop=!1,this.mixer=null,this.channel=null,this.finsishedInitializing=!1,this.gotShutDown=!1,this.loaded=!1,this.initCallbacks=[],this.startedLoading=!1,this.destroyed=!1}whenInitialized(t){this.loaded?t():this.initCallbacks.push(t)}async load(t,e=!0){if(!this.startedLoading){this.startedLoading=!0,this.rawSource=t,t=await this.translate(t),this.soundElement=await async function(t,e=!1,n=!0){if(!n)return new Audio;e||(t=await me.translate(t));let i=ge[t];return null==i?new Audio:(r("Resolving cache for source "+t),i)}(t,!0,e),this.soundElement.onerror=t=>{this.hadError=!0,this.error=t,this._handleError()},this.soundElement.src=t,this.source=t,this.soundElement.setAttribute("preload","auto"),this.soundElement.setAttribute("controls","none"),this.soundElement.setAttribute("display","none"),this.soundElement.preload="auto",this.soundElement.abort=console.log,this.loaded=!0;for(let t=0;t<this.initCallbacks.length;t++)this.initCallbacks[t]()}}setOa(t){this.openAudioMc=t,this._handleError()}_handleError(){if(this.hadError&&null!=this.openAudioMc&&"error"==this.error.type){let e=this.soundElement.error.code,n=null;if(this.isYoutube?n=this.openAudioMc.socketModule.supportsYoutube?"YOUTUBE_ERR":"MEDIA_ERR_SRC_NOT_SUPPORTED":1===e?n="MEDIA_ERR_ABORTED":2===e?n="MEDIA_ERR_NETWORK":3===e?n="MEDIA_ERR_DECODE":4===e&&(n="MEDIA_ERR_SRC_NOT_SUPPORTED"),null!=n){i("Reporting media failure "+n);var t=function(t,e,n){var r={};return Object.getOwnPropertyNames(t).forEach((function(e){r[e]=t[e]})),JSON.stringify(r,e,n)};null!=this.source&&"null"!=this.source&&this.openAudioMc.sendError("A sound failed to load.\nurl="+this.source+"\nerror-code="+this.soundElement.error.code+"\nerror-message="+this.soundElement.error.message+"\ndetected-error="+n+"\ndump="+t(this.error,null,"\t")+t(this.soundElement.error,null,"\t")+"\nhostname="+window.location.host+"\nuseragent="+window.navigator.userAgent),this.openAudioMc.socketModule.send("media_failure",{mediaError:n,source:this.soundElement.src})}}}addNode(t,e){null==this.controller&&(this.soundElement.crossOrigin="anonymous",!this.soundElement.src.includes("openaudiomc.net")&&(this.soundElement.src=de.PROXY+this.soundElement.src),this.controller=t.audioCtx.createMediaElementSource(this.soundElement)),this.controller.connect(e)}registerMixer(t,e){this.mixer=t,this.channel=e}finalize(){return new Promise(t=>{this.soundElement.onended=async()=>{this.gotShutDown||!this.finsishedInitializing||(this.onFinish.forEach(t=>{t()}),this.loop?(this.soundElement.src=await this.translate(this.rawSource),this.setTime(0),this.soundElement.play()):(this.mixer.removeChannel(this.channel),!this.soundElement.paused&&this.soundElement.pause()))};let e=!1;const n=()=>{if(!this.gotShutDown){if(!e){let e=this.soundElement.play();e instanceof Promise?e.then(t).catch(t):t()}e=!0}};this.soundElement.onplay=()=>{this.gotShutDown&&(i("Canceled a sound that started to play, for some reason."),this.soundElement.pause())},this.soundElement.onprogress=n,this.soundElement.oncanplay=n,this.soundElement.oncanplaythrough=n})}setLooping(t){this.loop=t}finish(){this.finsishedInitializing=!0}setOnFinish(t){this.onFinish.push(t)}setVolume(t){this.whenInitialized(()=>{100<t&&(t=100),this.soundElement.volume=t/100})}startDate(t){this.whenInitialized(()=>{let e=new Date(t),n=(this.openAudioMc.timeService.getPredictedTime()-e)/1e3;i("Started "+n+" ago");let r=this.soundElement.duration;if(n>r){n-=kt(n/r)*r}i("Starting "+n+" in"),this.setTime(n)})}setTime(t){this.soundElement.currentTime=t}destroy(){this.whenInitialized(()=>{this.destroyed=!0,this.gotShutDown=!0,this.setLooping(!1),this.soundElement.pause(),this.soundElement.remove()})}}"toJSON"in Error.prototype||Object.defineProperty(Error.prototype,"toJSON",{value:function(){var t={};return Object.getOwnPropertyNames(this).forEach((function(e){t[e]=this[e]}),this),t},configurable:!0,writable:!0});class ve{constructor(t,e){this.openAudioMc=e,this.mixerName=t,this.masterVolume=100,this.channels=new Map,this.areSoundsPlaying=!1,this.ambianceSoundMedia=null,this.recentSource="/none",N(()=>{window.debugUi.addPanel(se.AUDIO,()=>"playingChannels="+this.channels.size+", prefetched="+Object.keys(ge).length+", recent="+this.recentSource.split("/")[this.recentSource.split("/").length-1])})}_updatePlayingSounds(){let t=!1;this.channels.forEach(e=>{e.hasSoundPlaying()&&(t=!0)}),t!=this.areSoundsPlaying&&(this._playingStateChangeChanged(t),this.areSoundsPlaying=t)}_playingStateChangeChanged(t){null==this.ambianceSoundMedia||(t?(console.log("Stopping ambiance sound"),this.ambianceSoundMedia.fadeChannel(0,800,()=>{})):(console.log("Starting ambiance sound"),this.ambianceSoundMedia.fadeChannel(this.masterVolume,800,()=>{})))}async setupAmbianceSound(t){let e=new fe("ambiance-lol-dics"),n=new ye;n.setOa(this.openAudioMc),e.mixer=openAudioMc.getMediaManager().mixer,await n.load(t),e.addSound(n),n.setLooping(!0),n.setVolume(0),n.finalize().then(()=>{n.finish()}),e.mixer={masterVolume:this.masterVolume},this.ambianceSoundMedia=e,this.ambianceSoundMedia.mixer={masterVolume:this.masterVolume},this.ambianceSoundMedia.setChannelVolume(0),this.ambianceSoundMedia.updateFromMasterVolume(this.masterVolume),this._updatePlayingSounds()}updateCurrent(){let t=[];this.channels.forEach((e,n)=>{let r=[];e.tags.forEach((t,e)=>{r.push(e)}),e.trackable&&t.push({name:n,tags:r})}),this._updatePlayingSounds()}setMasterVolume(t){this.masterVolume=t;for(let t of this.channels.values())t.updateFromMasterVolume();null!=this.ambianceSoundMedia&&(this.ambianceSoundMedia.mixer={masterVolume:this.masterVolume},this.ambianceSoundMedia.updateFromMasterVolume(t))}removeChannel(t){let e;e=t instanceof fe?t:this.channels.get(t),null!=e&&(e.destroy(),this.channels.delete(e.channelName)),this._updatePlayingSounds()}getChannels(){return this.channels.values()}addChannel(t){if(!(t instanceof fe))throw new Error("Argument isn't a channel");{const e=t.channelName,n=this.channels.get(e);null!=n&&n.destroy(),t.registerMixer(this),this.channels.set(e,t),setTimeout(()=>{for(let e in t.sounds)this.recentSource=t.sounds[e].rawSource},1e3)}this._updatePlayingSounds()}}class be{constructor(t){this.sounds={},this.masterVolume=80,this.openAudioMc=t,this.startSound=null,this.mixer=new ve(null,t),document.getElementById("volume-slider").oninput=()=>{let t=document.getElementById("volume-slider").value;this.setMasterVolume(t),Cookies.set("volume",t,{expires:30})}}startVolumeMonitor(t){let e=-1;setInterval(()=>{e!=this.masterVolume&&(e=this.masterVolume,t.socketModule.send("volume_changed",{volume:this.masterVolume}))},300)}async setupAmbianceSound(t){""==t||null==t||await this.mixer.setupAmbianceSound(t)}startVolumeWatcher(t){this.startVolumeMonitor(t)}postBoot(){if(null!=this.startSound){const t=new fe("startsound"),e=new ye;t.mixer=this.openAudioMc.getMediaManager().mixer,e.openAudioMc=this.openAudioMc,e.setOa(this.openAudioMc),e.load(this.startSound).then(()=>{t.addSound(e),e.setOnFinish(()=>{setTimeout(()=>{this.mixer._updatePlayingSounds()},1e3)}),e.finalize().then(()=>{this.mixer.addChannel(t),t.setChannelVolume(100),t.updateFromMasterVolume(),e.finish()})})}else setTimeout(()=>{this.mixer._updatePlayingSounds()},500)}destroySounds(t,e,n,r,i=function(){}){let o=r;null==o&&(o=500),n&&(o=0);for(let n of this.mixer.getChannels())e?n.fadeChannel(0,o,()=>{this.mixer.removeChannel(n)}):null==t||""===t?n.hasTag("SPECIAL")||n.hasTag("REGION")||n.hasTag("SPEAKER")||n.fadeChannel(0,o,()=>{this.mixer.removeChannel(n)}):n.hasTag(t)&&(n.sounds.forEach(t=>{t.gotShutDown=!0}),n.fadeChannel(0,o,()=>{this.mixer.removeChannel(n),i()}))}setMasterVolume(t){this.masterVolume=t,s("{{ oam.volume }}",0===t?t+"(muted)":t+"%"),Cookies.set("volume",t,{expires:30}),this.mixer.setMasterVolume(t)}changeVolume(t){document.getElementById("volume-slider").value=t,this.setMasterVolume(t)}getMasterVolume(){return this.masterVolume}}class we{constructor(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}add(t,e,n){return this.x+=t,this.y+=e,this.z+=n,this}clone(){return new we(this.x,this.y,this.z)}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}plus(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}divide(t){return this.x/=t,this.y/=t,this.z/=t,this}applyQuaternion(t){let e=this.x,n=this.y,r=this.z,i=t.x,o=t.y,s=t.z,a=t.w,u=a*e+o*r-s*n,c=a*n+s*e-i*r,l=a*r+i*n-o*e,h=-i*e-o*n-s*r;return this.x=u*a+h*-i+c*-s-l*-o,this.y=c*a+h*-o+l*-i-u*-s,this.z=l*a+h*-s+u*-o-c*-i,this}square(t){return t*t}distance(t){const e=this.square(this.x-t.x)+this.square(this.y-t.y)+this.square(this.z-t.z);return Math.sqrt(e)}}const Se={VC_LOCATION_UPDATES:135,SELF_LOCATION_UPDATES:90};class Ee{constructor(t=new we(0,0,0),e=0,n=0){this.hasData=!1,this.location=t,this.target=t,this.isRunning=!1,this.currentTask=-1,this.pitch=e,this.yaw=n,this.onMove=()=>{}}interpolate(t,e,n,r){if(Xt.interpolation||(this.location=t,this.pitch=e,this.yaw=n,this.onMove(this.location,this.pitch,this.yaw)),!this.hasData)return this.location=t,this.pitch=e,this.yaw=n,this.hasData=!0,void this.onMove(this.location,this.pitch,this.yaw);this.isRunning&&(clearInterval(this.currentTask),this.isRunning=!1,this.location=this.target),this.isRunning=!0,this.target=t;const i=r/3;let o=this.target.clone().sub(this.location).divide(i),s=(this.pitch-e)/i,a=(this.yaw-n)/i,u=1,c=()=>(u++,u>=i||!this.isRunning?(clearInterval(this.currentTask),this.isRunning=!1,this.location=this.target,this.pitch=e,this.yaw=n,void this.onMove(this.location,this.pitch,this.yaw)):(this.location.sub(o),this.pitch-=s,this.yaw-=a,void this.onMove(this.location,this.pitch,this.yaw)));c(),this.currentTask=setInterval(c,r/i)}}n(340);let xe=new Ee;class Me{constructor(t,e,n,r,i,o,s){this.id=t,this.source=e,this.location=n,this.type=r,this.maxDistance=i,this.startInstant=o,this.openAudioMc=s,this.channel=null}getDistance(t,e){return e.location.distance(this.location)}}window.enableOpenAudioDebugMode=function(){Wn.isProd=!1,I()};class Oe{constructor(t){function e(e,n){t.socketModule.registerHandler(e,e=>n(t,e))}e("ClientVersionPayload",D),e("NotificationPayload",F),e("HueColorPayload",V),e("ClientPlayerLocationPayload",H),e("ClientSpeakerCreatePayload",W),e("ClientSpeakerDestroyPayload",G),e("ClientPreFetchPayload",J),e("ClientUpdateMediaPayload",z),e("ClientCreateMediaPayload",j),e("ClientDestroyMediaPayload",U),e("ClientVolumePayload",L),e("ClientVoiceChatUnlockPayload",K),e("ClientVoiceSubscribePayload",X),e("ClientVoiceDropPayload",$),e("ClientVoiceUpdatePeerLocationsPayload",Q),e("ClientVoiceChatToggleMicrophonePayload",Z),e("ClientVoiceBlurUiPayload",tt)}}class Ae{constructor(){this.dropdowns=[],this.state=[],this.dropdowns.push(document.getElementById("bulb-selection-1")),this.dropdowns.push(document.getElementById("bulb-selection-2")),this.dropdowns.push(document.getElementById("bulb-selection-3")),this.dropdowns.forEach(t=>{t.onchange=()=>{this.select()}})}setBridgeName(t){s("{{ oam.hue_bridge_name }}",t)}select(){this.updateState()}applyState(){this.state.forEach(t=>{this.getInputById(t.bulb).selectedIndex=t.selectedIndex})}updateState(){this.state=[];for(let t=0;t<this.dropdowns.length;t++){const e=this.dropdowns[t];this.state.push(this.obtainSelection(document.getElementById(e.id)))}Cookies.set("hue-state",this.state,{expires:30})}obtainSelection(t){const e=t.dataset.bulb,n=t.options[t.selectedIndex].dataset.light;return{selectedIndex:t.selectedIndex,bulb:e,value:n}}getBulbStateById(t){return this.state.forEach(e=>{if(e.id==t)return e}),-1}getInputById(t){for(const e of this.dropdowns)if(e.dataset.bulb==t)return e}getHueIdFromId(t){return this.state[parseInt(t)].value}setLightNamesAndIds(t){let e="";for(let n=0;n<t.length;n++){const r=t[n];e+="<option data-light='"+r.id+"'>"+r.name+"</option>"}for(let t=0;t<this.dropdowns.length;t++){const n=this.dropdowns[t];document.getElementById(n.id).innerHTML+="<div>"+e+"</div>"}}}let ke=[],Te={"&4":"font-weight:normal;text-decoration:none;color:#be0000","&c":"font-weight:normal;text-decoration:none;color:#fe3f3f","&6":"font-weight:normal;text-decoration:none;color:#d9a334","&e":"font-weight:normal;text-decoration:none;color:#fefe3f","&2":"font-weight:normal;text-decoration:none;color:#00be00","&a":"font-weight:normal;text-decoration:none;color:#3ffe3f","&b":"font-weight:normal;text-decoration:none;color:#3ffefe","&3":"font-weight:normal;text-decoration:none;color:#00bebe","&1":"font-weight:normal;text-decoration:none;color:#0000be","&9":"font-weight:normal;text-decoration:none;color:#3f3ffe","&d":"font-weight:normal;text-decoration:none;color:#fe3ffe","&5":"font-weight:normal;text-decoration:none;color:#be00be","&f":"font-weight:normal;text-decoration:none;color:#ffffff","&7":"font-weight:normal;text-decoration:none;color:#bebebe","&8":"font-weight:normal;text-decoration:none;color:#3f3f3f","&0":"font-weight:normal;text-decoration:none;color:#000000","&l":"font-weight:bold","&n":"text-decoration:underline;text-decoration-skip:spaces","&o":"font-style:italic","&m":"text-decoration:line-through;text-decoration-skip:spaces"};String.prototype.replaceColorCodes=function(){return function(){for(let t=ke.length;t--;)clearInterval(ke[t]);ke=[]}(),function(t){var e,n,r=t.match(/&.{1}/g)||[],i=[],o=[],s=document.createDocumentFragment(),a=r.length;t=t.replace(/\n|\\n/g,"<br>");for(let e=0;e<a;e++)i.push(t.indexOf(r[e])),t=t.replace(r[e],"\0\0");0!==i[0]&&s.appendChild(nt(t.substring(0,i[0]),[]));for(let u=0;u<a;u++){if(2===(n=i[u+1]-i[u])){for(;2==n;)o.push(r[u]),u++,n=i[u+1]-i[u];o.push(r[u])}else o.push(r[u]);-1<o.lastIndexOf("§r")&&(o=o.slice(o.lastIndexOf("§r")+1)),e=t.substring(i[u],i[u+1]),s.appendChild(nt(e,o))}return s}(this+"")};let _e=["#2c78f6","#4F46E5"];class Ce{constructor(t){this.host=t}route(t){return new Promise((e,n)=>{this.tokenSet=(new Ut).fromCache(),i("Using account based profile system..."),rt(t,e,n,this.tokenSet)})}}class Pe{constructor(t){this.main=t,this.requestBox=null}setupPermissions(){"granted"===Notification.permission||"denied"!==Notification.permission&&(this.requestBox=new Ht("#alert-area",{closeTime:6e4,persistent:!1,hideCloseButton:!0}),u(()=>{document.getElementById("noti-perm-request-link").onclick=()=>{this.requestNotificationPermissions()}}))}sendNotification(t,e,n=null){null==n&&(n=this.main.tokenSet.uuid),new Notification(t,{body:e,icon:"https://minotar.net/helm/"+n}),new Ht("#alert-area",{closeTime:6e4,persistent:!1,hideCloseButton:!0}).show('<div style="text-align: center;" class="medium-text">'+e+"</div>")}requestNotificationPermissions(){Notification.requestPermission().then(t=>{"granted"===t&&(this.requestBox.hide(),new Ht("#alert-area",{closeTime:1500,persistent:!1,hideCloseButton:!0}).show(getMessageString("notification.success")),this.sendNotification(getMessageString("notification.test.title"),getMessageString("notification.test.body")))})}}class Re{constructor(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}}class Ie{constructor(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0===r?1:r}setFromEuler(t){var e=Math.sin;let n=t.x,r=t.y,i=t.z,o=xt(n/2),s=xt(r/2),a=xt(i/2),u=e(n/2),c=e(r/2),l=e(i/2);return this.x=u*s*a+o*c*l,this.y=o*c*a-u*s*l,this.z=o*s*l+u*c*a,this.w=o*s*a-u*c*l,this}}class Ne{constructor(t=new we,e=new Ie){this.position=t,this.rotation=e}applyTo(t){const e=this.position,n=new we(0,0,1).applyQuaternion(this.rotation),r=new we(0,1,0).applyQuaternion(this.rotation);t.positionX?(t.positionX.value=e.x,t.positionY.value=e.y,t.positionZ.value=e.z):t.setPosition(e.x,e.y,e.z),t instanceof PannerNode?t.orientationX?(t.orientationX.value=n.x,t.orientationY.value=n.y,t.orientationZ.value=n.z):t.setOrientation(n.x,n.y,n.z):t.forwardX?(t.forwardX.value=n.x,t.forwardY.value=n.y,t.forwardZ.value=n.z,t.upX.value=r.x,t.upY.value=r.y,t.upZ.value=r.z):t.setOrientation(n.x,n.y,n.z,r.x,r.y,r.z)}}class Be{constructor(t,e,n,r){this.world=t,this.audioCtx=new AudioContext,this.listener=this.audioCtx.listener,this.updateLocation(e,n,r)}updateLocation(t,e,n){this.location=t,this.pitch=this.toRadians(e),this.yaw=this.toRadians(this.normalizeYaw(360-n));const r=new Re(this.pitch,this.yaw,0),i=new Ie;i.setFromEuler(r);new Ne(t,i).applyTo(this.listener),this.world.onLocationUpdate()}toRadians(t){return t*(Et/180)}normalizeYaw(t){return 0>(t%=360)&&(t+=360),t}}class je{constructor(t,e,n){this.source=t,this.distance=e,this.speaker=n}}const Fe="SPEAKER_2D";class De{constructor(t,e,n,r,i,o){this.pannerNode=n.audioCtx.createPanner(),this.media=r,this.pannerId=null,r.load(i,!1).then(()=>{o.fadeChannel(100,100),r.addNode(n,this.pannerNode),this.pannerId=P(this.pannerNode,t.maxDistance);const e=t.location;new Ne(e).applyTo(this.pannerNode),this.pannerNode.connect(n.audioCtx.destination)})}preDelete(){i("Untracking "+this.pannerId),_(this.pannerId)}}class Le{constructor(t,e,n){this.id="SPEAKER__"+e,this.openAudioMc=t,this.speakerNodes=new Map,this.source=e,this.startInstant=n,this.initialized=!1,this.whenInitialized=[]}async initialize(){const t=new fe(this.id);t.trackable=!0,this.channel=t;const e=new ye(this.source);this.media=e,e.openAudioMc=openAudioMc,e.setOa(openAudioMc),t.mixer=this.openAudioMc.getMediaManager().mixer,t.addSound(e),openAudioMc.getMediaManager().mixer.addChannel(t),e.whenInitialized(async()=>{t.setChannelVolume(0),e.startDate(this.startInstant,!0),await e.finalize(),e.setLooping(!0),t.setTag(this.id),t.setTag("SPECIAL"),this.openAudioMc.getMediaManager().mixer.updateCurrent(),e.startDate(this.startInstant,!0),e.finish()}),this.initialized=!0}removeSpeakerLocation(t){const e=this.speakerNodes.get(t);null!=e&&(e.preDelete(),this.speakerNodes.delete(t))}updateLocation(t,e,n){if(t.type==Fe){this.media.load(this.source,!0);const r=t.getDistance(e,n),i=this._convertDistanceToVolume(t.maxDistance,r);if(0>=i)return;this.channel.fadeChannel(i,100)}else this.speakerNodes.has(t.id)||this.speakerNodes.set(t.id,new De(t,e,n,this.media,this.source,this.channel))}_convertDistanceToVolume(t,e){return At((t-e)/t*100)}remove(){this.media.loaded||r("WARNING! wanted to stop "+this.id+" but it isn't loaded yet"),this.openAudioMc.getMediaManager().destroySounds(this.id,!1,!1,500,()=>{this.media.destroyed?r("It got destroyed successfully"):(r("Failed to destroy a world sound, so I had to do it again."),this.media.destroy())})}}class Ue{constructor(t){this.openAudioMc=t,this.speakers=new Map,this.audioMap=new Map,this.player=new Be(this,new we(0,0,0),0,0)}getSpeakerById(t){return this.speakers.get(t)}addSpeaker(t,e){this.speakers.set(t,e),this.renderAudio2D()}removeSpeaker(t){for(let[e,n]of this.audioMap)n.removeSpeakerLocation(t);this.speakers.delete(t),setTimeout(()=>{this.renderAudio2D()},600)}async getMediaForSource(t,e){const n=this.audioMap.get(t);if(null!=n)return n;if(null==e)return null;const r=new Le(this.openAudioMc,t,e);return this.audioMap.set(t,r),await r.initialize(),r}async removeMediaFromSource(t){const e=await this.getMediaForSource(t);return null==e?void r("Couldn't stop world media for "+t+" because it didn't exist"):(e.remove(),r("Cleared world media "+t),void this.audioMap.delete(t))}onLocationUpdate(){this.renderAudio2D()}isMediaUsed(t){for(let e of this.speakers.values())if(e.source==t)return!0;return!1}async renderAudio2D(){let t=[];this.speakers.forEach(e=>{const n=e.getDistance(this,this.player);t.push(new je(e.source,n,e))});let e=new Map;for(let n of t){let t=e.get(n.source);null!=t?Array.isArray(t)?(t.push(n),e.set(n.source,t)):t.distance>n.distance&&n.distance<=n.speaker.maxDistance&&e.set(n.source,n):n.speaker.type==Fe?n.distance<=n.speaker.maxDistance&&e.set(n.source,n):n.distance<=n.speaker.maxDistance&&e.set(n.source,[n])}for(let[t,n]of e){let t=Array.isArray(n)?n:[n];for(let e of t){(await this.getMediaForSource(e.source,e.speaker.startInstant)).updateLocation(e.speaker,this,this.player)}}for(let[t,e]of this.audioMap)this.isMediaUsed(t)||await this.removeMediaFromSource(t)}}class Ve{constructor(){this.successCallback=alert,this.errorCallback=alert}getUserMedia(t){return null==navigator.getUserMedia?null==navigator.webkitGetUserMedia?null==navigator.mediaDevices.getUserMedia?null==navigator.msGetUserMedia?void console.error("Unknown user media platform!"):void nnavigator.msGetUserMedia(t,this.successCallback,this.errorCallback):void navigator.mediaDevices.getUserMedia(t).then(t=>this.successCallback(t)).catch(t=>this.errorCallback(t)):void navigator.webkitGetUserMedia(t,this.successCallback,this.errorCallback):void navigator.getUserMedia(t,this.successCallback,this.errorCallback)}}var ze=n(65);class He{constructor(t,e,n,r,i,o){this.openAudioMc=t,this.server=e,this.streamKey=n,this.peerStreamKey=r,this.volume=i,this.volBooster=1.2,this.uiInst=o,this.harkEvents=null,this.pannerId=null,this.globalVolumeNodeId=null}start(t){let e=this.openAudioMc.voiceModule.peerManager.requestStream(this.peerStreamKey);e.onFinish(e=>{const n=this.openAudioMc.world.player.audioCtx;this.setVolume(this.volume),this.gainNode=n.createGain(),this.audio=new Audio,this.audio.autoplay=!0,this.audio.srcObject=e,this.gainNode.gain.value=this.volume/100*this.volBooster,window.debugAudio=this.audio,this.audio.muted=!0;const r=n.createMediaStreamSource(this.audio.srcObject);this.harkEvents=Object(ze.a)(e,{}),this.harkEvents.setThreshold(-75),this.harkEvents.on("speaking",()=>{this.uiInst.setVisuallyTalking(!0)}),this.harkEvents.on("stopped_speaking",()=>{this.uiInst.setVisuallyTalking(!1)}),this.audio.muted=!0;let i=null;if(this.openAudioMc.voiceModule.surroundSwitch.isOn()){const t=this.gainNode;this.pannerNode=n.createPanner(),this.pannerId=P(this.pannerNode,this.openAudioMc.voiceModule.blocksRadius),this.setLocation(this.x,this.y,this.z,!0),r.connect(t),t.connect(this.pannerNode),i=this.pannerNode}else{const t=this.gainNode;r.connect(t),i=t}let o=n.createGain();i.connect(o),this.globalVolumeNodeId=function(t){it(t);let e=k(5);return nn[e]=t,e}(o),o.connect(n.destination),this.audio.play().then(()=>{}).catch(t=>{console.log("Denied from promise",t)}),t()}),e.onReject(t=>{i("Stream for "+this.peerStreamKey+" got denied: "+t)})}setLocation(t,e,n,r){if(this.openAudioMc.voiceModule.useSurround){if(r&&null!=this.pannerNode){new Ne(new we(this.x,this.y,this.z)).applyTo(this.pannerNode)}else r&&i("Warning, attempted to update a peer location while the panner node is nil");this.x=t,this.y=e,this.z=n}}setVolume(t){this.volume=t,null!=this.gainNode&&(this.gainNode.gain.value=this.volume/100*this.volBooster)}stop(){null!=this.pannerId&&(_(this.pannerId),function(t){i("Untracking gain "+t),delete nn[t]}(this.globalVolumeNodeId)),null!=this.audio&&(this.audio.pause(),this.audio.src=null,this.audio.srcObject=null,this.gainNode.gain.value=0),null!=this.harkEvents&&this.harkEvents.stop()}}class We{constructor(t,e,n,r,i,o){this.openAudioMc=t,this.playerName=e,this.playerUuid=e,this.streamKey=r,this.interpolator=new Ee,this.active=!0,this.ready=!1,this.location=o,this.volume=80;let s=Cookies.get("vc-volume-of-"+e);null!=s&&(this.volume=parseInt(s)),this.ui=new oe(this.openAudioMc,e,n,this.volume,t=>{this.volume=t,Cookies.set("vc-volume-of-"+e,t,{expires:30}),this.ready&&this.stream.setVolume(this.volume)},this),this.stream=new He(t,i,t.voiceModule.streamKey,r,this.volume,this.ui),this.stream.setLocation(o.x,o.y,o.z,!1),this.stream.start(()=>this.active?(this.stream.setVolume(this.volume),void(this.ready=!0)):void this.stop()),this.openAudioMc.streamerLink.announceVoicePeerJoin(this)}asSimpleJson(){return{name:this.playerName,uuid:this.playerUuid}}updateLocation(t,e,n){this.interpolator.onMove=t=>{this.stream.setLocation(t.x,t.y,t.z,!0)},this.interpolator.interpolate(new we(t,e,n),90,90,Se.VC_LOCATION_UPDATES)}stop(){this.openAudioMc.streamerLink.announceVoicePeerLeave(this),null!=this.openAudioMc.voiceModule.peerManager&&this.openAudioMc.voiceModule.peerManager.dropStream(this.streamKey),this.active=!1,this.ui.remove(),null!=this.stream&&this.stream.stop()}}class Ge{constructor(t,e,n,r,i){this.id=t,this.enabledText=r,this.disabledText=i,this.onToggle=n,this.state=null==Cookies.get(t)?e:JSON.parse(Cookies.get(t)),this.setVisuallyActive(this.state),u(()=>{document.getElementById(this.id).checked=!this.state,document.getElementById(this.id).onclick=()=>{this.state=!this.state,Cookies.set(this.id,this.state,{expires:30}),this.onToggle(this.state),this.setVisuallyActive(this.state)}})}setVisuallyActive(t){t?(document.getElementById(this.id).innerText=this.enabledText,document.getElementById(this.id).style.backgroundColor="",document.getElementById(this.id).style.color=""):(document.getElementById(this.id).innerText=this.disabledText,document.getElementById(this.id).style.backgroundColor="#EF4444",document.getElementById(this.id).style.color="#F3F4F6")}getState(){return this.state}isOn(){return this.state}}class Je{constructor(){this.eventName="",this.params=new Map}fromString(t){this.original=t;let e=t.split("~");for(let t=0;t<e.length;t++)if(0===t)this.eventName=e[t];else{let n=e[t];if(-1!==n.indexOf("=")){let t=n.split("=");this.params.set(t[0],t[1])}}return this}setParam(t,e){return this.params.set(t,e),this}getParam(t){return this.params.get(t)}setEventName(t){return this.eventName=t,Wn.isProd||i("Building bus message "+t),this}getEventName(){return this.eventName}serialize(){let t=this.eventName+"~";for(let[e,n]of this.params)t+=e+"="+n+"~";return t}trimmed(){let t=this.eventName.length,e="";for(let n,r=0;r<this.original.length;r++)n=this.original.charAt(r),r<=t||(e+=n);return e}}class Ye{constructor(){this.whenFinished=()=>{i("A promised channel got finished before it got used")},this.whenRejected=()=>{i("A promised channel got finished before it got used")},this.error=null,this.payload=null}onFinish(t){return null==this.payload?void(this.whenFinished=t):void t(this.payload)}onReject(t){return null==this.error?void(this.whenRejected=t):void t(this.error)}handleData(t){this.payload=t,this.whenFinished(t)}handleError(t){this.error=t,this.whenRejected(t)}}class qe{constructor(t,e,n,r,i){this.openAudioMc=t,this.server=e,this.micProcessor=i,this.streamKey=n,this.waitingPromises=new Map,this.trackQueue=new Map,this.updateNegotiation=!0,this.micStream=r,document.getElementById("vc-mic-mute").innerText=getMessageString("vc.muteMicrophone"),this.isMuted=!1,window.onMicMutePress=()=>this.muteCooldown?void Swal.fire({icon:"warning",text:"Please wait a moment before doing this again",backdrop:"",timer:3e3}):void this.setMute(!this.isMuted),this.muteCooldown=!1}onStart(){i("Confluence started"),this.openAudioMc.socketModule.send(zt,{enabled:!0})}dropStream(t){"open"===this.dataChannel.readyState?this.dataChannel.send((new Je).setEventName("DROP_STREAM").setParam("owner",t).serialize()):i("Warning! can't drop a stream because the connection is closed")}requestStream(t){if("open"===this.dataChannel.readyState){let e=new Ye;return this.waitingPromises.set(t,e),this.dataChannel.send((new Je).setEventName("REQUEST_STREAM").setParam("owner",t).serialize()),e}{i("Warning! attempted to request a stream for "+t+" but the eb is closed");let e=new Ye;return e.handleError("Connection is closed"),e}}initializeRenegotiation(){this.lastNegotiationRequest=performance.now(),this.pcReceiver.createOffer().then(t=>this.pcReceiver.setLocalDescription(t)).then(()=>{let t=JSON.stringify({sdp:btoa(JSON.stringify(this.pcReceiver.localDescription))}),e=(new Je).setEventName("KICKSTART_RENEG").serialize();e+=t,this.dataChannel.send(e)}).catch(t=>{this.openAudioMc.voiceModule.handleCrash(JSON.stringify(t.toJSON()))})}handleRenagEnd(){if(null!=this.lastNegotiationRequest){let t=performance.now(),e=Math.ceil(t-this.lastNegotiationRequest);i("Renegotiation took "+e+" MS - "+(500<e?"Warning! Renegotiation took too long!":""))}}registerDataChannel(t,e){t.addEventListener("open",()=>{i("Opened RTC event bus")}),t.addEventListener("close",()=>{i("Closed RTC event bus")}),t.addEventListener("message",t=>{const n=t.data;let r=(new Je).fromString(n);switch(Wn.isProd||i("Handling bus "+r.getEventName()),r.getEventName()){case"REQUEST_NEG_INIT":i("Server requested renag start"),this.initializeRenegotiation();break;case"NEGOTIATION_RESPONSE":let t=r.trimmed(),n=JSON.parse(t);i("response was "+t.length),this.pcReceiver.setRemoteDescription(new RTCSessionDescription(JSON.parse(atob(n.sdp)))).then(()=>{this.handleRenagEnd(),this.dataChannel.send((new Je).setEventName("CLIENT_CONFIRMED_NEG").serialize())});break;case"PROCESS_OFFER":this.lastNegotiationRequest=performance.now();let o=JSON.parse(r.trimmed());this.pcReceiver.setRemoteDescription(new RTCSessionDescription(JSON.parse(atob(o.sdp)))).then(()=>{this.pcReceiver.createAnswer().then(t=>{var e=(new Je).setEventName("PROCESS_RESPONSE").serialize();e+=btoa(JSON.stringify(t)),this.dataChannel.send(e),this.pcReceiver.setLocalDescription(t).catch(t=>{this.openAudioMc.voiceModule.handleCrash(JSON.stringify(t.toJSON()))})}).catch(t=>{this.openAudioMc.voiceModule.handleCrash(JSON.stringify(t.toJSON()))})}).catch(t=>{this.openAudioMc.voiceModule.handleCrash(JSON.stringify(t.toJSON()))});break;case"CONFIRM_NEGOTIATION":this.handleRenagEnd();break;case"NEGOTIATION_CANCELLED":i("Negotiation was ignored, server doesn't think it to be needed.");break;case"OK":null!=e&&e(),this.openAudioMc.voiceModule.peerManager.playInternalSound("assets/unmute.mp3"),i("Received Confluence channel confirmation");break;case"REJECT_REQUEST":let s=r.getParam("owner");i("The server rejected a stream request to "+s),this.waitingPromises.has(s)&&(this.waitingPromises.get(s).handleError("Request got denied by the server"),this.waitingPromises.delete(s));break;case"CONFIRM_REQUEST":this.trackQueue.set(r.getParam("streamid"),r.getParam("owner"));break;case"CONTEXT_EVENT":this.contextEvent(r);break;case"IDENTIFY_SELF":this.dataChannel.send((new Je).setEventName("VERSION").setParam("build",Wn.build+"").setParam("author",Wn.compiler).setParam("isProd",Wn.isProd+"").serialize());break;default:i("Warning! received a rtc packet called "+r.getEventName()+" but I don't have a clue what it does.")}})}contextEvent(t){let e=t.getParam("type");"client-muted"===e?this.openAudioMc.voiceModule.peerMap.get(t.getParam("who")).ui.setVisuallyMuted(!0):"client-unmuted"===e&&this.openAudioMc.voiceModule.peerMap.get(t.getParam("who")).ui.setVisuallyMuted(!1)}onInternalTrack(t,e,n){let r=t.id;if(!t.active)return void i("Received an inactive track! cancelling.");if(!this.trackQueue.has(r))return void i("Received an unknown track called "+r+". Ignoring it.");let o=this.trackQueue.get(r),s=this.waitingPromises.get(o);return null==s?void(e?i("Got a stream that doesn't seem to be asked for, skipping it. it was "+r):(i("Got a stream that doesn't seem to be asked for, trying again in 1s"),setTimeout(()=>{this.onInternalTrack(t,!0,n)},1e3))):(s.handleData(t),this.waitingPromises.delete(o),void this.trackQueue.delete(r))}async setup(t){let e=this.server+"webrtc/confluence/sdp/m/"+tokenCache.publicServerKey+"/pu/"+tokenCache.uuid+"/pn/"+tokenCache.name+"/sk/"+this.streamKey;this.pcReceiver=new RTCPeerConnection;let n=!1,r=t=>{if("connected"===this.pcReceiver.connectionState||"connected"===t.target.iceConnectionState){if(n)return;n=!0,this.onStart()}};this.pcReceiver.oniceconnectionstatechange=r,this.pcReceiver.addEventListener("connectionstatechange",r),this.pcReceiver.onnegotiationneeded=()=>{i("Finished negotiation round")},this.dataChannel=this.pcReceiver.createDataChannel("eb"),this.registerDataChannel(this.dataChannel,t),this.listenForTracks(),console.log(this.micStream);const o=this.micStream.getTracks();for(let t=0;t<o.length;t++)this.pcReceiver.addTrack(this.micStream.getTracks()[t]);this.pcReceiver.createOffer().then(t=>this.pcReceiver.setLocalDescription(t)).then(()=>{fetch(e,{method:"POST",body:JSON.stringify({sdp:btoa(JSON.stringify(this.pcReceiver.localDescription))})}).then(t=>{200===t.status?t.json().then(t=>{this.pcReceiver.setRemoteDescription(new RTCSessionDescription(JSON.parse(atob(t.Sdp))))}):(Swal.fire({backdrop:"",showClass:{popup:"swal2-noanimation",backdrop:"swal2-noanimation"},icon:"error",title:"Connection error",text:"Something went wrong while connecting to the OpenAudioMc voice service. Please try again in a minute or so.",footer:'<a href="https://help.openaudiomc.net/voicechat_troubleshooting">Why do I have this issue?</a>'}),t.json().then(e=>{this.openAudioMc.voiceModule.handleCrash("RTC connection error, received status body "+JSON.stringify(e)+" "+t.status)}))}).catch(t=>{console.error(t),this.openAudioMc.voiceModule.handleCrash(JSON.stringify(t.toJSON()))})}).catch(t=>{this.openAudioMc.voiceModule.handleCrash(JSON.stringify(t.toJSON()))}),window.rtcHook=this.pcReceiver}async playInternalSound(t){if(!T("useChimes"))return void i("Chimes are disabled");i("Playing internal sound "+t);const e=new fe(t),n=new ye;n.openAudioMc=this.openAudioMc,n.setOa(this.openAudioMc),await n.load(t),n.setOnFinish(()=>{this.openAudioMc.mediaManager.mixer._updatePlayingSounds(),this.openAudioMc.mediaManager.mixer.removeChannel(t)}),n.finalize().then(()=>{this.openAudioMc.mediaManager.mixer.addChannel(e),e.addSound(n),e.setChannelVolume(100),e.updateFromMasterVolume(),n.finish()})}setMute(t){if(this.muteCooldown)Swal.fire("Please wait a moment before doing this again");else{t?(this.playInternalSound("assets/mute.mp3"),document.getElementById("visual-speaking-indicator").style.opacity="0.2",document.getElementById("vc-mic-mute").innerText=getMessageString("vc.unmuteMicrophone")):(document.getElementById("visual-speaking-indicator").style.opacity="1",this.playInternalSound("assets/unmute.mp3"),document.getElementById("vc-mic-mute").innerText=getMessageString("vc.muteMicrophone")),this.isMuted=t,this.setVisualMuteState(!t),this.muteCooldown=!0,setTimeout(()=>{this.muteCooldown=!1},500);for(let e=0;e<this.micStream.getAudioTracks().length;e++)this.micStream.getAudioTracks()[e].enabled=!t;t?(this.openAudioMc.voiceModule.microphoneProcessing.onMute(),this.openAudioMc.voiceModule.pushSocketEvent(tn.MIC_MUTE),this.dataChannel.send((new Je).setEventName("CONTEXT_EVENT").setParam("type","muted-stream").serialize())):(this.openAudioMc.voiceModule.microphoneProcessing.onUnmute(),this.openAudioMc.voiceModule.pushSocketEvent(tn.MIC_UNMTE),this.dataChannel.send((new Je).setEventName("CONTEXT_EVENT").setParam("type","unmuted-stream").serialize()))}}setVisualMuteState(t){t?(document.getElementById("vc-mic-mute").style.backgroundColor="",document.getElementById("vc-mic-mute").style.color=""):(document.getElementById("vc-mic-mute").style.backgroundColor="#EF4444",document.getElementById("vc-mic-mute").style.color="#F3F4F6")}stop(){this.micStream.getTracks().forEach((function(t){t.stop()})),this.pcReceiver.close()}listenForTracks(){this.pcReceiver.addEventListener("track",t=>{for(let e=0;e<t.streams.length;e++){if("dead-mans-track"===t.streams[e].id)return;t.track.onended=()=>{this.dataChannel.send((new Je).setEventName("SCHEDULE_RENAG").serialize())},this.onInternalTrack(t.streams[e],!1,t.track)}})}}var Ke=n(139),Xe=n.n(Ke);class $e{constructor(t){this.element=document.getElementById(t),this.storeStateAs=null,this.handlers=[],this.isEnabled=this.element.checked,this.element.onchange=t=>{let e=t.target.checked;this._callHandlers(e),this.isEnabled=e,null!=this.storeStateAs&&Cookies.get("checkbox-"+this.storeStateAs,e?"enabled":"disabled",{expires:30})},this._callHandlers(this.isEnabled)}useCookie(t){return this.storeStateAs=t,this.element.checked="enabled"===Cookies.get("checkbox-"+t),this._callHandlers(this.element.checked),this.isEnabled=this.element.checked,this}onChange(t){return t(this.isEnabled),this.handlers.push(t),this}_callHandlers(t){for(let e=0;e<this.handlers.length;e++)this.handlers[e](t)}}class Qe extends class{unlink(){throw new Error("Not implemented")}link(){throw new Error("Not implemented")}}{constructor(){super()}unlink(){this.target.disconnect()}link(t,e,n){this.target=e,e.connect(n)}}class Ze{constructor(t,e,n){this.openAudioMc=t,this.stream=n,this.voiceModule=e,this.id="visual-speaking-indicator",this.startedTalking=null,this.shortTriggers=0,this.isStreaming=!1,this.isMuted=!1,this.harkEvents=Object(ze.a)(this.stream,{}),this.gainController=new Xe.a(n),this.gainController.on(),this.loadDefaults(),this.monitoringVolume=0,this.longSessions=0,this.inputStreamSource=n,this.autoAdjustCheckbox=new $e("enable-auto-adjustments").useCookie("auto-adjust-mic").onChange(t=>{i("Auto mic adjustments: "+t),this.enabledAutoAdjustments=t}),this.enableMonitoringCheckbox=new $e("enable-input-monitoring").useCookie("mic-monitoring").onChange(t=>{i("Monitoring: "+t)}),this.setupTrackProcessing(n),this.checkLoop=setInterval(()=>{if(this.isSpeaking){10<((new Date).getTime()-this.startedTalking)/1e3&&(this.longSessions++,this.startedTalking=(new Date).getTime()),1<this.longSessions&&(this.decreaseSensitivity(),this.longSessions=0,this.startedTalking=(new Date).getTime())}},500),this.hookListeners()}updateSensitivity(t){let e=-Ot(t);this.harkEvents.setThreshold(e),Cookies.set("mic-sensitivity",e+"",{expires:30}),this.currentThreshold=this.harkEvents.getThreshold()}decreaseSensitivity(){if(!this.enabledAutoAdjustments)return;let t=Ot(this.currentThreshold);t-=5,this.updateSensitivity(t),document.getElementById("mic-sensitive-slider").value=t}onMute(){this.isMuted=!0,this.isSpeaking&&this.shouldStream(!1)}onUnmute(){this.isMuted=!1,this.isSpeaking&&this.shouldStream(!0)}onSpeakStart(){this.isMuted||this.shouldStream(!0)}onSpeakEnd(){this.isMuted||this.shouldStream(!1)}stop(){this.harkEvents.stop(),clearInterval(this.checkLoop)}shouldStream(t){t?(!this.isStreaming&&(this.isStreaming=!0,"open"===this.openAudioMc.voiceModule.peerManager.dataChannel.readyState&&this.openAudioMc.voiceModule.peerManager.dataChannel.send((new Je).setEventName("DISTRIBUTE_RTP").serialize())),document.getElementById(this.id).style.backgroundColor="lime",document.getElementById(this.id).style.boxShadow="0 0 10pt 2pt lime",clearTimeout(this.haltRtpTask)):(this.haltRtpTask=setTimeout(()=>{"open"===this.openAudioMc.voiceModule.peerManager.dataChannel.readyState&&(this.isStreaming=!1,this.openAudioMc.voiceModule.peerManager.dataChannel.send((new Je).setEventName("HALT_RTP").serialize()))},500),document.getElementById(this.id).style.boxShadow="",document.getElementById(this.id).style.backgroundColor="")}loadDefaults(){let t=Cookies.get("mic-sensitivity");null!=t&&(t=parseInt(t),this.harkEvents.setThreshold(t)),document.getElementById("mic-sensitive-slider").value=Ot(this.harkEvents.getThreshold()),this.currentThreshold=this.harkEvents.getThreshold(),this.isSpeaking=!1,this.harkEvents.setInterval(5),document.getElementById("mic-sensitive-slider").oninput=t=>{this.updateSensitivity(t.target.value)}}hookListeners(){this.harkEvents.on("speaking",()=>{this.isSpeaking=!0,this.startedTalking=(new Date).getTime(),this.setMonitoringVolume(this.monitoringVolume),this.onSpeakStart()}),this.harkEvents.on("stopped_speaking",()=>{this.isSpeaking=!1,this.onSpeakEnd(),this.monitoringGainnode.gain.value=0,1.5>((new Date).getTime()-this.startedTalking)/1e3?(this.shortTriggers++,25<this.shortTriggers&&(this.decreaseSensitivity(),this.shortTriggers=0)):this.shortTriggers=0})}setMonitoringVolume(t){this.monitoringVolume=t,this.monitoringGainnode.gain.value=t/100}setupTrackProcessing(){const t=this.openAudioMc.world.player.audioCtx;this.monitoringAudio=new Audio,this.monitoringAudio.muted=!0,this.monitoringAudio.autoplay=!0,this.monitoringAudio.volume=1,this.output=t.createMediaStreamDestination(),this.monitoringAudio.srcObject=this.output.stream,this.monitoringGainnode=t.createGain(),this.enableMonitoringCheckbox.onChange(t=>{t?(this.monitoringAudio.muted=!1,console.log()):(this.monitoringAudio.muted=!0,console.log(this.monitoringAudio))});let e=t.createMediaStreamSource(this.inputStreamSource);(new Qe).link(t,e,this.output),this.monitoringAudio.play()}}const tn={MIC_MUTE:"MICROPHONE_MUTED",MIC_UNMTE:"MICROPHONE_UNMUTE"};let en=0;var nn={};class rn{constructor(t){this.openAudioMc=t,this.peerManager=null,this.peerMap=new Map,this.loadedDeviceList=!1,this.loadeMicPreference=Cookies.get("preferred-mic"),en=null==Cookies.get("vc-volume")?100:Cookies.get("vc-volume"),this.volumeSlider=document.getElementById("vc-volume-slider"),this.volumeSlider.value=en,this.volumeSlider.oninput=t=>{for(let e in en=t.target.value,s("{{ oam.vc.volume }}",en+"%"),nn)it(nn[e]);Cookies.set("vc-volume",en)},s("{{ oam.vc.volume }}",en+"%"),i("Booted voice module")}enable(t,e,n){this.surroundSwitch=new Ge("use-surround",!0,t=>{this.openAudioMc.socketModule.send(zt,{enabled:!1}),this.useSurround=t,this.onSurrroundUpdate()},getMessageString("vc.settingsDisablePositionalAudio"),getMessageString("vc.settingsEnablePositionalAudio")),this.useSurround=this.surroundSwitch.isOn(),this.blocksRadius=n,this.server=t,this.streamKey=e,document.getElementById("voicechat-onboarding").classList.remove("super-hidden"),s("{{ vc.onboarding }}",window.getMessageString("vc.onboarding",[["%range",this.blocksRadius+""]])),document.getElementById("vc-connect-button").onclick=()=>{o("{{ navbar.vc_button }}","","style"),this.consent(this.loadeMicPreference),document.getElementById("open-voice-tab").click()}}addPeer(t,e,n,r){this.peerMap.set(n,new We(this.openAudioMc,e,t,n,this.server,r))}peerLocationUpdate(t,e,n,r){this.peerMap.has(t)&&this.peerMap.get(t).updateLocation(e,n,r)}removeAllPeers(){for(let[t,e]of this.peerMap)this.removePeer(t)}removePeer(t){if(this.peerMap.has(t)){let e=this.peerMap.get(t);this.peerMap.delete(t),e.stop()}else i("Couldn't remove peer "+t+" because, well, there is no such peer")}onSurrroundUpdate(){this.openAudioMc.socketModule.send(zt,{enabled:!1}),Swal.fire({title:window.getMessageString("vc.reloadingPopupTitle"),html:window.getMessageString("vc.reloadingPopup"),timer:3500,showCloseButton:!1,backdrop:"",showCancelButton:!1,timerProgressBar:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:()=>{Swal.showLoading()},willClose:()=>{clearInterval(void 0)}}).then(t=>{t.dismiss===Swal.DismissReason.timer&&this.openAudioMc.socketModule.send(zt,{enabled:!0})})}handleCrash(t){Swal.fire({icon:"error",title:"Oops...",text:"Something went wrong while starting your voice chat session. Please report this problem and try again later.",backdrop:""}),M("Something went wrong while enabling voicechat. Error: "+t,window.tokenCache.name)}handleAudioPermissions(t){document.getElementById("voice-settings-container").style.display="",this.loadedDeviceList||(navigator.mediaDevices.enumerateDevices().then(t=>{let e=[];for(let n,r=0;r<t.length;r++)n=t[r],"audioinput"===n.kind&&e.push({name:n.label,id:n.deviceId});this.loadedDevices(e)}).catch(t=>{console.error(t),this.handleCrash(JSON.stringify(t.toJSON()))}),this.loadedDeviceList=!0),Swal.fire({backdrop:"",title:window.getMessageString("vc.startingPopupTitle"),html:window.getMessageString("vc.startingPopup"),showCloseButton:!1,showCancelButton:!1,timerProgressBar:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:()=>{Swal.showLoading()}}),this.microphoneProcessing=new Ze(this.openAudioMc,this,t),this.peerManager=new qe(this.openAudioMc,this.server,this.streamKey,this.microphoneProcessing.output.stream,this.microphoneProcessing),this.peerManager.setup(this.onOutoingStreamStart).catch(t=>{this.handleCrash(JSON.stringify(t.toJSON()))}),N(()=>{i("Enabling rtc debugging"),window.debugUi.addPanel(se.RTC,()=>"waitingPromises="+this.peerManager.waitingPromises.size+", trackQueue="+this.peerManager.trackQueue.size+", state="+this.peerManager.pcReceiver.connectionState+", ice="+this.peerManager.pcReceiver.iceConnectionState+", isSpeaking="+this.microphoneProcessing.isSpeaking+", transceivers="+this.peerManager.pcReceiver.getTransceivers().length+", muxPolicy="+this.peerManager.pcReceiver.getConfiguration().rtcpMuxPolicy)})}changeInput(t){i("Stopping current streamer, and restarting with a diferent user input"),Cookies.set("preferred-mic",t,{expires:30}),this.peerManager.setMute(!1),this.peerManager.stop(),this.microphoneProcessing.stop(),this.peerManager=null,this.openAudioMc.socketModule.send(zt,{enabled:!1}),Swal.fire({backdrop:"",title:window.getMessageString("vc.updatingMicPopupTitle"),html:window.getMessageString("vc.updatingMicPopup"),timer:3500,showCloseButton:!1,showCancelButton:!1,timerProgressBar:!1,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:()=>{Swal.showLoading()},willClose:()=>{clearInterval(void 0)}}).then(e=>{e.dismiss===Swal.DismissReason.timer&&this.consent(t)})}loadedDevices(t){let e=document.getElementById("vc-mic-select");for(;0<e.options.length;)e.remove(0);for(let n=0;n<t.length;n++){let r=t[n],i=document.createElement("option");null==this.loadeMicPreference&&0==n&&(i.selected=!0),i.value=r.id,i.innerText=r.name,i.dataset.deviceId=r.id,e.add(i)}null!=this.loadeMicPreference&&(e.value=this.loadeMicPreference),e.onchange=t=>{let e=t.target.value;this.changeInput(e)}}onOutoingStreamStart(){Swal.close()}consent(t){document.getElementById("voicechat-onboarding").style.display="none";let e=t?{audio:{deviceId:{exact:t},noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1,channelCount:1}}:{audio:{noiseSuppression:!0,echoCancellation:!1,autoGainControl:!1,channelCount:1}},n=new Ve;n.successCallback=function(t){this.openAudioMc.voiceModule.handleAudioPermissions(t)}.bind(this),n.errorCallback=function(e){return null==t?(console.error(e),"OverconstrainedError"===e.name||e instanceof OverconstrainedError?(i("Couldn't get microphone, ignoring and trying again"),void this.consent(null)):void this.openAudioMc.voiceModule.permissionError(e)):(Cookies.remove("preferred-mic"),void this.consent(null))}.bind(this),n.getUserMedia(e)}permissionError(){o("{{ navbar.vc_button }}","displey: none;","style"),document.getElementById("tab1").click(),Swal.fire({backdrop:"",showClass:{popup:"swal2-noanimation",backdrop:"swal2-noanimation"},icon:"error",title:window.getMessageString("vc.micErrorPopupTitle"),text:window.getMessageString("vc.micErrorPopup"),footer:'<a href="https://help.openaudiomc.net/voicechat_troubleshooting">Why do I have this issue?</a>'})}shutDown(){null!=this.peerManager&&this.peerManager.stop(),null!=this.microphoneProcessing&&this.microphoneProcessing.stop();for(let[t,e]of this.peerMap)e.stop()}pushSocketEvent(t){null!=this.peerManager&&this.openAudioMc.socketModule.send(zt,{event:t})}blurWithReason(){s("{{ oam.vc.disabled }}",window.getMessageString("vc.disabled"),[["%server",this.openAudioMc.serverName]])}unblur(){}}class on{constructor(){this.messages={},this.seeded=!1,this.seededValues=[],this.currentLangFile="",this.forcedValues={},this.languageMappings={gb:"en.lang",us:"en.lang",nl:"nl.lang",be:"nl.lang",sp:"es.lang",es:"es.lang",fr:"fr.lang",de:"de.lang",ja:"jp.lang"},window.getMessageString=this.getString,window.debugHooks.loadLanguage=this.load}setKey(t,e){this.forcedValues[t]=e}async handleCountry(t){t=t.toLowerCase();let e=this.languageMappings[t];null!=e&&(i("Switching to "+t+" > "+e),await this.load(e))}updateBanner(){if(Cookies.get("preferred-lang")===this.currentLangFile)return void(document.getElementById("lang-change-banner").style.display="none");let t=[["%langName",getMessageString("lang.name")]];s("{{ ui.lang.detectedAs }}",getMessageString("lang.detectedAs",t)),s("{{ ui.lang.toEn }}",getMessageString("lang.toEn",t)),s("{{ ui.lang.keep }}",getMessageString("lang.keep",t)),document.getElementById("lang-back-to-en").onclick=()=>{this.load("en.lang").then(()=>console.log),document.getElementById("lang-change-banner").style.display="none"},document.getElementById("lang-keep").onclick=()=>{Cookies.set("preferred-lang",this.currentLangFile,{expires:30}),document.getElementById("lang-change-banner").style.display="none"},document.getElementById("lang-change-banner").style.display=""}getString(t,e=[]){let n=window.openAudioMc.messageModule.messages[t];if(null==n)return i("Couldn't find message key "+t),"?? "+t+" ??";let r=window.openAudioMc.messageModule.forcedValues[t];null!=r&&(n=r);for(let t=0;t<e.length;t++)n=n.replace(e[t][0],e[t][1]);return n}renderKeyToDom(t,e,n=[]){let r=this.getString(e,n),i=window.openAudioMc.messageModule.forcedValues[t];null!=i&&(r=i),s(t,r,!0)}seedStatic(t){let e=function(t){function e(){var t=[];return function e(n){if(n.childNodes.length)for(var r=0;r<n.childNodes.length;r++)e(n.childNodes[r]);else n.nodeType===Node.TEXT_NODE&&t.push(n)}(document),t}let n=[];for(let r,i=0;i<e().length;i++)r=e()[i],-1!==r.nodeValue.indexOf(t)&&n.push(r.nodeValue);return n}("{%"),n={};for(let t=0;t<e.length;t++){var r=e[t];let i="",o=!1;for(let t of r)o?i+=t:" "!==t&&"\n"!==t&&(o=!0,i+=t);n[r=i]=r.split(" ")[1]}for(let e in n)this.seededValues.push({key:e,value:n[e],placeholders:t}),this.renderKeyToDom(e,n[e],t);this.seeded=!0}async fetchWithFailover(t,e=!1){let n=(window.location.pathname+window.location.search).split("?")[0];-1!==n.indexOf(".html")&&(n=n.substring(0,n.lastIndexOf("/")+1));let r=e?Lt.CONTENT_PROXY+"https://client.openaudiomc.net/":n,o=await fetch(r+t+"?v=1336");return 200===o.status||e?(await o.text()).split("\n"):(i("Using fetch fail over for lang"),await window.openAudioMc.messageModule.fetchWithFailover(t,!0))}async load(t){if(this.currentLangFile===t)return;let e=[];e=await window.openAudioMc.messageModule.fetchWithFailover(t);for(let t,n=0;n<e.length;n++){if(t=e[n],t.startsWith("#")||5>t.length)continue;let r=!1,i="",o="";for(let e,n=0;n<t.length;n++)e=t[n],r?o+=e:"="===e?r=!0:i+=e;""!==o&&(window.openAudioMc.messageModule.messages[i]=o)}if(this.currentLangFile=t,window.openAudioMc.messageModule.seeded){for(let t,e=0;e<window.openAudioMc.messageModule.seededValues.length;e++)t=window.openAudioMc.messageModule.seededValues[e],window.openAudioMc.messageModule.renderKeyToDom(t.key,t.value,t.placeholders);window.openAudioMc.messageModule.updateBanner()}window.openAudioMc.settingsManager&&window.openAudioMc.settingsManager.reload()}}class sn{constructor(t){this.openAudioMc=t,this.isEnabled=!1,this.isOpen=!1,setInterval(()=>{this._pushWs("ping","ping")},1e3)}enable(){this.isEnabled||(this.isEnabled=!0,this.ws=new WebSocket("ws://localhost:4783/ws"),this.ws.onclose=()=>{this.isOpen=!1,this.isEnabled&&(this.isEnabled=!1,i("Streamer socket died. Reconnectin in 500 ms"),setTimeout(()=>{this.enable()},500))},this.ws.onopen=()=>{this.isOpen=!0,i("Connected to streamer socket!"),null!=this.openAudioMc.voiceModule&&this.openAudioMc.voiceModule.peerMap.forEach(t=>{this.announceVoicePeerJoin(t.asSimpleJson())}),this._pushWs("connect","connect")})}announceVoicePeerJoin(t){this._pushWs("peer_join",t.asSimpleJson())}announceVoicePeerTalkingStart(t){this._pushWs("peer_start_talking",t.asSimpleJson())}announceVoicePeerTalkingStop(t){this._pushWs("peer_stop_talking",t.asSimpleJson())}announceVoicePeerLeave(t){this._pushWs("peer_leave",t.asSimpleJson())}_pushWs(t,e){this.isOpen&&(i("Writing streamer event:"+t),this.ws.send(JSON.stringify({openaudiomc:{type:t,data:e}})))}}var an=n(0),un=n(66),cn=n(30);const ln=st.prototype;ln.append=function(t,e){this._pairs.push([t,e])},ln.toString=function(t){const e=t?function(e){return t.call(this,e,ot)}:ot;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var hn=st,fn=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){an.a.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},dn=n(2),pn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gn="undefined"==typeof URLSearchParams?hn:URLSearchParams,mn=FormData;const yn=(()=>{let t;return("undefined"==typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&"undefined"!=typeof window&&"undefined"!=typeof document})(),vn="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var bn={isBrowser:!0,classes:{URLSearchParams:gn,FormData:mn,Blob:Blob},isStandardBrowserEnv:yn,isStandardBrowserWebWorkerEnv:vn,protocols:["http","https","file","blob","url","data"]},wn=function(t){function e(t,n,r,i){let o=t[i++];const s=Number.isFinite(+o),a=i>=t.length;if(o=!o&&an.a.isArray(r)?r.length:o,a)return r[o]=an.a.hasOwnProp(r,o)?[r[o],n]:n,!s;r[o]&&an.a.isObject(r[o])||(r[o]=[]);return e(t,n,r[o],i)&&an.a.isArray(r[o])&&(r[o]=function(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}(r[o])),!s}if(an.a.isFormData(t)&&an.a.isFunction(t.entries)){const n={};return an.a.forEachEntry(t,(t,r)=>{e(function(t){return an.a.matchAll(/\w+|\[(\w*)]/g,t).map(t=>"[]"===t[0]?"":t[1]||t[0])}(t),r,n,0)}),n}return null};const Sn={"Content-Type":void 0},En={transitional:pn,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=-1<n.indexOf("application/json"),i=an.a.isObject(t);i&&an.a.isHTMLForm(t)&&(t=new FormData(t));if(an.a.isFormData(t))return r&&r?JSON.stringify(wn(t)):t;if(an.a.isArrayBuffer(t)||an.a.isBuffer(t)||an.a.isStream(t)||an.a.isFile(t)||an.a.isBlob(t))return t;if(an.a.isArrayBufferView(t))return t.buffer;if(an.a.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(-1<n.indexOf("application/x-www-form-urlencoded"))return function(t,e){return Object(cn.a)(t,new bn.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return bn.isNode&&an.a.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((o=an.a.isFileList(t))||-1<n.indexOf("multipart/form-data")){const e=this.env&&this.env.FormData;return Object(cn.a)(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||r?(e.setContentType("application/json",!1),function(t,e,n){if(an.a.isString(t))try{return(e||JSON.parse)(t),an.a.trim(t)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||En.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(t&&an.a.isString(t)&&(n&&!this.responseType||r)){const n=e&&e.silentJSONParsing;try{return JSON.parse(t)}catch(e){if(!n&&r){if("SyntaxError"===e.name)throw dn.a.from(e,dn.a.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bn.classes.FormData,Blob:bn.classes.Blob},validateStatus:function(t){return 200<=t&&300>t},headers:{common:{Accept:"application/json, text/plain, */*"}}};an.a.forEach(["delete","get","head"],(function(t){En.headers[t]={}})),an.a.forEach(["post","put","patch"],(function(t){En.headers[t]=an.a.merge(Sn)}));var xn=En;const Mn=an.a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const On=Symbol("internals");class An{constructor(t){t&&this.set(t)}set(t,e,n){function r(t,e,n){const r=ct(e);if(!r)throw new Error("header name must be a non-empty string");const o=an.a.findKey(i,r);o&&void 0!==i[o]&&!0!==n&&(void 0!==n||!1===i[o])||(i[o||e]=lt(t))}const i=this,o=(t,e)=>an.a.forEach(t,(t,n)=>r(t,n,e));return an.a.isPlainObject(t)||t instanceof this.constructor?o(t,e):an.a.isString(t)&&(t=t.trim())&&!function(t){return/^[-_a-zA-Z]+$/.test(t.trim())}(t)?o((t=>{const e={};let n,r,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),n=t.substring(0,i).trim().toLowerCase(),r=t.substring(i+1).trim(),!n||e[n]&&Mn[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e})(t),e):null!=t&&r(e,t,n),this}get(t,e){if(t=ct(t)){const n=an.a.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(let r;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(an.a.isFunction(e))return e.call(this,t,n);if(an.a.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=ct(t)){const n=an.a.findKey(this,t);return!(!n||e&&!ht(0,this[n],n,e))}return!1}delete(t,e){function n(t){if(t=ct(t)){const n=an.a.findKey(r,t);n&&(!e||ht(0,r[n],n,e))&&(delete r[n],i=!0)}}const r=this;let i=!1;return an.a.isArray(t)?t.forEach(n):n(t),i}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(t){const e=this,n={};return an.a.forEach(this,(r,i)=>{const o=an.a.findKey(n,i);if(o)return e[o]=lt(r),void delete e[i];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,n)=>e.toUpperCase()+n)}(i):(i+"").trim();s!==i&&delete e[i],e[s]=lt(r),n[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return an.a.forEach(this,(n,r)=>{null!=n&&!1!==n&&(e[r]=t&&an.a.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(t=>n.set(t)),n}static accessor(t){function e(t){const e=ct(t);n[e]||(function(t,e){const n=an.a.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(t,n,i){return this[r].call(this,e,t,n,i)},configurable:!0})})}(r,t),n[e]=!0)}const n=(this[On]=this[On]={accessors:{}}).accessors,r=this.prototype;return an.a.isArray(t)?t.forEach(e):e(t),this}}An.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),an.a.freezeMethods(An.prototype),an.a.freezeMethods(An);var kn=An;an.a.inherits(pt,dn.a,{__CANCEL__:!0});var Tn=pt,_n=bn.isStandardBrowserEnv?{write:function(t,e,n,r,i,o){const s=[];s.push(t+"="+encodeURIComponent(e)),an.a.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),an.a.isString(r)&&s.push("path="+r),an.a.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Cn=bn.isStandardBrowserEnv?function(){function t(t){let r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;return r=t(window.location.href),function(e){const n=an.a.isString(e)?t(e):e;return n.protocol===r.protocol&&n.host===r.host}}():function(){return!0},Pn=function(t,e){t=t||10;const n=Array(t),r=Array(t);let i,o=0,s=0;return e=void 0===e?1e3:e,function(a){const u=Date.now(),c=r[s];i||(i=u),n[o]=a,r[o]=u;let l=s,h=0;for(;l!=o;)h+=n[l++],l%=t;if(o=(o+1)%t,o==s&&(s=(s+1)%t),!(u-i<e)){const t=c&&u-c;return t?At(1e3*h/t):void 0}}};const Rn={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){function r(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}function i(){if(c){const i=kn.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());(function(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new dn.a("Request failed with status code "+n.status,[dn.a.ERR_BAD_REQUEST,dn.a.ERR_BAD_RESPONSE][kt(n.status/100)-4],n.config,n.request,n)):t(n)})((function(t){e(t),r()}),(function(t){n(t),r()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:i,config:t,request:c}),c=null}}let o=t.data;const s=kn.from(t.headers).normalize(),a=t.responseType;let u;an.a.isFormData(o)&&(bn.isStandardBrowserEnv||bn.isStandardBrowserWebWorkerEnv)&&s.setContentType(!1);let c=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",n=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(e+":"+n))}const l=gt(t.baseURL,t.url);if(c.open(t.method.toUpperCase(),ut(l,t.params,t.paramsSerializer),!0),c.timeout=t.timeout,"onloadend"in c?c.onloadend=i:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(i)},c.onabort=function(){c&&(n(new dn.a("Request aborted",dn.a.ECONNABORTED,t,c)),c=null)},c.onerror=function(){n(new dn.a("Network Error",dn.a.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const r=t.transitional||pn;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new dn.a(e,r.clarifyTimeoutError?dn.a.ETIMEDOUT:dn.a.ECONNABORTED,t,c)),c=null},bn.isStandardBrowserEnv){const e=(t.withCredentials||Cn(l))&&t.xsrfCookieName&&_n.read(t.xsrfCookieName);e&&s.set(t.xsrfHeaderName,e)}void 0===o&&s.setContentType(null),"setRequestHeader"in c&&an.a.forEach(s.toJSON(),(function(t,e){c.setRequestHeader(e,t)})),an.a.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),a&&"json"!==a&&(c.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&c.addEventListener("progress",mt(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",mt(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=e=>{c&&(n(!e||e.type?new Tn(null,t,c):e),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const h=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(l);return h&&-1===bn.protocols.indexOf(h)?void n(new dn.a("Unsupported protocol "+h+":",dn.a.ERR_BAD_REQUEST,t)):void c.send(o||null)}))}};an.a.forEach(Rn,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(e){}Object.defineProperty(t,"adapterName",{value:e})}});var In={getAdapter:t=>{t=an.a.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let i=0;i<e&&(n=t[i],!(r=an.a.isString(n)?Rn[n.toLowerCase()]:n));i++);if(!r){if(!1===r)throw new dn.a(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(an.a.hasOwnProp(Rn,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!an.a.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Rn};const Nn=t=>t instanceof kn?t.toJSON():t,Bn={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Bn[t]=function(n){return typeof n===t||"a"+(1>e?"n ":" ")+t}});const jn={};Bn.transitional=function(t,e,n){function r(t,e){return"[Axios v1.2.1] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,i,o)=>{if(!1===t)throw new dn.a(r(i," has been removed"+(e?" in "+e:"")),dn.a.ERR_DEPRECATED);return e&&!jn[i]&&(jn[i]=!0,console.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,o)}};var Fn={assertOptions:function(t,e,n){if("object"!=typeof t)throw new dn.a("options must be an object",dn.a.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);for(let i=r.length;0<i--;){const o=r[i],s=e[o];if(s){const e=t[o],n=void 0===e||s(e,o,t);if(!0!==n)throw new dn.a("option "+o+" must be "+n,dn.a.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new dn.a("Unknown option "+o,dn.a.ERR_BAD_OPTION)}},validators:Bn};const Dn=Fn.validators;class Ln{constructor(t){this.defaults=t,this.interceptors={request:new fn,response:new fn}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=bt(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:i}=e;let o;void 0!==n&&Fn.assertOptions(n,{silentJSONParsing:Dn.transitional(Dn.boolean),forcedJSONParsing:Dn.transitional(Dn.boolean),clarifyTimeoutError:Dn.transitional(Dn.boolean)},!1),void 0!==r&&Fn.assertOptions(r,{encode:Dn.function,serialize:Dn.function},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase(),o=i&&an.a.merge(i.common,i[e.method]),o&&an.a.forEach(["delete","get","head","post","put","patch","common"],t=>{delete i[t]}),e.headers=kn.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const u=[];this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)}));let c,l,h=0;if(!a){const t=[vt.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,u),l=t.length,c=Promise.resolve(e);h<l;)c=c.then(t[h++],t[h++]);return c}l=s.length;let f=e;for(h=0;h<l;){const e=s[h++],n=s[h++];try{f=e(f)}catch(t){n.call(this,t);break}}try{c=vt.call(this,f)}catch(t){return Promise.reject(t)}for(h=0,l=u.length;h<l;)c=c.then(u[h++],u[h++]);return c}getUri(t){return ut(gt((t=bt(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}an.a.forEach(["delete","get","head","options"],(function(t){Ln.prototype[t]=function(e,n){return this.request(bt(n||{},{method:t,url:e,data:(n||{}).data}))}})),an.a.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(bt(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ln.prototype[t]=e(),Ln.prototype[t+"Form"]=e(!0)}));var Un=Ln;class Vn{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then(t=>{if(n._listeners){for(let e=n._listeners.length;0<e--;)n._listeners[e](t);n._listeners=null}}),this.promise.then=t=>{let e;const r=new Promise(t=>{n.subscribe(t),e=t}).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,i){n.reason||(n.reason=new Tn(t,r,i),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){return this.reason?void t(this.reason):void(this._listeners?this._listeners.push(t):this._listeners=[t])}unsubscribe(t){if(this._listeners){const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}}static source(){let t;return{token:new Vn((function(e){t=e})),cancel:t}}}const zn=function t(e){const n=new Un(e),r=Object(un.a)(Un.prototype.request,n);return an.a.extend(r,Un.prototype,n,{allOwnKeys:!0}),an.a.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(bt(e,n))},r}(xn);zn.Axios=Un,zn.CanceledError=Tn,zn.CancelToken=Vn,zn.isCancel=dt,zn.VERSION="1.2.1",zn.toFormData=cn.a,zn.AxiosError=dn.a,zn.Cancel=zn.CanceledError,zn.all=function(t){return Promise.all(t)},zn.spread=function(t){return function(e){return t.apply(null,e)}},zn.isAxiosError=function(t){return an.a.isObject(t)&&!0===t.isAxiosError},zn.mergeConfig=bt,zn.AxiosHeaders=kn,zn.formToJSON=t=>wn(an.a.isHTMLForm(t)?new FormData(t):t),zn.default=zn;let Hn=null;const Wn={build:"1336",compiler:"Tim",platform:"Production",environment:"macOS",isProd:JSON.parse("true"),envDescription:"default-prod"};window.debugHooks={},N(()=>{window.debugUi.addPanel(se.UI,()=>"componentElementCache="+Object.keys(Pt).length+", propertyCache="+Object.keys(Rt).length)});class Gn extends class extends class{constructor(){console.log("%c Made with love. Take note! this is a bundled version of OpenAudioMc. To get the full source code, please visit https://github.com/Mindgamesnl/OpenAudioMc","background: linear-gradient(#D33106, #571402);border: 1px solid #3E0E02;color: white;display: block;text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3);box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4) inset, 0 5px 3px -5px rgba(0, 0, 0, 0.5), 0 -13px 5px -10px rgba(255, 255, 255, 0.4) inset;line-height: 40px;text-align: center;font-weight: bold"),this.log("Enabling the web client for "+window.navigator.userAgent)}}{log(t){i(t)}getMessages(){return this.messages}getTimeService(){return this.timeService}getHueConfiguration(){return this.hueConfiguration}debugPrint(t){this.log(t)}getMediaManager(){return this.mediaManager}getHueModule(){return this.hueModule}getUserInterfaceModule(){return this.userInterfaceModule}}{constructor(t=!1){return super(),i("Starting build "+JSON.stringify(Wn)),this.messageModule=new on,this.isTesting=t,this.canStart=!1,this.host=null,this.background=null,this.ambianceSound="",this.directorFinished=!1,this.isPatreon=!1,this.tokenSet=(new Ut).fromCache(),null==this.tokenSet?void i("Stopping with bad auth"):(console.log("[DCR] OpenAudioMC.js this.tokenset 68 = "+JSON.stringify(this.tokenSet,null,4)),i("Resuming boot"),Hn=this.tokenSet,this.notificationModule=new Pe(this),this.timeService=new le,this.userInterfaceModule=new he(this),this.hueConfiguration=new Ae(this),this.mediaManager=new be(this),this.voiceModule=new rn(this),this.streamerLink=new sn(this),A("preparing session, welcome "+this.tokenSet.name),i("Setting direcot"),this.director=new Ce(Lt.MAIN_BACKEND),i("Calling route"),void this.director.route(this).then(async t=>{if(console.log("[DCR] OpenAudioMC.js = "+JSON.stringify(t,null,4)),A("Loading language, welcome "+this.tokenSet.name),await this.messageModule.load("en.lang"),"Notification"in window&&this.notificationModule.setupPermissions(),this.hueModule=new Wt(this,Object(Gt.a)()),this.settingsManager=new $t(this),this.messageModule.seedStatic([["%player",this.tokenSet.name],["%server",t.serverName]]),t.useTranslations){i("Enabling automatic translations");try{await this.messageModule.handleCountry(new Intl.Locale(navigator.language).language)}catch(e){console.error("Failed to load translations ",e)}}this.serverName=t.serverName,this.canStart=!0,this.host=t.host,this.background=t.background,this.ambianceSound=t.ambianceSound,this.isPatreon=t.isPatreon,i("Server: "+t.serverName),N(()=>{window.debugUi.addPanel(se.ACCOUNT,"cached="+t.fromCache+", pc="+t.playerCount+", claimed="+t.claimed+", sfu="+t.host+", rtc="+t.rtc)});let e=Cookies.get("volume");null==e?this.mediaManager.changeVolume(25):this.mediaManager.changeVolume(e),this.isPatreon?(i("This server is supporting the project on Patreon! that's awesome!"),document.getElementById("premium-pill").style.display=""):document.getElementById("free-pill").style.display="",s("{{ craftmend.account.serverName }}",t.serverName),setTimeout(()=>{o("{{ oam.loader_style }}","display: none;","style")},250),this.directorFinished=!0}).catch(t=>{console.error(t),this.isTesting||this.userInterfaceModule.kickScreen("Your current URL appears to be invalid. Please request a new one in-game using the /audio command. If this issue if persists please contact a member of staff."),this.directorFinished=!0}))}showLoginScreen(){o("{{ oam.loader_style }}","display: -;","style"),o("{{ oam.login_style }}","display: -;","style")}async start(){(this.canStart||this.isTesting)&&(this.canStart=!1,this.world=new Ue(this),this.socketModule=new qt(this,this.host),await this.mediaManager.setupAmbianceSound(this.ambianceSound),this.mediaManager.postBoot(),new Oe(this),""!==this.background&&(o("{{ oam.side_image }}",this.background),o("{{ oam.bg_image_map }}","--bg-map:url('"+this.background+"');")),this.mediaManager.postBoot())}sendError(t){M(t,this.tokenSet.name)}}A("Client aan het laden...."),window.onload=function(){A("loading assets..."),Wn.isProd||I(),N(()=>{window.debugUi.addPanel(se.LOG,()=>Ct.join("\n"))}),o("{{ oam.side_image }}","assets/bg.jpg","src"),o("{{ oam.logo_image }}","assets/logo.png","src"),o("{{ oam.bg_image_map }}","--bg-map:url('../assets/bg.jpg');","style"),s("{{ oam.hue_bridge_name }}","No bridge"),A("logging in..."),(new Ut).initialize().then(t=>null==t?(o("{{ oam.loader_style }}","display: -;","style"),o("{{ oam.login_style }}","display: -;","style"),o("{{ oam.loader_status }}","display: none;","style"),void M("A faulty login attempt was done at "+window.location.host,"Steve")):(N(()=>{window.debugUi.addPanel(se.SESSION,t.name+"@"+t.publicServerKey+"/"+t.scope)}),null!=t&&null!=t.name&&(o("{{ oam.player_head }}","https://visage.surgeplay.com/bust/"+t.uuid+"?overlay","src"),s("{{ oam.player_name }}",t.name),Vt=new Gn,window.openAudioMc=Vt),void document.body.addEventListener("click",O))).catch(console.error)},window.onhashchange=()=>window.location.reload(),"toJSON"in Error.prototype||Object.defineProperty(Error.prototype,"toJSON",{value:function(){var t={};return Object.getOwnPropertyNames(this).forEach((function(e){t[e]=this[e]}),this),t},configurable:!0,writable:!0})}]);